{"id":603131,"title":"15｜小试牛刀：如何制作简单计算器？","content":"<p><strong>课后习题</strong><br>\n请你参考本讲案例，编写一个支持浮点数的四则运算计算器。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":390756,"user_name":"辛西娅","can_delete":false,"product_type":"c3","uid":3891152,"ip_address":"山西","ucode":"606E98101B85EB","user_header":"https://static001.geekbang.org/account/avatar/00/3b/5f/d0/b332dc51.jpg","comment_is_top":false,"comment_ctime":1716192686,"is_pvip":false,"replies":[{"id":142157,"content":"可以参考一下其他同学的回复代码，你也可以将代码完整上传到留言区或学习群，我可以根据你的答案做一些更详细的回复","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1716564281,"ip_address":"广东","comment_id":390756,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"老师，答案在哪里啊","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645706,"discussion_content":"可以参考一下其他同学的回复代码，你也可以将代码完整上传到留言区或学习群，我可以根据你的答案做一些更详细的回复","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716564281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362478,"user_name":"xinn","can_delete":false,"product_type":"c3","uid":2809426,"ip_address":"美国","ucode":"4F1F78839D3C9B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/de/52/816a6bc3.jpg","comment_is_top":false,"comment_ctime":1668565493,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"原来的代码本来就可以处理浮点运算？\n#num1和num2是整数或者浮点数都可以\nnum1 = input(&quot;请输入第一个数：&quot;)\nnum2 = input(&quot;请输入第二个数：&quot;)\nlabel = input(&quot;请输入运算符号：&quot;)\nresult = eval(f&quot;{num1}{label}{num2}&quot;)\nprint(f&quot;结果是：{result}&quot;)","like_count":9},{"had_liked":false,"id":370389,"user_name":"Geek_1b4c9f","can_delete":false,"product_type":"c3","uid":2988029,"ip_address":"湖北","ucode":"6868F8A5B103DA","user_header":"","comment_is_top":false,"comment_ctime":1678779349,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"#计算两个浮点数的四则运算\nvar1 = float(input(&quot;请输入第一个数：\\n&quot;))\nop = input(&quot;请输入运算符：\\n&quot;)\nvar2 = float(input(&quot;请输入第二个数：\\n&quot;))\nsum = float(eval(f&quot;{var1}{op}{var2}&quot;))\nprint(f&quot;两数的计算结果为：{sum}\\n&quot;)","like_count":3},{"had_liked":false,"id":379243,"user_name":"acondess","can_delete":false,"product_type":"c3","uid":3628115,"ip_address":"浙江","ucode":"D9145C65C73AAC","user_header":"","comment_is_top":false,"comment_ctime":1691589362,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 练习：支持浮点数的计算器\nx=input(&quot;输入第一个值&quot;)\ny=input(&quot;输入第二个值&quot;)\nop=input(&quot;输入运算符&quot;)\nif y==&#39;0&#39; and op ==&#39;&#47;&#39;:\n    print(&quot;除数不能为0&quot;)\nelif x.isdigit() &amp; y.isdigit()  &amp; (op==&#39;+&#39; or op ==&#39;-&#39; or op ==&#39;*&#39; or op ==&#39;&#47;&#39;):\n    result = eval(f&quot;{x}{op}{y}&quot;)\n    print(result)\nelif x.count(&#39;.&#39;)==1:\n    result = eval(f&quot;{x}{op}{y}&quot;)\n    print(result)\nelse:\n    print(&quot;error input&quot;)","like_count":3},{"had_liked":false,"id":365445,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1672565258,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 四则运算计算器\nnum1 = input(&#39;请输入数字1 ： &#39;)\nnum2 = input(&#39;请输入数字2 ： &#39;)\nop = input(&#39;输入( + - * &#47; )四则运算符 : &#39;)\n# 用函数 eval 计算字符表达式\nprint (num1 ,op , num2, &#39;=&#39;, eval(f&#39;{num1} {op} {num2}&#39; ))","like_count":2},{"had_liked":false,"id":379204,"user_name":"Geek_！","can_delete":false,"product_type":"c3","uid":3028083,"ip_address":"四川","ucode":"3F10539EA5975B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/34/73/712f20bf.jpg","comment_is_top":false,"comment_ctime":1691548001,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"了解了判断和循环后试了一下\n\nwhile True:\n    num1 = float(input(&#39;请输入第一个数字：&#39;))\n    num2 = float(input(&#39;请输入第二个数字：&#39;))\n    op = input(&#39;请输入运算符：&#39;)\n    if op != &#39;+&#39; and op != &#39;-&#39; and op != &#39;*&#39; and op != &#39;&#47;&#39;:\n        print(&#39;请输入正确的运算符：（+ - * &#47;）&#39;)\n    else:\n        print(eval(f&#39;{num1}{op}{num2}&#39;))\n        a = input(&#39;是否需要继续计算？（N&#47;Y）&#39;)\n        if a == &#39;N&#39; or a == &#39;n&#39;:\n            break","like_count":1},{"had_liked":false,"id":378257,"user_name":"凡之","can_delete":false,"product_type":"c3","uid":2863876,"ip_address":"北京","ucode":"1EA24BB5780C5C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/b3/04/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1689951529,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"#支持浮点数的四则计算器\nnum1 = input(&quot;请输入第一个数字: &quot;)\nnum2 = input(&quot;请输入第二个数字：&quot;)\noperator = input(&quot;请输入运算符： &quot;)\nop = eval(f&quot;{num1} {operator} {num2}&quot;)\nprint(f&quot;{num1} {operator} {num2} 的结果是: {op:.2f}&quot;)","like_count":1},{"had_liked":false,"id":364411,"user_name":"不赢不舒服斯基","can_delete":false,"product_type":"c3","uid":3008505,"ip_address":"四川","ucode":"C2AC899AA31E28","user_header":"https://static001.geekbang.org/account/avatar/00/2d/e7/f9/c16951cd.jpg","comment_is_top":false,"comment_ctime":1670935646,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"这里用浮点数运算得到的结果和预期的值不匹配。","like_count":1},{"had_liked":false,"id":390723,"user_name":"RevivalKX","can_delete":false,"product_type":"c3","uid":2867122,"ip_address":"安徽","ucode":"99BC9626637749","user_header":"https://static001.geekbang.org/account/avatar/00/2b/bf/b2/33a0f437.jpg","comment_is_top":false,"comment_ctime":1716101340,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"#两个数字的四则运算\nnum1 = input ( &quot;请输入第一个数字：&quot; )             #定义第一个变量num1\nop = input ( &quot;请输入运算符号：&quot; )                 #定义第二个变量op\nnum2 = input ( &quot;请输入第二个数字：&quot; )             #定义第三个变量num2\njg = eval ( f&quot;{num1} {op} {num2}&quot; )            #定义第四个变量jg，并进行相应的计算\nprint ( num1 , op , num2 , &quot;=&quot; , jg )          #输出结果\njx = input ( &quot;请问是否要继续使用（Y&#47;N）：&quot; )       #是否继续使用加计算器\nwhile jx == &quot;Y&quot; :\n    num1 = input ( &quot;请重新输入第一个数字：&quot; )      #定义第一个变量num1\n    op = input ( &quot;请重新输入运算符号：&quot; )          #定义第二个变量op\n    num2 = input ( &quot;请重新输入第二个数字：&quot; )      #定义第三个变量num2\n    jg = eval ( f&quot;{num1} {op} {num2}&quot; )        #定义第四个变量jg，并进行相应的计算\n    print ( num1 , op , num2 , &quot;=&quot; , jg )      #输出结果\n    jx = input ( &quot;请问是否要继续使用（Y&#47;N）：&quot; )   #是否继续使用加计算器\nprint ( &quot;感谢使用！！！&quot; )","like_count":1},{"had_liked":false,"id":384641,"user_name":"Geek_1e9b5c","can_delete":false,"product_type":"c3","uid":3786954,"ip_address":"广东","ucode":"C634A7C49DFE9B","user_header":"","comment_is_top":false,"comment_ctime":1701264571,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 程序设计包括：需求分析、代码编写、测试、维护和迭代\n# 文档和搜索引擎对分析问题的作用\n# 写好注释，有助于维护代码\n\n# 数字的四则运算计算器，支持整数和浮点数\nnum1 = input(&quot;请输入数字&quot;)\nnum2 = input(&quot;请输入数字&quot;)\noperator = input(&quot;请输入四则运算符&quot;)\nresult = eval(f&quot;{num1}{operator}{num2}&quot;)\nprint(f&quot;计算结果为：{result}&quot;)","like_count":0},{"had_liked":false,"id":379242,"user_name":"acondess","can_delete":false,"product_type":"c3","uid":3628115,"ip_address":"浙江","ucode":"D9145C65C73AAC","user_header":"","comment_is_top":false,"comment_ctime":1691589020,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# 练习：支持浮点数的计算器\nx=input(&quot;输入第一个值&quot;)\ny=input(&quot;输入第二个值&quot;)\nop=input(&quot;输入运算符&quot;)\nif x.isdigit() &amp; y.isdigit()  &amp; (op==&#39;+&#39; or op ==&#39;-&#39; or op ==&#39;*&#39; or op ==&#39;&#47;&#39;):\n    result = eval(f&quot;{x}{op}{y}&quot;)\n    print(result)\nelif x.count(&#39;.&#39;)==1:\n    result = eval(f&quot;{x}{op}{y}&quot;)\n    print(result)\nelse:\n    print(&quot;error input&quot;)","like_count":0},{"had_liked":false,"id":378911,"user_name":"空身而来空身去","can_delete":false,"product_type":"c3","uid":3021250,"ip_address":"江苏","ucode":"A96E319F94FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/19/c2/2a9c7dad.jpg","comment_is_top":false,"comment_ctime":1690969019,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"num=input(&quot;输入计算式&quot;)\nprint(&quot;=&quot;+str(eval(f&quot;{num}&quot;)))","like_count":0},{"had_liked":false,"id":378045,"user_name":"Geek_219b52","can_delete":false,"product_type":"c3","uid":1524531,"ip_address":"浙江","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1689689379,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"#支持浮点数的四则运算计算器\nfloat1 = input(&quot;请输入一个浮点数&quot;)\nfloat2 = input(&quot;请再次输入一个浮点数&quot;)\nop = input(&quot;请输入一个四则运算符&quot;)\nresult = eval(f&quot;{float1}{op}{float2}&quot;)\nprint(f&quot;result的结果是:{result}&quot;)","like_count":0},{"had_liked":false,"id":377675,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1688999705,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"num1 = input(&quot;请输入一个数字&quot;)\nnum2 = input(&quot;请输入一个数字&quot;)\nop = input(&quot;请输入运算符&quot;)\nresult = eval(f&quot;{float(num1)}{op}{float(num2)}&quot;)\nprint(f&quot;计算结果为:{result}&quot;)","like_count":0},{"had_liked":false,"id":376555,"user_name":"木   乐","can_delete":false,"product_type":"c3","uid":1726899,"ip_address":"广东","ucode":"275FA32F8E8522","user_header":"https://static001.geekbang.org/account/avatar/00/1a/59/b3/893265e1.jpg","comment_is_top":false,"comment_ctime":1686919020,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"#包含浮点数的两个数的四则运算计算器\nnum1 = input(&quot;输入第一个数&quot;)\nnum2 = input(&quot;输入第二个数&quot;)\nop = input(&quot;输入运算符&quot;)\nfrom decimal import *\nprint(Decimal(f&quot;计算结果为{num1}{op}{num2}&quot;))\n这个可以嘛","like_count":0},{"had_liked":false,"id":375234,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1685095102,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# 对两个数字进行四则运算，数字和运算符由用户输入\nx = input(&quot;请输入第一个数字：&quot;)\ny = input(&quot;请输入第二个数字：&quot;)\nop = input(&quot;请输入四则运算符：&quot;)\nsum = eval(f&quot;{x} {op} {y}&quot;)\nprint(f&quot;{x} {op} {y} = {sum}&quot;)","like_count":0},{"had_liked":false,"id":373069,"user_name":"卡曼橘味气泡水","can_delete":false,"product_type":"c3","uid":3601829,"ip_address":"黑龙江","ucode":"F5C4FA8D44995E","user_header":"https://static001.geekbang.org/account/avatar/00/36/f5/a5/b1625ff4.jpg","comment_is_top":false,"comment_ctime":1681985688,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"num1 = input(&#39;请输入第一个数&#39;)\nnote = input(&#39;请输入运算符&#39;)\nnum3 = input(&#39;请输入第二个数&#39;)\nsum = eval(f&#39;{num1}{note}{num3}&#39;)\nprint(num1,note,num3,&#39;=&#39;,sum)","like_count":0},{"had_liked":false,"id":372706,"user_name":"浪客剑心","can_delete":false,"product_type":"c3","uid":1010152,"ip_address":"浙江","ucode":"669FC45EFE364A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/69/e8/1eed6544.jpg","comment_is_top":false,"comment_ctime":1681457730,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"#计算两个整数的四则运算器\nprint(&quot;简易计算器\\n&quot;)\nnum1 = input(&quot;请输入一个数字：&quot;)\nnum2 = input(&quot;请再输入一个数字：&quot;)\nop = input(&quot;运算符为：&quot;)\nresult = eval(f&quot;{num1}{op}{num2}&quot;)\nprint(f&quot;结果为{result}&quot;)","like_count":0},{"had_liked":false,"id":369770,"user_name":"跳哥爱学习","can_delete":false,"product_type":"c3","uid":2263623,"ip_address":"四川","ucode":"59AD5282490D50","user_header":"https://static001.geekbang.org/account/avatar/00/22/8a/47/82c7c347.jpg","comment_is_top":false,"comment_ctime":1677916222,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"num1=float(input(&quot;请输入第一个数字,支持小数:&quot;))\nnum2=float(input(&quot;请输入第一个数字,支持小数:&quot;))\noption=input(&quot;请输入+\\-\\*\\÷运算符&quot;)\nresult=eval(f&#39;{num1} {option} {num2}&#39;)\nprint(f&quot;第一个数字是{num1},第二个数字是{num2},使用的运算符是{option},运算结果是{result}&quot;)","like_count":0},{"had_liked":false,"id":368843,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1676795500,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"num01 = input(&quot;请输入第一个整数：&quot;)\nnum02 = input(&quot;请输入第一个整数：&quot;)\noperator = input(&quot;请输入需要进行的运算符号：&quot;)\nresult = eval(f&quot;{float(num01)}{operator}{float(num02)}&quot;)\nprint(f&quot;计算的结果为：{result}&quot;)","like_count":0},{"had_liked":false,"id":365936,"user_name":"Дяд","can_delete":false,"product_type":"c3","uid":3220603,"ip_address":"浙江","ucode":"6B28D6193B1860","user_header":"https://static001.geekbang.org/account/avatar/00/31/24/7b/b3538261.jpg","comment_is_top":false,"comment_ctime":1673249083,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"# num1 = float ( input ( &quot;输入第一个数：&quot;))\n# num2 = float(input(&quot;输入第二个数：&quot;))\n# num3 = input(&quot;请输入要进行的计算符(-,+,*,&#47;,&#47;&#47;,**)：&quot;)\n# print(f&quot;{num1}{num3}{num2}等于：&quot;, eval(f&quot;{num1}{num3}{num2}&quot;))","like_count":0},{"had_liked":false,"id":365301,"user_name":"笑笑de爸","can_delete":false,"product_type":"c3","uid":3234752,"ip_address":"北京","ucode":"C26B3524E1C624","user_header":"https://static001.geekbang.org/account/avatar/00/31/5b/c0/13b19797.jpg","comment_is_top":false,"comment_ctime":1672358743,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"#实现两个整数的简单四则运算\n\nnum1 = int(input(&quot;请输入第一个整数:\\n&quot;))\nnum2 = int(input(&quot;请输入第二个整数:\\n&quot;))\noper = input(&quot;请输入运算符 (+, -, *, &#47;): \\n&quot;)\n\nprint(f&quot;{num1}{oper}{num2}的结果是:&quot; + str(eval(f&quot;{num1}{oper}{num2}&quot;)))","like_count":0},{"had_liked":false,"id":363950,"user_name":"蔡森冉","can_delete":false,"product_type":"c3","uid":1744834,"ip_address":"云南","ucode":"2A310A91069A5E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9f/c2/3d1c2f88.jpg","comment_is_top":false,"comment_ctime":1670384143,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"a=int(input(&quot;请输入一个整数：&quot;))\nc=int(input(&quot;请输入一个整数：&quot;))\nb=input(&quot;请输入运算符（+、-、*、&#47;）：&quot;)\nresult=eval(f&quot;{a}{b}{c}&quot;)\nprint(f&quot;{a}{b}{c}={result}&quot;)","like_count":0},{"had_liked":false,"id":363289,"user_name":"怀揣梦想的学渣","can_delete":false,"product_type":"c3","uid":1916685,"ip_address":"山东","ucode":"2349B9F4F6FDE3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","comment_is_top":false,"comment_ctime":1669466115,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"输入的美观度如何调整，例如计算器这个示例，输出结果时，也可以美观简洁的输出计算式。\n我能想到的是\n```\nnum1 = input(&quot;input int number:&quot;)\nnum2 = input(&quot;input int number2:&quot;)\nop = input(&quot;input calculating signs:&quot;)\nresult = eval(f&quot;{num1}{op}{num2}&quot;)\nprint(f&quot;{num1} {op} {num2} =&quot;, result)\n```","like_count":0},{"had_liked":false,"id":363270,"user_name":"长林啊","can_delete":false,"product_type":"c3","uid":1707743,"ip_address":"四川","ucode":"B75CB4919FF25A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/df/a64b3146.jpg","comment_is_top":false,"comment_ctime":1669445049,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":4,"product_id":100310001,"comment_content":"first = int(input(&#39;input first number: &#39;))\nsecond = int(input(&#39;input second number: &#39;))\nos = input(&quot;enter the operation symbol(+、-、*、&#47;): &quot;)\nprint(eval(f&quot;{first}{os}{second}&quot;))","like_count":0},{"had_liked":false,"id":362941,"user_name":"进化菌","can_delete":false,"product_type":"c3","uid":1276861,"ip_address":"北京","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1669047838,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":4,"score":4,"product_id":100310001,"comment_content":"试了一下 print(eval(&quot;12.3+4.56&quot;)) 是可以正常计算的，但是 print(eval(&quot;num+4.56&quot;)) 的时候会报错，提示num没有定义。显然 eval 里面的字符会被当成变量名~\n而且，做运算的时候，还需要判断一下要计算的是不是数值类型，这样代码会更健壮","like_count":0}]}
{"id":267765,"title":"04｜初步定制：让你的 Vim 更顺手","content":"<p>你好，我是吴咏炜。</p><p>在前几讲，我已经介绍了不少 Vim 的常用命令，我想你已经略有心得了吧。今天我们转换一下视角，来讲一下 Vim 这个软件本身。</p><p>作为一个 Vim 的使用者，光熟悉命令是不够的，你还需要定制 Vim。因为每个人的习惯和需求都是不一样的，一个高度定制化的 Vim 环境能大大提高你的工作效率。</p><p>今天，我会先带你了解一下 Vim 的运行支持文件目录结构，然后我们再一起探索 Vim 8 带来的新功能，及如何对 Vim 进行初步配置来使得 Vim 更加好用。</p><h2>Vim 的目录结构</h2><p>Vim 的工作环境是由运行支持文件来设定的。如果你想要定制 Vim，就要熟知 Vim 有哪些不同类型的运行支持文件，分别存放在哪里，怎样能快捷地找到它们。Vim 比较有意思的一点的是，虽然运行支持文件是在 Vim 的安装目录下，但用户自己是可以“克隆”这个目录结构的。也就是说，你自己目录下的用户配置，到你深度定制的时候，也有相似的目录结构。所以，我就先从这些文件的目录结构开始讲起。</p><h3>安装目录下的运行支持文件</h3><p>Vim 的运行支持文件在不同的平台上有着相似的目录结构。以 Vim 8.2 为例，它们的标准安装位置分别在：</p><ul>\n<li>大部分 Unix 下面：/usr/share/vim/vim82</li>\n<li>macOS Homebrew 下：/usr/local/opt/macvim/MacVim.app/Contents/Resources/vim/runtime</li>\n<li>Windows 下：C:\\Program Files (x86)\\Vim\\vim82</li>\n</ul><!-- [[[read_end]]] --><p>在这个目录下面，你可以看到很多子目录，如 autoload、colors、doc、pack、plugin、syntax 等等。这些子目录下面就是分类放置的 Vim 支持文件。最常用的子目录应该是下面这几个：</p><ul>\n<li>syntax：Vim 的语法加亮文件</li>\n<li>doc：Vim 的帮助文件</li>\n<li>colors：Vim 的配色方案</li>\n<li>plugin：Vim 的“插件”，即用来增强 Vim 功能的工具</li>\n</ul><p>以 syntax 目录为例，当前我在下面看到有 617 个文件，也就是说，Vim 对 617 种不同的文件类型提供了语法加亮支持！这里面的文件去掉“.vim”后缀后，就是文件类型的名字，你可以用类似 <code>:setfiletype java</code> 这样的命令来设置文件的类型，从而进行语法加亮。目录下我们可以看到大家都很熟悉的语言，也有很多我从来都没听说过的东西。</p><p>只要有正当的理由，你就可以向 Vim 的作者 Bram 提交改进版本，或是对全新的语言的支持。我就对若干种文件类型提交过补丁，新增了对《计算机编程艺术》中的 MIX 汇编语言的语法支持，并维护着微软宏汇编（MASM）的语法文件。</p><p>在图形界面的 Vim 里，你可以通过“语法 &gt; 在菜单中显示文件类型”（“Syntax &gt; Show File Types in Menu”）来展示 Vim 的所有文件类型，然后可以选择某一类型来对当前文件进行设置。这儿的菜单项，跟 syntax 目录下的文件就基本是一一对应的了。</p><p>在菜单中显示文件类型这个额外的步骤，可能是因为很久很久以前，加载所有文件类型的菜单是一个耗时的操作吧。在 menu.vim 里，目前有这样的代码：</p><pre><code class=\"language-vim\">\" Skip setting up the individual syntax selection menus unless\n\" do_syntax_sel_menu is defined (it takes quite a bit of time).\nif exists(\"do_syntax_sel_menu\")\n  runtime! synmenu.vim\nelse\n  …\nendif\n</code></pre><p>不知道这段注释是什么年代加上的……但显然，我们的电脑已经不会再在乎加载几百个菜单项所占的时间了。即使我不怎么用菜单，我也找不出不直接展示这个菜单的理由；我可不想在需要使用的时候再多点一次鼠标。</p><p>所以，我会在我的 vimrc 文件里写上：</p><pre><code class=\"language-vim\">let do_syntax_sel_menu = 1\n</code></pre><p>同理，我会加载其他一些可能会被 Vim 延迟加载的菜单，减少需要在菜单上点击的次数：</p><pre><code class=\"language-vim\">let do_no_lazyload_menus = 1\n</code></pre><p>上面两个设置在我的机器上会让我打开 Vim 的速度下降大概 20 毫秒。我想我不在乎这点时间差异……</p><p>我们用“<code>:help</code>”命令查看的帮助文件就放在 doc 目录下。我们可以用菜单“编辑 &gt; 配色方案”（“Edit &gt; Color Scheme”）浏览配色方案，相应的文件就在 colors 目录下。</p><p>在 plugin 目录下的系统内置插件不多，我们下面就快速讲解一下：</p><ul>\n<li>getscriptPlugin：获得最新的 Vim 脚本的插件（在目前广泛使用 Git 的年代，这个插件过时了，我们不讲）</li>\n<li>gzip：编辑 .gz 压缩文件（能在编辑后缀为 .gz 的文件时自动解压和压缩，你会感觉不到这个文件是压缩的）</li>\n<li>logiPat：模式匹配的逻辑运算符（允许以逻辑运算、而非标准正则表达式的方式来写模式匹配表达式）</li>\n<li>manpager：使用 Vim 来查看 man 帮助（强烈建议试一下，记得使用 Vim 的跳转键 <code>C-]</code> 和 <code>C-T</code>）</li>\n<li>matchparen：对括号进行高亮匹配（现代编辑器基本都有类似的功能）</li>\n<li>netrwPlugin：从网络上编辑文件和浏览（远程）目录（支持多种常见协议如 ftp 和 scp，可直接打开目录来选择文件）</li>\n<li>rrhelper：用于支持 <code>--remote-wait</code> 编辑（Vim 的多服务器会用到这一功能）</li>\n<li>spellfile：在拼写文件缺失时自动下载（Vim 一般只安装了英文的拼写文件）</li>\n<li>tarPlugin：编辑（压缩的）tar 文件（注意，和 gzip 情况不同，这儿不支持写入）</li>\n<li>tohtml：把语法加亮的结果转成 HTML（自己打开个文件，输入命令“<code>:TOhtml</code>”就知道效果了）</li>\n<li>vimballPlugin：创建和解开 .vba 文件（这个目前也略过时了，我们不讲）</li>\n<li>zipPlugin：编辑 zip 文件（和 tar 文件不同，zip 文件可支持写入）</li>\n</ul><p>除了 rrhelper 和 spellfile 属于功能支持插件，没有自己的帮助页面，其他功能都可以使用“<code>:help</code>”命令来查看帮助。查看帮助时，插件名称中的“Plugin”后缀需要去掉：查看 zip 文件编辑的帮助时，应当使用“<a href=\"https://yianwillis.github.io/vimcdoc/doc/pi_zip.html#zip\"><code>:help zip</code></a>”而不是“<code>:help zipPlugin</code>”。</p><p>从这些插件当中，我们已经可以看到 Vim 的一些特殊威力了吧。下面的动图里，我们可以看到部分插件功能的展示：</p><p><img src=\"https://static001.geekbang.org/resource/image/40/7b/40016fac28fd6b3dd1361c4a9a39a07b.gif?wh=984*736\" alt=\"Fig4.1\" title=\"浏览远程目录，打开一个 tar.gz 文件\"></p><p><img src=\"https://static001.geekbang.org/resource/image/f8/c2/f8675428065868331a7376a64f2143c2.gif?wh=736*464\" alt=\"Fig4.2\" title=\"使用 Vim 查看 man 帮助\"></p><h3>用户的 Vim 配置目录</h3><p>Vim 的安装目录你是不应该去修改的。首先，你可能没有权限去修改这个目录；其次，即使你有修改权限，这个目录会在 Vim 升级时被覆盖，你做的修改也会丢失。用户自己的配置应当放在自己的目录下，这也就是用户自己的主目录下的 Vim 配置目录（Unix 下的 .vim，Windows 下的 vimfiles）。这个目录应和 Vim 安装目录下的运行支持文件目录有相同的结构，但下面的子目录你在需要修改 Vim 的相关行为时才有必要创建。如果一个同名文件出现用户自己的 Vim 配置目录里和 Vim 的安装目录里，用户的文件优先。</p><p>换句话说，修改 Vim 行为最简单的一种方式，就是把一个系统的运行支持文件复制到自己的 Vim 配置目录下的相同位置，然后修改其内容。我自己常常用这种方式来精调 Vim 的语法加亮。</p><p>显然，这种方式的缺点（在适当的时候也是优点）是，如果 Vim 的运行支持文件后来被修改/更新了，你也会继续使用你自己目录下的老版本修改版。如果你的修改不只是你自己的临时方案、同时也适合他人的话，最佳做法还是给 Vim 项目提交补丁，让其他所有人都能用上你的修改，这样才是开源的最佳使用方式。</p><p>关于 Vim 的公用脚本，这儿再多说几句。Vim 的网站过去是用来集中获取各种脚本——如插件和配色方案——的地方，而 getscriptPlugin 可以帮助简化这个过程。今天你仍然可以使用这个方法，但 Git 和 GitHub 的广泛使用已经改变了人们获取和更新脚本的方式。现在，最主流的分发 Vim 脚本的方式是利用 GitHub，而用户则使用包管理器来调用 Git 从 GitHub（或类似的 Git 库）获取和更新脚本，下面我们很快就会讲到。</p><p>理解了 Vim 的目录结构，我们接着来看 Vim 8 的新功能。</p><h2>Vim 8 新功能</h2><p>Vim 是一个持续改进中的应用程序。从 Vim 8.1（2018 年 5 月 17 日）到 Vim 8.2（2019 年 12 月 12日），Vim 有 2424 个补丁，也就是说，平均每天超过 4 个补丁。很多 Vim 8 里的大功能，并不是一次性引入，而是在补丁中慢慢引入的。比如，Vim 里现在有终端支持，这个功能从 Vim 8.0.0693 开始引入，到了 Vim 8.1，成为一个正式的大功能。</p><p>站在我个人的角度看，从 Vim 7.4 到 Vim 8.2，最大的新功能是：</p><ul>\n<li>Vim 软件包的支持（“<a href=\"https://yianwillis.github.io/vimcdoc/doc/repeat.html#packages\"><code>:help packages</code></a>”）</li>\n<li>异步任务支持（“<a href=\"https://yianwillis.github.io/vimcdoc/doc/channel.html\"><code>:help channel</code></a>”、“<a href=\"https://yianwillis.github.io/vimcdoc/doc/channel.html#job\"><code>:help job</code></a>”和“<a href=\"https://yianwillis.github.io/vimcdoc/doc/eval.html#timers\"><code>:help timers</code></a>”）</li>\n<li>终端支持（“<a href=\"https://yianwillis.github.io/vimcdoc/doc/terminal.html\"><code>:help terminal</code></a>”）</li>\n</ul><p>今天我们就重点讲一下 Vim 软件包。这是 Vim 8 里带来的一个重要功能，也让我们在扩展 Vim 的时候变得更方便了。</p><h3>Vim 软件包</h3><p>Vim 的目录结构有点传统 Unix 式：一个功能用到的文件可能会分散在多个目录下。就像传统 Unix 上 Vim 的文件可能分散在 /usr/bin、/usr/share/man、/usr/share/vim 等目录下一样，一个 Vim 的插件（严格来讲，应该叫包）通常也会分散在多个目录下：</p><ul>\n<li>插件的主体通常在 plugin 目录下</li>\n<li>插件的帮助文件在 doc 目录下</li>\n<li>有些插件只对某些文件类型有效，会有文件放在 ftplugin 目录下</li>\n<li>有些插件有自己的文件类型检测规则，会有文件放在 ftdetect 目录下</li>\n<li>有些插件有特殊的语法加亮，会有文件放在 syntax 目录下</li>\n<li>……</li>\n</ul><p>以前我们安装插件，一般是一次性安装后就不管了。安装过程基本上就是到 .vim 目录（Windows 上是 vimfiles 目录）下，解出压缩包的内容，然后执行 <code>vim -c 'helptags doc|q'</code> 生成帮助文件的索引。到了“互联网式更新”的年代，这种方式就显得落伍了。尤其糟糕的地方在于，它是按文件类型来组织目录的，而不是按相关性，这就没法用 Git 来管理了。</p><p>Vim 上后来就出现了一些包管理器，它们的基本模式都是相通的：每个包有自己的目录，然后这些目录会被加到 Vim 的运行时路径（<code>runtimepath</code>）选项里。最早的 <code>runtimepath</code> 较为简单，在 Unix 上缺省为：</p><blockquote>\n<p><code>$HOME/.vim,</code><br>\n<code>$VIM/vimfiles,</code><br>\n<code>$VIMRUNTIME,</code><br>\n<code>$VIM/vimfiles/after,</code><br>\n<code>$HOME/.vim/after</code></p>\n</blockquote><p>而在有了包管理器之后，<code>runtimepath</code> 就会非常复杂，每个包都会增加一个自己的目录进去。但是，好处也是非常明显的，包的管理变得非常方便。从 Vim 8 开始，Vim 官方也采用了类似的体系。Vim 会在用户的配置目录（Unix 下是 <code>$HOME/.vim</code> ，Windows 下是 <code>$HOME/vimfiles</code> ）下识别名字叫 pack 的目录，并在这个目录的子目录的 start 和 opt 目录下寻找包的目录。</p><p>听着有点绕吧？我们看一个实际的 Vim 配置目录的结构就清楚了：</p><pre><code class=\"language-text\">.\n├── colors\n├── doc\n├── pack\n│   ├── minpac\n│   │   ├── opt\n│   │   │   ├── minpac\n│   │   │   ├── vim-airline\n│   │   │   └── vimcdoc\n│   │   └── start\n│   │       ├── VimExplorer\n│   │       ├── asyncrun.vim\n│   │       ├── fzf.vim\n│   │       ├── gruvbox\n│   │       ├── killersheep\n│   │       ├── nerdcommenter\n│   │       ├── nerdtree\n│   │       ├── tagbar\n│   │       ├── undotree\n│   │       ├── vim-fugitive\n│   │       ├── vim-matrix-screensaver\n│   │       ├── vim-rainbow\n│   │       ├── vim-repeat\n│   │       ├── vim-rhubarb\n│   │       └── vim-surround\n│   └── my\n│       ├── opt\n│       │   ├── YouCompleteMe\n│       │   ├── ale\n│       │   ├── clang_complete\n│       │   ├── cvsmenu\n│       │   └── syntastic\n│       └── start\n│           ├── vim-gitgutter\n│           └── ycmconf\n├── plugin\n├── syntax\n└── undodir\n</code></pre><p>可以看到，pack 目录下有 minpac 和 my 两个子目录（这些名字 Vim 不关心），每个目录下面又有 opt 和 start 两个子目录，再下面就是每个包自己的目录了，里面又可以有自己的一套 colors、doc、plugin 这样的子目录，这样就方便管理了。Vim 8 在启动时会加载所有 pack/*/start 下面的包，而用户可以用 <code>:packadd</code> 命令来加载某个 opt 目录下的包，如 <code>:packadd vimcdoc</code> 命令可加载 vimcdoc 包，来显示中文帮助信息。</p><p>有了这样的目录结构，用户要自己安装、管理包就方便多了。不过，我们还是推荐使用一个包管理器。包管理器可以带来下面的好处：</p><ul>\n<li>根据文本的配置（一般写在 vimrc 配置文件里）决定要安装哪些包</li>\n<li>自动化安装、升级和卸载，包括帮助文件的索引生成</li>\n</ul><p>在我们这门课程里，我会使用 minpac，一个利用 Vim 8 功能的小巧的包管理器。如果你已经在使用其他包管理器，我接下来讲的两个小节你可以考虑跳过。</p><h3>安装 minpac</h3><p>根据 minpac 网页上的说明，我们在 Windows 下可以使用下面的命令：</p><pre><code class=\"language-batch\">cd /d %USERPROFILE%\ngit clone https://github.com/k-takata/minpac.git ^\n    vimfiles\\pack\\minpac\\opt\\minpac\n</code></pre><p>在 Linux 和 macOS 下则可以使用下面的命令：</p><pre><code class=\"language-bash\">git clone https://github.com/k-takata/minpac.git \\\n    ~/.vim/pack/minpac/opt/minpac\n</code></pre><p>然后，我们在 vimrc 配置文件中加入以下内容（先不用理解其含义）：</p><pre><code class=\"language-vim\">if exists('*minpac#init')\n  \" Minpac is loaded.\n  call minpac#init()\n  call minpac#add('k-takata/minpac', {'type': 'opt'})\n\n  \" Other plugins\nendif\n\nif has('eval')\n  \" Minpac commands\n  command! PackUpdate packadd minpac | source $MYVIMRC | call minpac#update('', {'do': 'call minpac#status()'})\n  command! PackClean  packadd minpac | source $MYVIMRC | call minpac#clean()\n  command! PackStatus packadd minpac | source $MYVIMRC | call minpac#status()\nendif\n</code></pre><p>存盘、重启 Vim 之后，我们就有了三个新的命令，可以用来更新（安装）包、清理包和检查当前包的状态。</p><h3>通过 minpac 安装扩展包</h3><p>下面我们就来试验一下通过 minpac 来安装扩展包。我们在“Other plugins”那行下面加入以下内容：</p><pre><code class=\"language-vim\">call minpac#add('tpope/vim-eunuch')\n</code></pre><p>保存文件，然后我们使用 <code>:PackUpdate</code> 命令。略微等待之后，我们就能看到类似下面的界面：</p><p><img src=\"https://static001.geekbang.org/resource/image/10/4c/10885cf1c7406883c70838015971fb4c.png?wh=1352*928\" alt=\"Fig4.3\" title=\"插件安装之后的状态界面\"></p><p>这就说明安装成功了。我们可以按 <code>q</code> 来退出这个状态窗口。</p><p>我们也可以使用 <code>:PackStatus</code> 来重新打开这个状态窗口。要删除一个插件，在 vimrc 中删除对应的那行，保存，然后使用 <code>:PackClean</code> 命令就可以了。愿意的话，你现在就可以试一下。</p><h3>最近使用的文件</h3><p>安装好 Vim 软件包之后，我们进一步来实现一个小功能。</p><p>Vim 的缺省安装缺了一个很多编辑器都有的功能：最近使用的文件。</p><p>我们就把这个功能补上吧。你只需要按照上一节的步骤安装 yegappan/mru 包就可以了（MRU 代表 most recently used）。安装完之后，重新打开 vimrc 文件，你就可以在图形界面里看到下面的菜单了：</p><p><img src=\"https://static001.geekbang.org/resource/image/2c/d6/2c44030349043755a98f9e237ae534d6.png?wh=1318*952\" alt=\"Fig4.4\" title=\"最近文件的菜单\"></p><p>估计你很可能会问：如果是远程连接，没有图形界面怎么办？</p><p>我们仍可以在文本界面上唤起菜单，虽然美观程度会差点。你需要在 vimrc 配置文件中加入以下内容（同样，我们暂时先不用去理解其意义）：</p><pre><code class=\"language-vim\">if !has('gui_running')\n  \" 设置文本菜单\n  if has('wildmenu')\n    set wildmenu\n    set cpoptions-=&lt;\n    set wildcharm=&lt;C-Z&gt;\n    nnoremap &lt;F10&gt;      :emenu &lt;C-Z&gt;\n    inoremap &lt;F10&gt; &lt;C-O&gt;:emenu &lt;C-Z&gt;\n  endif\nendif\n</code></pre><p>在增加上面的配置之后，你就可以使用键 <code>&lt;F10&gt;</code>（当然你也可以换用其他键）加 <code>&lt;Tab&gt;</code> 来唤起 Vim 的文本菜单了。如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/d8/f4435e4c42a7cf2be74f563e4f0b0fd8.gif?wh=984*736\" alt=\"Fig4.5\" title=\"文本菜单的使用\"></p><h2>内容小结</h2><p>本讲我们讨论了 Vim 8 下的基本目录结构和 Vim 8 的软件包。</p><p>你需要知道，Vim 的运行支持目录和用户配置目录有相似的结构，用户配置目录下的文件优先于 Vim 安装目录下的文件。因此，在用户配置目录里进行修改，可以在 Vim 版本有变化时保留自己的定制行为。</p><p>而 Vim 8 的软件包使得维护 Vim 的扩展变得更为容易，每一个 Vim 软件包都是独立的目录，可以单独安装、修改和升级。包管理器，如 minpac，则可以帮助我们更方便地安装和管理 Vim 软件包。</p><p>对于配置文件，适用于本讲的内容标签是 <code>l4-unix</code> 和 <code>l4-windows</code>。</p><h2>课后练习</h2><p>请仔细查看一下你的 Vim 安装目录下面的目录结构，对 Vim 的目录结构有一个直观的理解。你也可以打开一些 .vim 文件来看看，初步感受一下 Vim 脚本：如 filetype.vim 里有着 Vim 如何识别文件类型的逻辑，值得大致了解一下——Vim 并不仅仅是用后缀来判断文件类型的！</p><p>另外，一定要根据文中的说明，实践一下安装 minpac，及使用 minpac 来安装其他 Vim 软件包（除非你已经在使用另外一个包管理器了）。我们后面会经常性地安装新的软件包，这一部分操作一定需要牢牢掌握。</p><p>如有任何问题，请留言和我交流、讨论。我们下一讲见！</p>","comments":[{"had_liked":false,"id":256494,"user_name":"吴咏炜","can_delete":false,"product_type":"c1","uid":1645639,"ip_address":"","ucode":"8C24C10AEC779F","user_header":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","comment_is_top":true,"comment_ctime":1603638253,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"9.2233720599332004e+18","product_id":100055801,"comment_content":"由于 minpac 本身的修改，文中给出的需要加到 .vimrc 中的代码目前应改成：<br><br>if exists(&#39;g:loaded_minpac&#39;)<br>  &quot; Minpac is loaded.<br>  call minpac#init()<br>  call minpac#add(&#39;k-takata&#47;minpac&#39;, {&#39;type&#39;: &#39;opt&#39;})<br><br>  &quot; Other plugins<br>endif<br><br>if has(&#39;eval&#39;)<br>  &quot; Minpac commands<br>  command! PackUpdate packadd minpac | source $MYVIMRC | call minpac#update()<br>  command! PackClean  packadd minpac | source $MYVIMRC | call minpac#clean()<br>  command! PackStatus packadd minpac | source $MYVIMRC | call minpac#status()<br>endif<br><br>请大家注意一下。<br><br>示例的 Git 库里的指定标签上仍然是老的代码。最新的代码则已经调整过。","like_count":6,"discussions":[{"author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338055,"discussion_content":"老师提供的这段新的代码我这里也还是用不了，于是我换成了vim-plug。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609162533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339196,"discussion_content":"遇到什么错误呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609561259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338055,"ip_address":""},"score":339196,"extra":""},{"author":{"id":1471657,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/a9/5eb3ebc6.jpg","nickname":"唐龙","note":"","ucode":"87A10AE04F2037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":340525,"discussion_content":"我只记得执行不同命令的时候都是完全没有反应的，换上这段新的代码后也是如此。然后我就删掉了~/.vim/pack/minpac/opt/minpac目录，重新clone了一下，结果还是不行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610026732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339196,"ip_address":""},"score":340525,"extra":""}]}]},{"had_liked":false,"id":238953,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1596379472,"is_pvip":true,"replies":[{"id":"88257","content":"不是 Bash！是在 Vim 内部，这是 Vim 脚本。","user_name":"作者回复","comment_id":238953,"uid":"1645639","ip_address":"","utype":1,"ctime":1596413517,"user_name_real":"吴咏炜"}],"discussion_count":2,"race_medal":0,"score":"14481281360","product_id":100055801,"comment_content":"怎么查看 runtimepath 这个环境变量的？直接 echo 出来是空的","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502911,"discussion_content":"不是 Bash！是在 Vim 内部，这是 Vim 脚本。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596413517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1232859,"avatar":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","nickname":"YouCompleteMe","note":"","ucode":"89B5A75DA85E0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296164,"discussion_content":":echo &amp;runtimepath 或者 :set runtimepath?","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1596463717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238436,"user_name":"逗逼师父","can_delete":false,"product_type":"c1","uid":1017863,"ip_address":"","ucode":"ECC2D82F83CBE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/07/7804f4cc.jpg","comment_is_top":false,"comment_ctime":1596166883,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14481068771","product_id":100055801,"comment_content":"迫不及待要学后面的内容了","like_count":3},{"had_liked":false,"id":254030,"user_name":"大狗爱吃鱼","can_delete":false,"product_type":"c1","uid":2062955,"ip_address":"","ucode":"5E8A002A993608","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7a/6b/1b021705.jpg","comment_is_top":false,"comment_ctime":1603022829,"is_pvip":false,"replies":[{"id":"92785","content":"估计是GitHub访问速度问题。换上网方式或换时间再试吧。清晨可能会好点。<br><br>你可以从纯手工git clone的方法试试。估计也还是会很慢很慢。","user_name":"作者回复","comment_id":254030,"uid":"1645639","ip_address":"","utype":1,"ctime":1603067710,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"10192957421","product_id":100055801,"comment_content":"PackUpdate命令后等很久很久，也没有安装好，请问下这是怎么回事啊？","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507258,"discussion_content":"估计是GitHub访问速度问题。换上网方式或换时间再试吧。清晨可能会好点。\n\n你可以从纯手工git clone的方法试试。估计也还是会很慢很慢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603067710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254591,"user_name":"JRTx","can_delete":false,"product_type":"c1","uid":1104856,"ip_address":"","ucode":"F16D5B541D8F19","user_header":"https://static001.geekbang.org/account/avatar/00/10/db/d8/e090658c.jpg","comment_is_top":false,"comment_ctime":1603154319,"is_pvip":false,"replies":[{"id":"92940","content":"minpac的使用方式本身发生过一些变化。你试试按最新的.vimrc版本是不是没有问题。没问题的话就是这个原因。如果仍然有问题的话，可以单独重新提问，并报告一下你的详细环境信息，包括操作系统，Vim版本等。","user_name":"作者回复","comment_id":254591,"uid":"1645639","ip_address":"","utype":1,"ctime":1603242032,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"5898121615","product_id":100055801,"comment_content":"每次执行PackUpdate，GVIM下方就会提示&quot;Minpac has not been initialized. Use the default val Press ENTER or type command to continue&quot;<br>系统环境：Windows 7 旗舰版<br>VIM版本：8.2.1845<br>配置文件采用的tag是l4-windows。经查阅GitHub上的Minpac源码发现与此段源码有关<br>function! s:ensure_initialization() abort<br>  if !exists(&#39;g:minpac#opt&#39;)<br>    echohl WarningMsg<br>    echom &#39;Minpac has not been initialized. Use the default values.&#39;<br>    echohl None<br>    call minpac#init()<br>  endif<br>endfunction<br>对Vimscript不熟悉，希望老师能够指正。","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507447,"discussion_content":"minpac的使用方式本身发生过一些变化。你试试按最新的.vimrc版本是不是没有问题。没问题的话就是这个原因。如果仍然有问题的话，可以单独重新提问，并报告一下你的详细环境信息，包括操作系统，Vim版本等。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603242032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241347,"user_name":"__@948CSheLL","can_delete":false,"product_type":"c1","uid":2091669,"ip_address":"","ucode":"3799653724B8FC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/95/3f2539cc.jpg","comment_is_top":false,"comment_ctime":1597274991,"is_pvip":false,"replies":[{"id":"89154","content":"如果你这么问的话，估计你是用终端 Vim 没有菜单吧？图形界面的Vim，跟一般的图形应用程序一样，有菜单的。安装那讲的截图里你就可以看到菜单的。不那么必需，用Vim基本上可以不用菜单的。","user_name":"作者回复","comment_id":241347,"uid":"1645639","ip_address":"","utype":1,"ctime":1597276741,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"5892242287","product_id":100055801,"comment_content":"老师您好，请问vim中的菜单是什么，我该如何在vim中显示出菜单？","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503720,"discussion_content":"如果你这么问的话，估计你是用终端 Vim 没有菜单吧？图形界面的Vim，跟一般的图形应用程序一样，有菜单的。安装那讲的截图里你就可以看到菜单的。不那么必需，用Vim基本上可以不用菜单的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597276741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239285,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1596487218,"is_pvip":false,"replies":[{"id":"88382","content":"新版的Mac上，你想删都删不掉。系统目录下的文件是受保护的。<br><br>不要动系统的东西。通过设 PATH 之类的环境变量调使用顺序即可。即使 Linux 上也是如此，非系统的东西装 &#47;usr&#47;local、$HOME 这样的地方，不要修改系统 &#47;usr&#47;bin、&#47;usr&#47;lib、&#47;usr&#47;share 这样的地方，这样最不容易出问题，最安全。","user_name":"作者回复","comment_id":239285,"uid":"1645639","ip_address":"","utype":1,"ctime":1596500195,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"5891454514","product_id":100055801,"comment_content":"赞，理清了 vim 的文件和配置架构，以及 .vim 文件的由来。<br><br>另外请教老师一个问题，在 Mac 下，我看到 vim 是有两个安装位置的：<br><br>&#47;usr&#47;share&#47;vim&#47;vim82<br>&#47;usr&#47;local&#47;opt&#47;macvim&#47;MacVim.app&#47;Contents&#47;Resources&#47;vim&#47;runtime<br><br>我在想，之前的配置都是基于 Homebrew 下安装的 macvim，那么是否可以考虑将 &#47;usr&#47;share&#47;vim&#47; 直接 rm -rf 删除掉？避免两个版本的 vim 造成混淆？<br>","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503046,"discussion_content":"新版的Mac上，你想删都删不掉。系统目录下的文件是受保护的。\n\n不要动系统的东西。通过设 PATH 之类的环境变量调使用顺序即可。即使 Linux 上也是如此，非系统的东西装 /usr/local、$HOME 这样的地方，不要修改系统 /usr/bin、/usr/lib、/usr/share 这样的地方，这样最不容易出问题，最安全。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596500195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335485,"user_name":"bianf","can_delete":false,"product_type":"c1","uid":2655951,"ip_address":"","ucode":"E8B0E15356464F","user_header":"https://static001.geekbang.org/account/avatar/00/28/86/cf/3764011f.jpg","comment_is_top":false,"comment_ctime":1645536413,"is_pvip":true,"replies":[{"id":"122695","content":"什么平台？会不会是 clone 那步没有成功？<br><br>我目前测试了一下，仍然是可以成功执行 PackUpdate 的。（不过，直接访问 GitHub 的速度感人，有连接中断现象。）","user_name":"作者回复","comment_id":335485,"uid":"1645639","ip_address":"","utype":1,"ctime":1645704626,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"1645536413","product_id":100055801,"comment_content":"我在将留言第一条的语句配置到.vimrc文件中后，执行命令:PackUpdate,提示E117, 未定义的函数，minpac#update,请问是什么原因，要如何解决","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553063,"discussion_content":"什么平台？会不会是 clone 那步没有成功？\n\n我目前测试了一下，仍然是可以成功执行 PackUpdate 的。（不过，直接访问 GitHub 的速度感人，有连接中断现象。）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645704626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2655951,"avatar":"https://static001.geekbang.org/account/avatar/00/28/86/cf/3764011f.jpg","nickname":"bianf","note":"","ucode":"E8B0E15356464F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":553230,"discussion_content":"系统是:ubuntu 20.04。\n我已经看到了clone下来的东西，所以认为并不是clone的问题，他应该是想要执行update，但是找不到函数定义。\n谁便输入一个call xxx#()报的也是这个错误","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645777024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":553063,"ip_address":""},"score":553230,"extra":""}]}]},{"had_liked":false,"id":269621,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1608717416,"is_pvip":true,"replies":[{"id":"97796","content":"看一下使用了哪个目录，目录有没有权限问题。用户自己的 $HOME&#47;.vim 目录照理说不应该有此类问题。有没有可能曾经使用 sudo 运行 vim，把目录的权限变掉了？","user_name":"作者回复","comment_id":269621,"uid":"1645639","ip_address":"","utype":1,"ctime":1608768984,"user_name_real":"吴咏炜"}],"discussion_count":2,"race_medal":0,"score":"1608717416","product_id":100055801,"comment_content":"centos7 vim8.0 minpac root用戶可以安裝插件，但是普通用戶不能安裝，一直報錯minpac error(129) :<br>老師給的兩個配置偶讀沒有用。。。","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512338,"discussion_content":"看一下使用了哪个目录，目录有没有权限问题。用户自己的 $HOME/.vim 目录照理说不应该有此类问题。有没有可能曾经使用 sudo 运行 vim，把目录的权限变掉了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608768984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","nickname":"朱雯","note":"","ucode":"064C45FBF6B51F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337026,"discussion_content":"權限應該是多少，我的.vim權限是700。其他權限比如.vimrc是664，實在找不出權限有問題的地方","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608773155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268639,"user_name":"dulp","can_delete":false,"product_type":"c1","uid":1314877,"ip_address":"","ucode":"4CFC3CB87A6640","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/3d/b3991de7.jpg","comment_is_top":false,"comment_ctime":1608280794,"is_pvip":true,"replies":[{"id":"97500","content":"环境和具体问题请详细描述一下。我自己就这么用的……<br><br>是不是你的系统里 F10 被系统占用作其他用途了？那样的话，可以在 Vim 里换一个按键，或者系统偏好设置设置里把 F10 的映射改、删掉。","user_name":"作者回复","comment_id":268639,"uid":"1645639","ip_address":"","utype":1,"ctime":1608348549,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1608280794","product_id":100055801,"comment_content":"mac里面设置唤醒菜单那块代码没用","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511995,"discussion_content":"环境和具体问题请详细描述一下。我自己就这么用的……\n\n是不是你的系统里 F10 被系统占用作其他用途了？那样的话，可以在 Vim 里换一个按键，或者系统偏好设置设置里把 F10 的映射改、删掉。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608348549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257270,"user_name":"王坤祥","can_delete":false,"product_type":"c1","uid":1003327,"ip_address":"","ucode":"FB988B9F381A33","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/3f/6f62f982.jpg","comment_is_top":false,"comment_ctime":1603898585,"is_pvip":false,"replies":[{"id":"93662","content":"看到置顶的那个留言吗？能不能解决问题？","user_name":"作者回复","comment_id":257270,"uid":"1645639","ip_address":"","utype":1,"ctime":1603930134,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1603898585","product_id":100055801,"comment_content":"老师，安装完minpac后，添加其他插件，在命令模式下显示<br>Minpac has not been initialized. Use the default values.<br><br>这个问题怎么处理呀，上网没找到解决方案","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508277,"discussion_content":"看到置顶的那个留言吗？能不能解决问题？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603930134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248502,"user_name":"leaf","can_delete":false,"product_type":"c1","uid":1060139,"ip_address":"","ucode":"B2CFF00AFA7494","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdzXiawss5gGiax48CJGAJpha4pJksPia7J7HsiatYwjBA9w1bkrDicXfQz1SthaG3w1KJ2ibOxpia5wfbQ/132","comment_is_top":false,"comment_ctime":1600181813,"is_pvip":false,"replies":[{"id":"91288","content":"我在多个系统里都没能重现该问题。建议重装或升级 Vim。","user_name":"作者回复","comment_id":248502,"uid":"1645639","ip_address":"","utype":1,"ctime":1600256587,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1600181813","product_id":100055801,"comment_content":"安装完 yegappan&#47;mru 包启动gvim发生报如下错误, 不影响mru功能的使用, 但好多其他菜单不见了, 请问老师知道是什么问题吗?<br>处理 &#47;usr&#47;share&#47;vim&#47;vim81&#47;menu.vim 时发生错误:<br>第  129 行:<br>E329: 没有菜单 &quot;&amp;Print&quot;","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505667,"discussion_content":"我在多个系统里都没能重现该问题。建议重装或升级 Vim。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600256587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245081,"user_name":"裕","can_delete":false,"product_type":"c1","uid":1575786,"ip_address":"","ucode":"6CBB4249E76C3A","user_header":"https://static001.geekbang.org/account/avatar/00/18/0b/6a/90ca5930.jpg","comment_is_top":false,"comment_ctime":1598809913,"is_pvip":false,"replies":[{"id":"90196","content":"好像是 minpac 安装有问题。删除 Vim 配置目录下的 pack&#47;minpac&#47;opt&#47;minpac，重头再来试试","user_name":"作者回复","comment_id":245081,"uid":"1645639","ip_address":"","utype":1,"ctime":1598887530,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1598809913","product_id":100055801,"comment_content":"使用 :PackUpdate 命令 会报下面错误，请问是什么问题阿<br><br>Error detected while processing function minpac#update:<br>line    2:<br>E117: Unknown function: minpac#impl#update<br>Press ENTER or type command to continue<br>","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504786,"discussion_content":"好像是 minpac 安装有问题。删除 Vim 配置目录下的 pack/minpac/opt/minpac，重头再来试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598887530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244723,"user_name":"老王","can_delete":false,"product_type":"c1","uid":2147274,"ip_address":"","ucode":"86BE7C68CFFFAF","user_header":"https://static001.geekbang.org/account/avatar/00/20/c3/ca/9ffef865.jpg","comment_is_top":false,"comment_ctime":1598632119,"is_pvip":false,"replies":[{"id":"90055","content":"安装目录是文中描述的 Vim 安装位置，具体跟随系统的惯例。用户的 Vim 配置目录文中也专门有一节描述，主目录是 $HOME 或 ~ 代表的目录，不熟悉的的话，在 Vim 里用下面两个命令可以看到：<br><br>:cd ~<br>:pwd","user_name":"作者回复","comment_id":244723,"uid":"1645639","ip_address":"","utype":1,"ctime":1598656850,"user_name_real":"吴咏炜"}],"discussion_count":3,"race_medal":0,"score":"1598632119","product_id":100055801,"comment_content":"Vim的安装目录是什么？用户目录又是什么呢？","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504680,"discussion_content":"安装目录是文中描述的 Vim 安装位置，具体跟随系统的惯例。用户的 Vim 配置目录文中也专门有一节描述，主目录是 $HOME 或 ~ 代表的目录，不熟悉的的话，在 Vim 里用下面两个命令可以看到：\n\n:cd ~\n:pwd","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598656850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2147274,"avatar":"https://static001.geekbang.org/account/avatar/00/20/c3/ca/9ffef865.jpg","nickname":"老王","note":"","ucode":"86BE7C68CFFFAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301791,"discussion_content":"我用的是unbuntu 16.04 vim安装路径是在/use/share/vim中吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598657430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2147274,"avatar":"https://static001.geekbang.org/account/avatar/00/20/c3/ca/9ffef865.jpg","nickname":"老王","note":"","ucode":"86BE7C68CFFFAF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301884,"discussion_content":"你看了不就知道了吗？有什么疑问的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598693290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301791,"ip_address":""},"score":301884,"extra":""}]}]},{"had_liked":false,"id":244538,"user_name":"老王","can_delete":false,"product_type":"c1","uid":2147274,"ip_address":"","ucode":"86BE7C68CFFFAF","user_header":"https://static001.geekbang.org/account/avatar/00/20/c3/ca/9ffef865.jpg","comment_is_top":false,"comment_ctime":1598574289,"is_pvip":false,"replies":[{"id":"90052","content":"不。这个略老了。要支持最新功能需要自己手工编译。","user_name":"作者回复","comment_id":244538,"uid":"1645639","ip_address":"","utype":1,"ctime":1598656422,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1598574289","product_id":100055801,"comment_content":"我用的是16.04 unbuntu，是否支持vim8?","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504622,"discussion_content":"不。这个略老了。要支持最新功能需要自己手工编译。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598656422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243992,"user_name":"韩德田Tivens","can_delete":false,"product_type":"c1","uid":1205299,"ip_address":"","ucode":"57B464C47FDAFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/33/f5f5c407.jpg","comment_is_top":false,"comment_ctime":1598347039,"is_pvip":false,"replies":[{"id":"89853","content":"放的位置跟我给的示例一样吗？这儿顺序是重要的。","user_name":"作者回复","comment_id":243992,"uid":"1645639","ip_address":"","utype":1,"ctime":1598357073,"user_name_real":"吴咏炜"}],"discussion_count":2,"race_medal":0,"score":"1598347039","product_id":100055801,"comment_content":"我的mac笔记本，得这样let do_syntax_sel_menu = 1|runtime!synmenu.vim设置后vim -g打开后才是默认显示菜单的，如果let do_syntax_sel_menu = 1，则不可以。<br>","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504447,"discussion_content":"放的位置跟我给的示例一样吗？这儿顺序是重要的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598357073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1299753,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d5/29/d7d606be.jpg","nickname":"无刃","note":"","ucode":"027A7CA22D8F7D","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302053,"discussion_content":"我的ArchLinux系统，也是用let do_syntax_sel_menu = 1|runtime!synmenu.vim然后终端打开gvim才默认显示菜单。即使跟老师的配置文件的示例一样，let do_syntax_sel_menu = 1也不行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598773967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241361,"user_name":"__@948CSheLL","can_delete":false,"product_type":"c1","uid":2091669,"ip_address":"","ucode":"3799653724B8FC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/95/3f2539cc.jpg","comment_is_top":false,"comment_ctime":1597279094,"is_pvip":false,"replies":[{"id":"89159","content":"用 vim 而不是 gvim 了吧？","user_name":"作者回复","comment_id":241361,"uid":"1645639","ip_address":"","utype":1,"ctime":1597284317,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1597279094","product_id":100055801,"comment_content":"老师您好，我想请问一下我在ubuntu上下载的vim-gtk3，8.1的版本，命令行模式打开vim，可是没有显示菜单栏，请问我该怎么调出来呢？","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503725,"discussion_content":"用 vim 而不是 gvim 了吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597284317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240682,"user_name":"Dev","can_delete":false,"product_type":"c1","uid":1638765,"ip_address":"","ucode":"D5BDB0ABC18E80","user_header":"https://static001.geekbang.org/account/avatar/00/19/01/6d/d29a4ad7.jpg","comment_is_top":false,"comment_ctime":1597033395,"is_pvip":false,"replies":[{"id":"88941","content":"这个插件有点复杂性。后面我会用整整一讲来讨论这个插件。","user_name":"作者回复","comment_id":240682,"uid":"1645639","ip_address":"","utype":1,"ctime":1597068109,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1597033395","product_id":100055801,"comment_content":"Valloric&#47;YouCompleteMe这个插件无法安装","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503523,"discussion_content":"这个插件有点复杂性。后面我会用整整一讲来讨论这个插件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597068109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240469,"user_name":"瀚海星尘","can_delete":false,"product_type":"c1","uid":1024461,"ip_address":"","ucode":"90F418299EA3BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/cd/2c513481.jpg","comment_is_top":false,"comment_ctime":1596940266,"is_pvip":false,"replies":[{"id":"88773","content":"它应该就是自己会修改 runtimepath。你可以自己观察一下，用<br><br>set rtp?","user_name":"作者回复","comment_id":240469,"uid":"1645639","ip_address":"","utype":1,"ctime":1596967190,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1596940266","product_id":100055801,"comment_content":"用的vim-pug加1，它的结构是简单了，但是就不容易和vim的默认目录结构对上~所以也一直以为vim是按照关联放置的相关文件，今天才知道，原来是按unix style的类型放置的啊！等后面学深了研究看看vim-plug是咋工作的~","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503457,"discussion_content":"它应该就是自己会修改 runtimepath。你可以自己观察一下，用\n\nset rtp?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596967190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239824,"user_name":"__@948CSheLL","can_delete":false,"product_type":"c1","uid":2091669,"ip_address":"","ucode":"3799653724B8FC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/95/3f2539cc.jpg","comment_is_top":false,"comment_ctime":1596672630,"is_pvip":false,"replies":[{"id":"88611","content":"设置之后，语法（Syntax）菜单项下就会直接出现所有的文件类型。没有设置的话，只有一项“语法 &gt; 在菜单中显示文件类型”（“Syntax &gt; Show File Types in Menu”）。","user_name":"作者回复","comment_id":239824,"uid":"1645639","ip_address":"","utype":1,"ctime":1596707635,"user_name_real":"吴咏炜"}],"discussion_count":1,"race_medal":0,"score":"1596672630","product_id":100055801,"comment_content":"老师您好，请问let do_syntax_sel_menu = 1的功能是在菜单中显示文件类型，我该怎么才能看出加上他和不加上他的效果呢","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503237,"discussion_content":"设置之后，语法（Syntax）菜单项下就会直接出现所有的文件类型。没有设置的话，只有一项“语法 &amp;gt; 在菜单中显示文件类型”（“Syntax &amp;gt; Show File Types in Menu”）。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596707635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239814,"user_name":"__@948CSheLL","can_delete":false,"product_type":"c1","uid":2091669,"ip_address":"","ucode":"3799653724B8FC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/95/3f2539cc.jpg","comment_is_top":false,"comment_ctime":1596669676,"is_pvip":false,"replies":[{"id":"88610","content":"设置之后，Syntax菜单项就会直接出现所有的文件类型。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596707564,"ip_address":"","comment_id":239814,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596669676","product_id":100055801,"comment_content":"老师您好，我想请问一下let do_syntax_sel_menu = 1设置了之后，我该如何在vim菜单中显示文件内容呢？","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503230,"discussion_content":"设置之后，Syntax菜单项就会直接出现所有的文件类型。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596707564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239429,"user_name":"Woong","can_delete":false,"product_type":"c1","uid":1024978,"ip_address":"","ucode":"F009F3DFC4760A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/d2/69356194.jpg","comment_is_top":false,"comment_ctime":1596530192,"is_pvip":false,"replies":[{"id":"88459","content":"如果你按安装步骤，使用 Homebrew 并确保 &#47;usr&#47;local&#47;bin 在 &#47;usr&#47;bin 前面的话，直接用 vim 命令就行。有什么特殊问题吗？","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596540563,"ip_address":"","comment_id":239429,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596530192","product_id":100055801,"comment_content":"怎么让文件直接在终端打开，而不另启MacVim。<br>但是配置使用MacVim的配置。","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503104,"discussion_content":"如果你按安装步骤，使用 Homebrew 并确保 /usr/local/bin 在 /usr/bin 前面的话，直接用 vim 命令就行。有什么特殊问题吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596540563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239352,"user_name":"ChamPly","can_delete":false,"product_type":"c1","uid":1072432,"ip_address":"","ucode":"B7FA8EB8DD8CD5","user_header":"https://static001.geekbang.org/account/avatar/00/10/5d/30/a9d12bdb.jpg","comment_is_top":false,"comment_ctime":1596508918,"is_pvip":false,"replies":[{"id":"88456","content":"没有看到市场份额调查。基本功能都大同小异。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596540021,"ip_address":"","comment_id":239352,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596508918","product_id":100055801,"comment_content":"现在的包管理应该是vim-plug用的比较多了吧","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503077,"discussion_content":"没有看到市场份额调查。基本功能都大同小异。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596540021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238926,"user_name":"分清云淡","can_delete":false,"product_type":"c1","uid":1269873,"ip_address":"","ucode":"7045AE6BF72D31","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","comment_is_top":false,"comment_ctime":1596372655,"is_pvip":false,"replies":[{"id":"88261","content":"按键是 KeyCastr，录屏是 GIF Brewery。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596413702,"ip_address":"","comment_id":238926,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596372655","product_id":100055801,"comment_content":"求问老师，文章中的 gif 动图有什么工具制作的，特别是动图中 大大的按键提示。多谢","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502897,"discussion_content":"按键是 KeyCastr，录屏是 GIF Brewery。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596413702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238902,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1596363186,"is_pvip":true,"replies":[{"id":"88249","content":"应该是吧（我没用过这个）。你再往下层看，应该可以看到 plugin、doc 这样的目录。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596373099,"ip_address":"","comment_id":238902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596363186","product_id":100055801,"comment_content":"使用的是 vim-plug 包管理工具，但是在自己的 vim 目录生成的是 plugged 目录，没有使用 plugin 文件夹，这应该是 plug 工具自己进行处理了","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502888,"discussion_content":"应该是吧（我没用过这个）。你再往下层看，应该可以看到 plugin、doc 这样的目录。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596373099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238869,"user_name":"江厚宏","can_delete":false,"product_type":"c1","uid":1061214,"ip_address":"","ucode":"00A5A0995C6D75","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/5e/d7cdc1d6.jpg","comment_is_top":false,"comment_ctime":1596350831,"is_pvip":true,"replies":[{"id":"88248","content":"出现 ^M，说明你的文件以 DOS 行尾存进去了。是不是从 Windows 复制文件过去了？<br><br>转换的命令你也知道，所以关键是怎么防止这种情况出现。要记住，Git for Windows 在签出文件时，缺省是会把 Unix 行尾变成 Windows 行尾的。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596373054,"ip_address":"","comment_id":238869,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1596350831","product_id":100055801,"comment_content":"老师你好，我是mac电脑，下了minpac之后，总会出现如：Invalid expression: exists(&#39;loaded_mru&#39;)^M 这种报错，我只能一个文件一个文件执行：:set fileformat=unix。<br>很麻烦，有没有一劳永逸的办法？","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502876,"discussion_content":"出现 ^M，说明你的文件以 DOS 行尾存进去了。是不是从 Windows 复制文件过去了？\n\n转换的命令你也知道，所以关键是怎么防止这种情况出现。要记住，Git for Windows 在签出文件时，缺省是会把 Unix 行尾变成 Windows 行尾的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596373054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061214,"avatar":"https://static001.geekbang.org/account/avatar/00/10/31/5e/d7cdc1d6.jpg","nickname":"江厚宏","note":"","ucode":"00A5A0995C6D75","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295983,"discussion_content":"奇怪的是，我执行的命令是: git clone xxx/minpac\n就得出这样的结果，并不是复制过去的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596420557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1061214,"avatar":"https://static001.geekbang.org/account/avatar/00/10/31/5e/d7cdc1d6.jpg","nickname":"江厚宏","note":"","ucode":"00A5A0995C6D75","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":296113,"discussion_content":"出错的是哪个文件呢？找到文件，手工用 git 签出来检查一下，找到问题的根源。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596454787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295983,"ip_address":""},"score":296113,"extra":""}]}]},{"had_liked":false,"id":238791,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1596298588,"is_pvip":false,"replies":[{"id":"88200","content":"如果多行的话，行尾需要加。写成一行，那就不需要 \\ 了。","user_name":"作者回复","user_name_real":"吴咏炜","uid":"1645639","ctime":1596337909,"ip_address":"","comment_id":238791,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1596298588","product_id":100055801,"comment_content":"git clone https:&#47;&#47;github.com&#47;k-takata&#47;minpac.git \\ ~&#47;.vim&#47;pack&#47;minpac&#47;opt&#47;minpac<br>请教老师， 中间 的 反斜杠 \\  有啥讲究吗， 因为我感觉 加不加 都行吧。<br>","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"吴咏炜","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502853,"discussion_content":"如果多行的话，行尾需要加。写成一行，那就不需要 \\ 了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596337909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1244887,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fe/d7/35a50065.jpg","nickname":"Chenyh","note":"","ucode":"0E9BBEDF6C51D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295767,"discussion_content":"因为是两行所以加了斜杠表示链接,如果你粘贴成了一行创建的目录就会是 &#39; ~&#39; 多了一个空格,一行的情况下把中间的斜杠删掉就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596337553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
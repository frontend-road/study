{"id":487921,"title":"15｜未来可期：邀你与eBPF共赴一场技术革新之约","content":"<p>你好，我是倪朋飞。</p><p>不知不觉间，这门课程已经上线一个月了，第一阶段的正文更新到今天就暂告一段落了。在这里，首先恭喜你完成了这一阶段的学习，掌握了关于 eBPF 的基本知识，也获得了理解 eBPF 机制、把握 eBPF 进化方向的抓手。接下来的动态更新阶段，我会带着你持续跟进 eBPF 技术的最新进展、发展趋势，相信之后四年持续学习的你，在结课时会有更多的收获。</p><p>在准备这门课的过程中，我有了很多感想和收获，接下来就把它们分享给你。</p><h2>我为什么要做这门动态更新的eBPF课程？</h2><p>去年10月的时候，极客时间团队就联系到了我，商量要一起筹备平台上的第一个动态专栏。我第一时间就想到了 eBPF 这个主题。一方面，是因为我觉得 eBPF 会是我的第一季专栏中涉及的动态追踪技术的完美补充；另一方面，动态更新的形式也很适合 eBPF 这样还在快速发展、变更频繁的技术。</p><p>早在几年前开设<a href=\"https://time.geekbang.org/column/intro/100020901?tab=catalog\">《Linux 性能优化实战》</a>专栏的时候，我就发现了一个问题：在讨论相对简单的单指标性能时，同学们都很热情；但在综合多个指标之后，有些同学就掉队了。特别是在涉及系统底层知识时，很多同学虽然也可以利用课程中的工具解决一些性能问题，但由于对内核原理的潜在恐惧，在分析多性能指标之间的相互关系时，还是不能利用底层知识把它们全部贯穿起来。</p><!-- [[[read_end]]] --><p><strong>而有了 eBPF 之后，系统底层的运行原理就不再是一个黑盒子，内核变得完全开放了。</strong>你可以根据自己的需要，去观测或定制内核和应用底层的运行状况，这样，我们就不再需要恐惧内核的底层知识了。</p><p>并且，因为 eBPF 是一个还在快速发展中的新技术，动态更新的交付方式显然可以避免知识快速过期的问题。就这样，经过近三个月的筹备，《eBPF 核心技术与实战》专栏诞生了，也成为极客时间上第一个动态交付的专栏。</p><p>不过，如你所见，这门课并没有把所有的内容都放到动态更新的过程中交付，而是根据内容和时间划分成了常规更新和动态更新两大阶段。我之所以这样设计，是想让你通过已经更新的十多讲内容，快速掌握 eBPF 的核心原理，以及最基本的使用方法。我相信你在看到这篇内容时，已经完成了第一阶段的学习，并开始尝试把 eBPF 应用到你的工作中了。</p><h2>第二阶段的课程，邀请你与我共建</h2><p>在课程更新的这一个月里，我非常高兴地看到，很多同学在留言区分享了自己的学习心得和实践经验，并针对一些知识盲点提出了很有价值的问题。非常感谢同学们的积极分享和讨论，这不仅帮助我完善了课程的现有内容，还给了我很多对于后续更新内容的启发。</p><p>这门课的第一阶段侧重于 eBPF 最核心的原理，以及这些原理的基本应用方法，课程中案例的应用场景也相对简单。而在接下来的动态更新阶段，也就是“技术雷达篇”中，我不仅会<strong>带你持续追踪 eBPF 的最新发展和最新应用，也会以最有代表性的开源项目为例，给你带来 eBPF 在复杂场景中的综合应用方法</strong>。正如开篇词中向你承诺的那样，我将会在每个季度交付一篇文章，每年年末也会交付一篇年终盘点。第二阶段的正式更新将从<strong> 2022 年 4 月</strong>开始，记得到时候回来继续学习呀！</p><p>在这里，我还想说的是：虽然这门课的更新暂时告一段落了，但还是非常希望你能继续跟我保持交流，积极参与到课程之后内容的共建中来：</p><ul>\n<li>我给你准备了一个<a href=\"https://jinshuju.net/f/tm8Ggu\">调查问卷</a>。题目不多，大概几分钟就可以填完，主要是想听一下你对这门课的看法和建议。也欢迎你在问卷里跟我分享你感兴趣的、未来想听到的 eBPF 相关话题，十分期待你的反馈！</li>\n<li>欢迎随时在留言区分享你的学习心得和实践经验。我在这门课中一直强调，大量实践 + 深入思考，就是掌握所有新技术的法宝。而想进行深入思考，最有效的路径之一就是把它分享出来，同他人进行交流和碰撞。因此，如果你对课程的内容有什么疑问，或者有一些经验想要分享，那么不要犹豫，发到留言区里和我们一起讨论吧！</li>\n<li>为了方便同学们互相交流、答疑，这门课还建立了微信群，进群入口在<a href=\"https://jinshuju.net/f/wmBy9q\">这里</a>，欢迎你加入。只要是跟这门课相关的话题，在里面都可以畅所欲言。</li>\n</ul><p>总之，如果你有对我们课程未来内容的建议，欢迎随时提出来。希望我们不仅是课程教与学的关系，更可以共同参与到课程内容的建设中，一起完善和构建一个最贴近实践的 eBPF 知识体系！</p><p>最后，非常感谢你对这门课，以及对动态更新这个新形式的支持。希望第一阶段的课程已经帮你掌握了 eBPF 的核心原理和基本的应用方法。在接下来的四年里，我邀请你和我一起继续深入 eBPF 的实践应用，紧跟 eBPF 的发展趋势，共赴一场技术革新之约。</p>","comments":[{"had_liked":false,"id":335138,"user_name":"校歌","can_delete":false,"product_type":"c1","uid":2054611,"ip_address":"","ucode":"CD257668BB1A33","user_header":"https://static001.geekbang.org/account/avatar/00/1f/59/d3/696b1702.jpg","comment_is_top":false,"comment_ctime":1645352668,"is_pvip":true,"replies":[{"id":122623,"content":"👍加油！","user_name":"作者回复","user_name_real":"编辑","uid":1001282,"ctime":1645611583,"ip_address":"","comment_id":335138,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"留个言，4年后，看看自己水平咋样，💪","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552849,"discussion_content":"👍加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645611583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2291160,"avatar":"https://static001.geekbang.org/account/avatar/00/22/f5/d8/121e4b68.jpg","nickname":"Woa 🤞","note":"","ucode":"6033F496082F3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554619,"discussion_content":"蹲一个4年之约","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646493436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334825,"user_name":"莫名","can_delete":false,"product_type":"c1","uid":1007254,"ip_address":"","ucode":"E28F2602BA25DD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","comment_is_top":false,"comment_ctime":1645148153,"is_pvip":false,"replies":[{"id":122620,"content":"👍 我们一起加油！","user_name":"作者回复","user_name_real":"编辑","uid":1001282,"ctime":1645611439,"ip_address":"","comment_id":334825,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"感谢倪老师，很赞的课程，推荐大家学习。","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552846,"discussion_content":"👍 我们一起加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645611440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337768,"user_name":"Geek9635","can_delete":false,"product_type":"c1","uid":2845507,"ip_address":"","ucode":"742198F80001DF","user_header":"","comment_is_top":false,"comment_ctime":1647049755,"is_pvip":false,"replies":[{"id":123550,"content":"主要还是应用使用上的区别。unix domain socket需要应用之间使用unix socket通信，但实际上很多应用（特别是容器）都是通过IP进行通信的","user_name":"作者回复","user_name_real":"编辑","uid":1001282,"ctime":1647165926,"ip_address":"","comment_id":337768,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"ebp的sockmap相比unix domain socket的优势在那呢？从测试情况（TCP_RR）看，unix domain socket比sockmap方式还高12%左右；功能上看，两者都不能很方便的抓包，无抓包功能，就很难无法落地；有点优势是能对业务透明，但在同一个host上，并不是非常强的需求，感觉有点鸡肋，还请老师指教","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556023,"discussion_content":"主要还是应用使用上的区别。unix domain socket需要应用之间使用unix socket通信，但实际上很多应用（特别是容器）都是通过IP进行通信的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647165926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2845507,"avatar":"","nickname":"Geek9635","note":"","ucode":"742198F80001DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556765,"discussion_content":"感谢老师，uds在跨namespaces时也不如ip通信方便","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647504838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334858,"user_name":"小李同学","can_delete":false,"product_type":"c1","uid":1187427,"ip_address":"","ucode":"90B50B7D408AC8","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/63/d5909105.jpg","comment_is_top":false,"comment_ctime":1645156318,"is_pvip":false,"replies":[{"id":122621,"content":"👍我们一起加油！","user_name":"作者回复","user_name_real":"编辑","uid":1001282,"ctime":1645611449,"ip_address":"","comment_id":334858,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"感谢倪老师，赞赞赞","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552847,"discussion_content":"👍我们一起加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645611449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352636,"user_name":"Tok1c","can_delete":false,"product_type":"c1","uid":2803192,"ip_address":"","ucode":"AE87A30377AFCF","user_header":"https://static001.geekbang.org/account/avatar/00/2a/c5/f8/97d4508e.jpg","comment_is_top":false,"comment_ctime":1658825868,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"留个言，4年后，看看自己水平咋样，💪","like_count":1,"discussions":[{"author":{"id":3788450,"avatar":"https://static001.geekbang.org/account/avatar/00/39/ce/a2/81bf7611.jpg","nickname":"猛喝威士忌","note":"","ucode":"D8E2A81D3F6EB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":652301,"discussion_content":"哥，怎么说，我刚入门，两年后咋样了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1728640311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342395,"user_name":"Damoncui","can_delete":false,"product_type":"c1","uid":1566446,"ip_address":"","ucode":"5F09EB267F0572","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/ee/8fdbd5db.jpg","comment_is_top":false,"comment_ctime":1650247311,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"感谢老师～\n四月加油！","like_count":1},{"had_liked":false,"id":387296,"user_name":"lJ","can_delete":false,"product_type":"c1","uid":2562558,"ip_address":"江苏","ucode":"CC29D06A16FF93","user_header":"https://static001.geekbang.org/account/avatar/00/27/19/fe/d31344db.jpg","comment_is_top":false,"comment_ctime":1706876804,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"打了卡 两年后检查下自己","like_count":0},{"had_liked":false,"id":382489,"user_name":"kong62","can_delete":false,"product_type":"c1","uid":1411566,"ip_address":"上海","ucode":"1C9F749CB379E1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRicibrZZK2F5zgOzTeGQHBKXELdqhiaabAPJMRVsfHHRmmu1W69Cqo6P9At3DvWdBoznfYIuXA1tFw/132","comment_is_top":false,"comment_ctime":1697452188,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"概念理念很好，实际复杂，难以落地。","like_count":0},{"had_liked":false,"id":376866,"user_name":"有识之士","can_delete":false,"product_type":"c1","uid":1120024,"ip_address":"北京","ucode":"23F5594193D200","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/18/e4382a8e.jpg","comment_is_top":false,"comment_ctime":1687602577,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"留个言，4年后，看看自己技术能力有哪些提升！！！","like_count":0},{"had_liked":false,"id":357275,"user_name":"Slience-0°C","can_delete":false,"product_type":"c1","uid":1151612,"ip_address":"山东","ucode":"B50665EC6A80F5","user_header":"https://static001.geekbang.org/account/avatar/00/11/92/7c/12c571b6.jpg","comment_is_top":false,"comment_ctime":1663129749,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"eBPF可以下钩子，进行某些行为的阻断么？比如阻断文件打开？谢谢","like_count":0}]}
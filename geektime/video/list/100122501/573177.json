{"id":573177,"title":"01｜拨云见日——云上架构一点儿也不神秘","content":"<p>你好，我是吕蕴偲。今天我们来聊一聊云上架构部署的问题。</p><h2>传统服务器的架构与弊端</h2><p>在互联网发展的早期，云原生还未兴起的时候，企业需要对外服务，通常是自行购买搭建或者租用服务器，独立组建运维团队维护各类的基础设施。从机型选择到场景性能需求选型，这些前期工作投入成本大，且学习和维护成本较高，对于绝大多数的公司来说，是一笔不小的开支。在这些前期工作完成之后，就需要运维人员进行部署。</p><p>接下来我们用一个常见的Web应用程序模型来说明传统网络部署，这个模型实现了最小的一个三层网络架构。</p><p>在这个模型中，我们可以看到，架构被分为前端网页层、后端应用层和数据库层，是一个典型的三层网络。</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/86/4e2b727d33fc7bbab8ffd09840196d86.png?wh=896x852\" alt=\"图片\" title=\"图片来源网络\"></p><p>图中最上面的一层，是外部的防火墙，通常是由硬件或软件配置的，开放80端口（HTTP）和443（HTTPS）端口。异常的访问被Firewall防火墙阻挡之后，正常的流量请求就会进入到负载均衡中。负载均衡通常由硬件或者软件构成，如著名的F5硬件负载均衡，或者你也可以配置Nginx等软件负载均衡。</p><p>在经过负载均衡后，流量才真正打到Web Server层，处理用户的请求。在Web Server层中，会存在大量与后端交互的服务请求、各种逻辑请求及交互访问，这些都需要后端服务器处理。所以，接下来我们需要部署后端App Server服务器。</p>","comments":[{"had_liked":false,"id":358501,"user_name":"青鸟飞鱼","can_delete":false,"product_type":"c3","uid":1807943,"ip_address":"四川","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1664364914,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100122501,"comment_content":"清楚明了","like_count":3},{"had_liked":false,"id":377376,"user_name":"斜杠青年","can_delete":false,"product_type":"c3","uid":1177739,"ip_address":"广东","ucode":"D7AF02B8588549","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/8b/74d2ab6b.jpg","comment_is_top":false,"comment_ctime":1688396329,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100122501,"comment_content":"雪中送碳","like_count":0},{"had_liked":false,"id":359799,"user_name":"千军万马万马@","can_delete":false,"product_type":"c3","uid":1500391,"ip_address":"河北","ucode":"0BDAD22123435A","user_header":"https://static001.geekbang.org/account/avatar/00/16/e4/e7/31944ee7.jpg","comment_is_top":false,"comment_ctime":1665909331,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100122501,"comment_content":"没有相关的资料吗","like_count":0},{"had_liked":false,"id":359796,"user_name":"老艮额","can_delete":false,"product_type":"c3","uid":1180638,"ip_address":"辽宁","ucode":"60622F5DFE9D30","user_header":"https://static001.geekbang.org/account/avatar/00/12/03/de/fe473006.jpg","comment_is_top":false,"comment_ctime":1665906945,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100122501,"comment_content":"如果讲解中的图能够下载就好了，或者给出链接","like_count":0,"discussions":[{"author":{"id":2909981,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/OzjicNUN0iau9U9FFWeOk2WOeztb9GUcx1ibt7Kg9cfYpFtjBDx4MQ2tQO1HbQjtQ9oOUxvbx2t96cfOXpH7g9buKFGe0uHXtDibiaLj7roSPv1U/132","nickname":"Geek_7ef471","note":"","ucode":"7B10B9C8ABF053","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591592,"discussion_content":"一拖就保存出来了，再不济也能截图啊？这智商还是别学了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666682810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
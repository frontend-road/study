{"id":117492,"title":"34 | Nginxï¼šé«˜æ€§èƒ½çš„WebæœåŠ¡å™¨","content":"<p>ç»è¿‡å‰é¢å‡ å¤§æ¨¡å—çš„å­¦ä¹ ï¼Œä½ å·²ç»å®Œå…¨æŒæ¡äº†HTTPçš„æ‰€æœ‰çŸ¥è¯†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯·æ”¶æ‹¾ä¸€ä¸‹è¡Œå›Šï¼Œæ•´ç†ä¸€ä¸‹è£…å¤‡ï¼Œè·Ÿæˆ‘ä¸€èµ·å»æ¢ç´¢HTTPä¹‹å¤–çš„å¹¿é˜”å¤©åœ°ã€‚</p><p>ç°åœ¨çš„äº’è”ç½‘éå¸¸å‘è¾¾ï¼Œç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼Œç½‘é€Ÿè¶Šæ¥è¶Šå¿«ï¼ŒHTTPSçš„å®‰å…¨åŠ å¯†ã€HTTP/2çš„å¤šè·¯å¤ç”¨ç­‰ç‰¹æ€§éƒ½å¯¹WebæœåŠ¡å™¨æå‡ºäº†éå¸¸é«˜çš„è¦æ±‚ã€‚ä¸€ä¸ªå¥½çš„WebæœåŠ¡å™¨å¿…é¡»è¦å…·å¤‡ç¨³å®šã€å¿«é€Ÿã€æ˜“æ‰©å±•ã€æ˜“ç»´æŠ¤ç­‰ç‰¹æ€§ï¼Œæ‰èƒ½å¤Ÿè®©ç½‘ç«™â€œç«‹äºä¸è´¥ä¹‹åœ°â€ã€‚</p><p>é‚£ä¹ˆï¼Œåœ¨æ­å»ºç½‘ç«™çš„æ—¶å€™ï¼Œåº”è¯¥é€‰æ‹©ä»€ä¹ˆæ ·çš„æœåŠ¡å™¨è½¯ä»¶å‘¢ï¼Ÿ</p><p>åœ¨å¼€å¤´çš„å‡ è®²é‡Œæˆ‘ä¹Ÿæåˆ°è¿‡ï¼ŒWebæœåŠ¡å™¨å°±é‚£ä¹ˆå‡ æ¬¾ï¼Œç›®å‰å¸‚é¢ä¸Šä¸»æµçš„åªæœ‰ä¸¤ä¸ªï¼šApacheå’ŒNginxï¼Œä¸¤è€…åˆè®¡å æ®äº†è¿‘90%çš„å¸‚åœºä»½é¢ã€‚</p><p>ä»Šå¤©æˆ‘è¦è¯´çš„å°±æ˜¯å…¶ä¸­çš„Nginxï¼Œå®ƒæ˜¯WebæœåŠ¡å™¨çš„â€œåèµ·ä¹‹ç§€â€ï¼Œè™½ç„¶æ¯”Apacheå°äº†10å²ï¼Œä½†å¢é•¿é€Ÿåº¦ååˆ†è¿…çŒ›ï¼Œå·²ç»è¾¾åˆ°äº†ä¸Apacheâ€œå¹³èµ·å¹³åâ€çš„åœ°ä½ï¼Œè€Œåœ¨â€œTop Millionâ€ç½‘ç«™ä¸­æ›´æ˜¯è¶…è¿‡äº†Apacheï¼Œæ‹¥æœ‰è¶…è¿‡50%çš„ç”¨æˆ·ï¼ˆ<a href=\"https://w3techs.com/technologies/cross/web_server/ranking\">å‚è€ƒæ•°æ®</a>ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c5/0b/c5df0592cc8aef91ba961f7fab5a4a0b.png?wh=1222*340\" alt=\"unpreview\"></p><p>åœ¨è¿™é‡Œå¿…é¡»è¦è¯´ä¸€ä¸‹Nginxçš„æ­£ç¡®å‘éŸ³ï¼Œå®ƒåº”è¯¥è¯»æˆâ€œEngine Xâ€ï¼Œä½†æˆ‘ä¸ªäººæ„Ÿè§‰â€œXâ€å¿µèµ·æ¥å¤ªâ€œæ‹—å£â€ï¼Œè¿˜æ˜¯æ¯”è¾ƒå€¾å‘äºè¯»åšâ€œEngine ksâ€ï¼Œè¿™ä¹Ÿä¸UNIXã€Linuxçš„å‘éŸ³ä¸€è‡´ã€‚</p><p>ä½œä¸ºä¸€ä¸ªWebæœåŠ¡å™¨ï¼ŒNginxçš„åŠŸèƒ½éå¸¸å®Œå–„ï¼Œå®Œç¾æ”¯æŒHTTP/1ã€HTTPSå’ŒHTTP/2ï¼Œè€Œä¸”è¿˜åœ¨ä¸æ–­è¿›æ­¥ã€‚å½“å‰çš„ä¸»çº¿ç‰ˆæœ¬å·²ç»å‘å±•åˆ°äº†1.17ï¼Œæ­£åœ¨è¿›è¡ŒHTTP/3çš„ç ”å‘ï¼Œæˆ–è®¸ä¸€å¹´ä¹‹åå°±èƒ½åœ¨Nginxä¸Šè·‘HTTP/3äº†ã€‚</p><!-- [[[read_end]]] --><p>Nginxä¹Ÿæ˜¯æˆ‘ä¸ªäººçš„ä¸»è¦ç ”ç©¶é¢†åŸŸï¼Œæˆ‘ä¹Ÿå†™è¿‡ç›¸å…³çš„ä¹¦ï¼ŒæŒ‰ç†æ¥è¯´ä»Šå¤©çš„è¯¾ç¨‹åº”è¯¥æ˜¯â€œæ‰‹æ‹¿æŠŠæ”¥â€ï¼Œä½†çœŸæ­£åŠ¨ç¬”çš„æ—¶å€™è¿˜æ˜¯æœ‰äº›çŠ¹è±«çš„ï¼šå¾ˆå¤šè¦ç‚¹éƒ½å·²ç»åœ¨ä¹¦é‡Œå†™è¿‡äº†ï¼Œè¿™æ¬¡çš„ä¸“æ å¦‚æœå†é‡å¤ç›¸åŒçš„å†…å®¹å°±ä¸å…æœ‰â€œéª—ç¨¿è´¹â€çš„å«Œç–‘ï¼Œåº”è¯¥æœ‰äº›â€œä¸ä¸€æ ·çš„ä¸œè¥¿â€ã€‚</p><p>æ‰€ä»¥æˆ‘å†³å®šæŠ›å¼€ä¹¦æœ¬ï¼Œæ¢ä¸ªè§’åº¦ï¼Œç»“åˆHTTPåè®®æ¥è®²Nginxï¼Œå¸¦ä½ çª¥è§†ä¸€ä¸‹HTTPå¤„ç†çš„å†…å¹•ï¼Œçœ‹çœ‹WebæœåŠ¡å™¨çš„å·¥ä½œåŸç†ã€‚</p><h2>è¿›ç¨‹æ± </h2><p>ä½ ä¹Ÿè®¸å¬è¯´è¿‡ï¼ŒNginxæ˜¯ä¸ª<span class=\"orange\">â€œè½»é‡çº§â€çš„WebæœåŠ¡å™¨</span>ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‰€è°“çš„â€œè½»é‡çº§â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>â€œè½»é‡çº§â€æ˜¯ç›¸å¯¹äºâ€œé‡é‡çº§â€è€Œè¨€çš„ã€‚â€œé‡é‡çº§â€å°±æ˜¯æŒ‡æœåŠ¡å™¨è¿›ç¨‹å¾ˆâ€œé‡â€ï¼Œå ç”¨å¾ˆå¤šèµ„æºï¼Œå½“å¤„ç†HTTPè¯·æ±‚æ—¶ä¼šæ¶ˆè€—å¤§é‡çš„CPUå’Œå†…å­˜ï¼Œå—åˆ°è¿™äº›èµ„æºçš„é™åˆ¶å¾ˆéš¾æé«˜æ€§èƒ½ã€‚</p><p>è€ŒNginxä½œä¸ºâ€œè½»é‡çº§â€çš„æœåŠ¡å™¨ï¼Œå®ƒçš„CPUã€å†…å­˜å ç”¨éƒ½éå¸¸å°‘ï¼ŒåŒæ ·çš„èµ„æºé…ç½®ä¸‹å°±èƒ½å¤Ÿä¸ºæ›´å¤šçš„ç”¨æˆ·æä¾›æœåŠ¡ï¼Œå…¶å¥¥ç§˜åœ¨äºå®ƒç‹¬ç‰¹çš„å·¥ä½œæ¨¡å¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/c1/3e94fbd78ed043e88c443f6416f99dc1.png?wh=1236*997\" alt=\"\"></p><p>åœ¨Nginxä¹‹å‰ï¼ŒWebæœåŠ¡å™¨çš„å·¥ä½œæ¨¡å¼å¤§å¤šæ˜¯â€œPer-Processâ€æˆ–è€…â€œPer-Threadâ€ï¼Œå¯¹æ¯ä¸€ä¸ªè¯·æ±‚ä½¿ç”¨å•ç‹¬çš„è¿›ç¨‹æˆ–è€…çº¿ç¨‹å¤„ç†ã€‚è¿™å°±å­˜åœ¨åˆ›å»ºè¿›ç¨‹æˆ–çº¿ç¨‹çš„æˆæœ¬ï¼Œè¿˜ä¼šæœ‰è¿›ç¨‹ã€çº¿ç¨‹â€œä¸Šä¸‹æ–‡åˆ‡æ¢â€çš„é¢å¤–å¼€é”€ã€‚å¦‚æœè¯·æ±‚æ•°é‡å¾ˆå¤šï¼ŒCPUå°±ä¼šåœ¨å¤šä¸ªè¿›ç¨‹ã€çº¿ç¨‹ä¹‹é—´åˆ‡æ¢æ—¶â€œç–²äºå¥”å‘½â€ï¼Œå¹³ç™½åœ°æµªè´¹äº†è®¡ç®—æ—¶é—´ã€‚</p><p>Nginxåˆ™å®Œå…¨ä¸åŒï¼Œâ€œä¸€åæƒ¯ä¾‹â€åœ°æ²¡æœ‰ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œè€Œæ˜¯ä½¿ç”¨äº†â€œ<strong>è¿›ç¨‹æ± +å•çº¿ç¨‹</strong>â€çš„å·¥ä½œæ¨¡å¼ã€‚</p><p>Nginxåœ¨å¯åŠ¨çš„æ—¶å€™ä¼šé¢„å…ˆåˆ›å»ºå¥½å›ºå®šæ•°é‡çš„workerè¿›ç¨‹ï¼Œåœ¨ä¹‹åçš„è¿è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šå†forkå‡ºæ–°è¿›ç¨‹ï¼Œè¿™å°±æ˜¯è¿›ç¨‹æ± ï¼Œè€Œä¸”å¯ä»¥è‡ªåŠ¨æŠŠè¿›ç¨‹â€œç»‘å®šâ€åˆ°ç‹¬ç«‹çš„CPUä¸Šï¼Œè¿™æ ·å°±å®Œå…¨æ¶ˆé™¤äº†è¿›ç¨‹åˆ›å»ºå’Œåˆ‡æ¢çš„æˆæœ¬ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ã€‚</p><p>åœ¨è¿›ç¨‹æ± ä¹‹ä¸Šï¼Œè¿˜æœ‰ä¸€ä¸ªâ€œmasterâ€è¿›ç¨‹ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†è¿›ç¨‹æ± ã€‚å®ƒçš„ä½œç”¨æœ‰ç‚¹åƒæ˜¯supervisorï¼ˆä¸€ä¸ªç”¨Pythonç¼–å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼‰ï¼Œç”¨æ¥ç›‘æ§è¿›ç¨‹ï¼Œè‡ªåŠ¨æ¢å¤å‘ç”Ÿå¼‚å¸¸çš„workerï¼Œä¿æŒè¿›ç¨‹æ± çš„ç¨³å®šå’ŒæœåŠ¡èƒ½åŠ›ã€‚</p><p>ä¸è¿‡masterè¿›ç¨‹å®Œå…¨æ˜¯Nginxè‡ªè¡Œç”¨Cè¯­è¨€å®ç°çš„ï¼Œè¿™å°±æ‘†è„±äº†å¤–éƒ¨çš„ä¾èµ–ï¼Œç®€åŒ–äº†Nginxçš„éƒ¨ç½²å’Œé…ç½®ã€‚</p><h2>I/Oå¤šè·¯å¤ç”¨</h2><p>å¦‚æœä½ ç”¨Javaã€Cç­‰è¯­è¨€å†™è¿‡ç¨‹åºï¼Œä¸€å®šå¾ˆç†Ÿæ‚‰â€œå¤šçº¿ç¨‹â€çš„æ¦‚å¿µï¼Œä½¿ç”¨å¤šçº¿ç¨‹èƒ½å¤Ÿå¾ˆå®¹æ˜“å®ç°å¹¶å‘å¤„ç†ã€‚</p><p>ä½†å¤šçº¿ç¨‹ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œé™¤äº†åˆšæ‰è¯´åˆ°çš„â€œä¸Šä¸‹æ–‡åˆ‡æ¢â€æˆæœ¬ï¼Œè¿˜æœ‰ç¼–ç¨‹æ¨¡å‹å¤æ‚ã€æ•°æ®ç«äº‰ã€åŒæ­¥ç­‰é—®é¢˜ï¼Œå†™å‡ºæ­£ç¡®ã€å¿«é€Ÿçš„å¤šçº¿ç¨‹ç¨‹åºå¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚</p><p>æ‰€ä»¥Nginxå°±é€‰æ‹©äº†å•çº¿ç¨‹çš„æ–¹å¼ï¼Œå¸¦æ¥çš„å¥½å¤„å°±æ˜¯å¼€å‘ç®€å•ï¼Œæ²¡æœ‰äº’æ–¥é”çš„æˆæœ¬ï¼Œå‡å°‘ç³»ç»Ÿæ¶ˆè€—ã€‚</p><p>é‚£ä¹ˆï¼Œç–‘é—®ä¹Ÿå°±äº§ç”Ÿäº†ï¼šä¸ºä»€ä¹ˆå•çº¿ç¨‹çš„Nginxï¼Œå¤„ç†èƒ½åŠ›å´èƒ½å¤Ÿè¶…è¶Šå…¶ä»–å¤šçº¿ç¨‹çš„æœåŠ¡å™¨å‘¢ï¼Ÿ</p><p>è¿™è¦å½’åŠŸäºNginxåˆ©ç”¨äº†Linuxå†…æ ¸é‡Œçš„ä¸€ä»¶â€œç¥å…µåˆ©å™¨â€ï¼Œ<strong>I/Oå¤šè·¯å¤ç”¨æ¥å£</strong>ï¼Œâ€œå¤§åé¼é¼â€çš„epollã€‚</p><p>â€œå¤šè·¯å¤ç”¨â€è¿™ä¸ªè¯æˆ‘ä»¬å·²ç»åœ¨ä¹‹å‰çš„HTTP/2ã€HTTP/3é‡Œé‡åˆ°è¿‡å¥½å‡ æ¬¡ï¼Œå¦‚æœä½ ç†è§£äº†é‚£é‡Œçš„â€œå¤šè·¯å¤ç”¨â€ï¼Œé‚£ä¹ˆé¢å¯¹Nginxçš„epollâ€œå¤šè·¯å¤ç”¨â€ä¹Ÿå°±å¥½åŠäº†ã€‚</p><p>WebæœåŠ¡å™¨ä»æ ¹æœ¬ä¸Šæ¥è¯´æ˜¯â€œI/Oå¯†é›†å‹â€è€Œä¸æ˜¯â€œCPUå¯†é›†å‹â€ï¼Œå¤„ç†èƒ½åŠ›çš„å…³é”®åœ¨äºç½‘ç»œæ”¶å‘è€Œä¸æ˜¯CPUè®¡ç®—ï¼ˆè¿™é‡Œæš‚æ—¶ä¸è€ƒè™‘HTTPSçš„åŠ è§£å¯†ï¼‰ï¼Œè€Œç½‘ç»œI/Oä¼šå› ä¸ºå„å¼å„æ ·çš„åŸå› ä¸å¾—ä¸ç­‰å¾…ï¼Œæ¯”å¦‚æ•°æ®è¿˜æ²¡åˆ°è¾¾ã€å¯¹ç«¯æ²¡æœ‰å“åº”ã€ç¼“å†²åŒºæ»¡å‘ä¸å‡ºå»ç­‰ç­‰ã€‚</p><p>è¿™ç§æƒ…å½¢å°±æœ‰ç‚¹åƒæ˜¯HTTPé‡Œçš„â€œé˜Ÿå¤´é˜»å¡â€ã€‚å¯¹äºä¸€èˆ¬çš„å•çº¿ç¨‹æ¥è¯´CPUå°±ä¼šâ€œåœä¸‹æ¥â€ï¼Œé€ æˆæµªè´¹ã€‚è€Œå¤šçº¿ç¨‹çš„è§£å†³æ€è·¯æœ‰ç‚¹ç±»ä¼¼â€œå¹¶å‘è¿æ¥â€ï¼Œè™½ç„¶æœ‰çš„çº¿ç¨‹å¯èƒ½é˜»å¡ï¼Œä½†ç”±äºå¤šä¸ªçº¿ç¨‹å¹¶è¡Œï¼Œæ€»ä½“ä¸Šçœ‹é˜»å¡çš„æƒ…å†µå°±ä¸ä¼šå¤ªä¸¥é‡äº†ã€‚</p><p>Nginxé‡Œä½¿ç”¨çš„epollï¼Œå°±å¥½åƒæ˜¯HTTP/2é‡Œçš„â€œå¤šè·¯å¤ç”¨â€æŠ€æœ¯ï¼Œå®ƒæŠŠå¤šä¸ªHTTPè¯·æ±‚å¤„ç†æ‰“æ•£æˆç¢ç‰‡ï¼Œéƒ½â€œå¤ç”¨â€åˆ°ä¸€ä¸ªå•çº¿ç¨‹é‡Œï¼Œä¸æŒ‰ç…§å…ˆæ¥ååˆ°çš„é¡ºåºå¤„ç†ï¼Œè€Œæ˜¯åªå½“è¿æ¥ä¸ŠçœŸæ­£å¯è¯»ã€å¯å†™çš„æ—¶å€™æ‰å¤„ç†ï¼Œå¦‚æœå¯èƒ½å‘ç”Ÿé˜»å¡å°±ç«‹åˆ»åˆ‡æ¢å‡ºå»ï¼Œå¤„ç†å…¶ä»–çš„è¯·æ±‚ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒNginxå°±å®Œå…¨æ¶ˆé™¤äº†I/Oé˜»å¡ï¼ŒæŠŠCPUåˆ©ç”¨å¾—â€œæ»¡æ»¡å½“å½“â€ï¼Œåˆå› ä¸ºç½‘ç»œæ”¶å‘å¹¶ä¸ä¼šæ¶ˆè€—å¤ªå¤šCPUè®¡ç®—èƒ½åŠ›ï¼Œä¹Ÿä¸éœ€è¦åˆ‡æ¢è¿›ç¨‹ã€çº¿ç¨‹ï¼Œæ‰€ä»¥æ•´ä½“çš„CPUè´Ÿè½½æ˜¯ç›¸å½“ä½çš„ã€‚</p><p>è¿™é‡Œæˆ‘ç”»äº†ä¸€å¼ Nginxâ€œI/Oå¤šè·¯å¤ç”¨â€çš„ç¤ºæ„å›¾ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå®ƒçš„å½¢å¼ä¸HTTP/2çš„æµéå¸¸ç›¸ä¼¼ï¼Œæ¯ä¸ªè¯·æ±‚å¤„ç†å•ç‹¬æ¥çœ‹æ˜¯åˆ†æ•£ã€é˜»å¡çš„ï¼Œä½†å› ä¸ºéƒ½å¤ç”¨åˆ°äº†ä¸€ä¸ªçº¿ç¨‹é‡Œï¼Œæ‰€ä»¥èµ„æºçš„åˆ©ç”¨ç‡éå¸¸é«˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/59/4c6832cdce34133c9ed89237fb9d5059.png?wh=2211*954\" alt=\"\"></p><p>epollè¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå¤§é‡çš„è¿æ¥ç®¡ç†å·¥ä½œéƒ½æ˜¯åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸é‡Œåšçš„ï¼Œè¿™å°±å‡è½»äº†åº”ç”¨ç¨‹åºçš„è´Ÿæ‹…ï¼Œæ‰€ä»¥Nginxå¯ä»¥ä¸ºæ¯ä¸ªè¿æ¥åªåˆ†é…å¾ˆå°çš„å†…å­˜ç»´æŠ¤çŠ¶æ€ï¼Œå³ä½¿æœ‰å‡ ä¸‡ã€å‡ åä¸‡çš„å¹¶å‘è¿æ¥ä¹Ÿåªä¼šæ¶ˆè€—å‡ ç™¾Må†…å­˜ï¼Œè€Œå…¶ä»–çš„WebæœåŠ¡å™¨è¿™ä¸ªæ—¶å€™æ—©å°±â€œMemory not enoughâ€äº†ã€‚</p><h2>å¤šé˜¶æ®µå¤„ç†</h2><p>æœ‰äº†â€œè¿›ç¨‹æ± â€å’Œâ€œI/Oå¤šè·¯å¤ç”¨â€ï¼ŒNginxæ˜¯å¦‚ä½•å¤„ç†HTTPè¯·æ±‚çš„å‘¢ï¼Ÿ</p><p>Nginxåœ¨å†…éƒ¨ä¹Ÿé‡‡ç”¨çš„æ˜¯â€œ<strong>åŒ–æ•´ä¸ºé›¶</strong>â€çš„æ€è·¯ï¼ŒæŠŠæ•´ä¸ªWebæœåŠ¡å™¨åˆ†è§£æˆäº†å¤šä¸ªâ€œåŠŸèƒ½æ¨¡å—â€ï¼Œå°±å¥½åƒæ˜¯ä¹é«˜ç§¯æœ¨ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œä»»æ„æ‹¼æ¥æ­å»ºï¼Œä»è€Œå®ç°äº†é«˜åº¦çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚</p><p>Nginxçš„HTTPå¤„ç†æœ‰å››å¤§ç±»æ¨¡å—ï¼š</p><ol>\n<li>handleræ¨¡å—ï¼šç›´æ¥å¤„ç†HTTPè¯·æ±‚ï¼›</li>\n<li>filteræ¨¡å—ï¼šä¸ç›´æ¥å¤„ç†è¯·æ±‚ï¼Œè€Œæ˜¯åŠ å·¥è¿‡æ»¤å“åº”æŠ¥æ–‡ï¼›</li>\n<li>upstreamæ¨¡å—ï¼šå®ç°åå‘ä»£ç†åŠŸèƒ½ï¼Œè½¬å‘è¯·æ±‚åˆ°å…¶ä»–æœåŠ¡å™¨ï¼›</li>\n<li>balanceæ¨¡å—ï¼šå®ç°åå‘ä»£ç†æ—¶çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</li>\n</ol><p>å› ä¸ºupstreamæ¨¡å—å’Œbalanceæ¨¡å—å®ç°çš„æ˜¯ä»£ç†åŠŸèƒ½ï¼ŒNginxä½œä¸ºâ€œä¸­é—´äººâ€ï¼Œè¿è¡Œæœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»Šå¤©åªè®²handleræ¨¡å—å’Œfilteræ¨¡å—ã€‚</p><p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰äº†è§£è¿‡â€œè®¾è®¡æ¨¡å¼â€è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ¨¡å¼å«åšâ€œ<strong>èŒè´£é“¾</strong>â€ã€‚å®ƒå°±å¥½åƒæ˜¯å·¥å‚é‡Œçš„æµæ°´çº¿ï¼ŒåŸæ–™ä»ä¸€å¤´æµå…¥ï¼Œçº¿ä¸Šæœ‰è®¸å¤šå·¥äººä¼šè¿›è¡Œå„ç§åŠ å·¥å¤„ç†ï¼Œæœ€åä»å¦ä¸€å¤´å‡ºæ¥çš„å°±æ˜¯å®Œæ•´çš„äº§å“ã€‚</p><p>Nginxé‡Œçš„handleræ¨¡å—å’Œfilteræ¨¡å—å°±æ˜¯æŒ‰ç…§â€œèŒè´£é“¾â€æ¨¡å¼è®¾è®¡å’Œç»„ç»‡çš„ï¼ŒHTTPè¯·æ±‚æŠ¥æ–‡å°±æ˜¯â€œåŸææ–™â€ï¼Œå„ç§æ¨¡å—å°±æ˜¯å·¥å‚é‡Œçš„å·¥äººï¼Œèµ°å®Œæ¨¡å—æ„æˆçš„â€œæµæ°´çº¿â€ï¼Œå‡ºæ¥çš„å°±æ˜¯å¤„ç†å®Œæˆçš„å“åº”æŠ¥æ–‡ã€‚</p><p>ä¸‹é¢çš„è¿™å¼ å›¾æ˜¾ç¤ºäº†Nginxçš„â€œæµæ°´çº¿â€ï¼Œåœ¨Nginxé‡Œçš„æœ¯è¯­å«â€œé˜¶æ®µå¼å¤„ç†â€ï¼ˆPhasesï¼‰ï¼Œä¸€å…±æœ‰11ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µé‡Œåˆæœ‰è®¸å¤šå„å¸å…¶èŒçš„æ¨¡å—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/41/30/41318c867fda8a536d0e3db6f9987030.png?wh=1224*843\" alt=\"\"></p><p>æˆ‘ç®€å•åˆ—å‡ ä¸ªä¸æˆ‘ä»¬çš„è¯¾ç¨‹ç›¸å…³çš„æ¨¡å—å§ï¼š</p><ul>\n<li>charsetæ¨¡å—å®ç°äº†å­—ç¬¦é›†ç¼–ç è½¬æ¢ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/104024\">ç¬¬15è®²</a>ï¼‰</li>\n<li>chunkedæ¨¡å—å®ç°äº†å“åº”æ•°æ®çš„åˆ†å—ä¼ è¾“ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/104456\">ç¬¬16è®²</a>ï¼‰</li>\n<li>rangeæ¨¡å—å®ç°äº†èŒƒå›´è¯·æ±‚ï¼Œåªè¿”å›æ•°æ®çš„ä¸€éƒ¨åˆ†ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/104456\">ç¬¬16è®²</a>ï¼‰</li>\n<li>rewriteæ¨¡å—å®ç°äº†é‡å®šå‘å’Œè·³è½¬ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡è‡ªå®šä¹‰è·³è½¬çš„URIï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/105614\">ç¬¬18è®²</a>ï¼‰</li>\n<li>not_modifiedæ¨¡å—æ£€æŸ¥å¤´å­—æ®µâ€œif-Modified-Sinceâ€å’Œâ€œIf-None-Matchâ€ï¼Œå¤„ç†æ¡ä»¶è¯·æ±‚ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/106804\">ç¬¬20è®²</a>ï¼‰</li>\n<li>realipæ¨¡å—å¤„ç†â€œX-Real-IPâ€â€œX-Forwarded-Forâ€ç­‰å­—æ®µï¼Œè·å–å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/107577\">ç¬¬21è®²</a>ï¼‰</li>\n<li>sslæ¨¡å—å®ç°äº†SSL/TLSåè®®æ”¯æŒï¼Œè¯»å–ç£ç›˜ä¸Šçš„è¯ä¹¦å’Œç§é’¥ï¼Œå®ç°TLSæ¡æ‰‹å’ŒSNIã€ALPNç­‰æ‰©å±•åŠŸèƒ½ï¼›ï¼ˆ<a href=\"https://time.geekbang.org/column/article/108643\">å®‰å…¨ç¯‡</a>ï¼‰</li>\n<li>http_v2æ¨¡å—å®ç°äº†å®Œæ•´çš„HTTP/2åè®®ã€‚ï¼ˆ<a href=\"https://time.geekbang.org/column/article/112036\">é£ç¿”ç¯‡</a>ï¼‰</li>\n</ul><p>åœ¨è¿™å¼ å›¾é‡Œï¼Œä½ è¿˜å¯ä»¥çœ‹åˆ°limit_connã€limit_reqã€accessã€logç­‰å…¶ä»–æ¨¡å—ï¼Œå®ƒä»¬å®ç°çš„æ˜¯é™æµé™é€Ÿã€è®¿é—®æ§åˆ¶ã€æ—¥å¿—ç­‰åŠŸèƒ½ï¼Œä¸åœ¨HTTPåè®®è§„å®šä¹‹å†…ï¼Œä½†å¯¹äºè¿è¡Œåœ¨ç°å®ä¸–ç•Œçš„WebæœåŠ¡å™¨å´æ˜¯å¿…å¤‡çš„ã€‚</p><p>å¦‚æœä½ æœ‰Cè¯­è¨€åŸºç¡€ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥ä¸‹è½½Nginxçš„æºç ï¼Œåœ¨ä»£ç çº§åˆ«ä»”ç»†çœ‹çœ‹HTTPçš„å¤„ç†è¿‡ç¨‹ã€‚</p><h2>å°ç»“</h2><ol>\n<li><span class=\"orange\">Nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„WebæœåŠ¡å™¨ï¼Œå®ƒéå¸¸çš„è½»é‡çº§ï¼Œæ¶ˆè€—çš„CPUã€å†…å­˜å¾ˆå°‘ï¼›</span></li>\n<li><span class=\"orange\">Nginxé‡‡ç”¨â€œmaster/workersâ€è¿›ç¨‹æ± æ¶æ„ï¼Œä¸ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œæ¶ˆé™¤äº†è¿›ç¨‹ã€çº¿ç¨‹åˆ‡æ¢çš„æˆæœ¬ï¼›</span></li>\n<li><span class=\"orange\">NginxåŸºäºepollå®ç°äº†â€œI/Oå¤šè·¯å¤ç”¨â€ï¼Œä¸ä¼šé˜»å¡ï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆé«˜ï¼›</span></li>\n<li><span class=\"orange\">Nginxä½¿ç”¨äº†â€œèŒè´£é“¾â€æ¨¡å¼ï¼Œå¤šä¸ªæ¨¡å—åˆ†å·¥åˆä½œï¼Œè‡ªç”±ç»„åˆï¼Œä»¥æµæ°´çº¿çš„æ–¹å¼å¤„ç†HTTPè¯·æ±‚ã€‚</span></li>\n</ol><h2>è¯¾ä¸‹ä½œä¸š</h2><ol>\n<li>ä½ æ˜¯æ€ä¹ˆç†è§£è¿›ç¨‹ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶çš„æˆæœ¬çš„ï¼Œä¸ºä»€ä¹ˆNginxè¦å°½é‡é¿å…ï¼Ÿ</li>\n<li>è¯•ç€è‡ªå·±æè¿°ä¸€ä¸‹Nginxç”¨è¿›ç¨‹ã€epollã€æ¨¡å—æµæ°´çº¿å¤„ç†HTTPè¯·æ±‚çš„è¿‡ç¨‹ã€‚</li>\n</ol><p>æ¬¢è¿ä½ æŠŠè‡ªå·±çš„å­¦ä¹ ä½“ä¼šå†™åœ¨ç•™è¨€åŒºï¼Œä¸æˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/3d/4c7bceb80a8027389705e9d6ec9eb43d.png?wh=1769*3085\" alt=\"unpreview\"></p><p></p>","comments":[{"had_liked":false,"id":123807,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565764943,"is_pvip":false,"replies":[{"id":"45382","content":"âˆš","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565774334,"ip_address":"","comment_id":123807,"utype":1}],"discussion_count":1,"race_medal":0,"score":"139004718415","product_id":100029001,"comment_content":"ä½ æ˜¯æ€ä¹ˆç†è§£è¿›ç¨‹ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶çš„æˆæœ¬çš„ï¼Œä¸ºä»€ä¹ˆ Nginx è¦å°½é‡é¿å…ï¼Ÿ<br>å½“ä»ä¸€ä¸ªä»»åŠ¡åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå½“å‰ä»»åŠ¡çš„ä¸Šä¸‹æ–‡ï¼Œå¦‚å †æ ˆï¼ŒæŒ‡ä»¤æŒ‡é’ˆç­‰éƒ½è¦ä¿å­˜èµ·æ¥ï¼Œä»¥ä¾¿ä¸‹æ¬¡ä»»åŠ¡æ—¶æ¢å¤ï¼Œç„¶åå†æŠŠå¦ä¸€ä¸ªä»»åŠ¡çš„å †æ ˆåŠ è½½è¿›æ¥ï¼Œå¦‚æœæœ‰å¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå°±ä¼šå½±å“æ€§èƒ½ã€‚<br><br>è¯•ç€è‡ªå·±æè¿°ä¸€ä¸‹ Nginx ç”¨è¿›ç¨‹ã€epollã€æ¨¡å—æµæ°´çº¿å¤„ç† HTTP è¯·æ±‚çš„è¿‡ç¨‹ã€‚<br>Nginx å¯åŠ¨è¿›ç¨‹ï¼Œä¸€ä¸ªmasterï¼Œå¤šä¸ªworkerï¼Œåˆ›å»ºepollï¼Œç›‘å¬ç«¯å£ï¼Œå¤šè·¯å¤ç”¨æ¥ç®¡ç†httpè¯·æ±‚ï¼Œhttpè¯·æ±‚åˆ°è¾¾workerå†…éƒ¨ï¼Œé€šè¿‡æ¨¡å—æµæ°´çº¿å¤„ç†ï¼Œæœ€åè¿”å›httpå“åº”ã€‚","like_count":33,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462823,"discussion_content":"âˆš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565774334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160515,"user_name":"å¤ç›®","can_delete":false,"product_type":"c1","uid":1212750,"ip_address":"","ucode":"67C075A01CF4D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/4e/d71092f4.jpg","comment_is_top":false,"comment_ctime":1575967717,"is_pvip":false,"replies":[{"id":"61317","content":"nginxä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œå’Œredisä¸€æ ·è‡ªå·±å°è£…äº†epollã€‚å•çº¿ç¨‹çš„å¥½å¤„æ˜¯æ²¡æœ‰race conditionï¼Œå¤„ç†ç®€å•ã€‚<br><br>nginxæ¯”redisé«˜æ˜çš„ä¸€ç‚¹æ˜¯å¤šè¿›ç¨‹ï¼Œæé«˜äº†ç¨³å®šæ€§å’Œå¹¶å‘èƒ½åŠ›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1576026074,"ip_address":"","comment_id":160515,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48820607973","product_id":100029001,"comment_content":"å¥½åƒé«˜æ€§èƒ½çš„æœåŠ¡éƒ½æ˜¯è¿™æ ·ç©çš„ï¼Œnginxè¿™ä¸ªæ¶æ„ç±»ä¼¼äºnettyä¸­çš„å¤šçº¿ç¨‹reactoræ¨¡å¼ï¼Œredisåˆ™æ˜¯å•çº¿ç¨‹reactor","like_count":12,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477397,"discussion_content":"nginxä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œå’Œredisä¸€æ ·è‡ªå·±å°è£…äº†epollã€‚å•çº¿ç¨‹çš„å¥½å¤„æ˜¯æ²¡æœ‰race conditionï¼Œå¤„ç†ç®€å•ã€‚\n\nnginxæ¯”redisé«˜æ˜çš„ä¸€ç‚¹æ˜¯å¤šè¿›ç¨‹ï¼Œæé«˜äº†ç¨³å®šæ€§å’Œå¹¶å‘èƒ½åŠ›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576026074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123637,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1565737910,"is_pvip":false,"replies":[{"id":"45329","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565743903,"ip_address":"","comment_id":123637,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44515410870","product_id":100029001,"comment_content":"ä¸€ä¸ªçº¿ç¨‹çš„æ—¶é—´ç‰‡æ²¡ç”¨å®Œå°±ç³»ç»Ÿè°ƒç”¨è¢«ç³»ç»Ÿè°ƒåº¦åˆ‡æ¢å‡ºå»ï¼Œæµªè´¹äº†å‰©ä½™çš„æ—¶é—´ç‰‡ï¼Œnginxé€šè¿‡epollå’Œæ³¨å†Œå›è°ƒï¼Œå’Œéé˜»å¡ioè‡ªå·±åœ¨ç”¨æˆ·æ€ä¸»åŠ¨åˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Œå……åˆ†åˆ©ç”¨äº†ç³»ç»Ÿåˆ†é…ç»™è¿›ç¨‹æˆ–è€…çº¿ç¨‹çš„æ—¶é—´ç‰‡ï¼Œæ‰€ä»¥å¯¹ç³»ç»Ÿèµ„æºåˆ©ç”¨å¾ˆå……åˆ†","like_count":11,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462756,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565743903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553877,"discussion_content":"æµªè´¹å‰©ä½™æ—¶é—´ç‰‡ä»€ä¹ˆæ„æ€ï¼Œåä¸ä¼šåˆ‡å›æ¥å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646124486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165923,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1577345514,"is_pvip":false,"replies":[{"id":"63318","content":"<br>1.unix&#47;linuxæœ‰ä¸ªç‰¹åˆ«çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©è¿›ç¨‹â€œç»‘å®šâ€åœ¨ä¸€ä¸ªcpuä¸Šè¿è¡Œï¼Œä¸ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦åˆ°å…¶ä»–cpuä¸Šè·‘ï¼Œè¿™æ ·å°±å‡å°‘äº†åˆ‡æ¢çš„æˆæœ¬ï¼Œæé«˜è¿è¡Œæ•ˆç‡ã€‚ä¸æ˜¯ç®¡ç†è¿›ç¨‹çš„æ„æ€ã€‚é…ç½®æŒ‡ä»¤æ˜¯â€œworker_cpu_affinityâ€ã€‚<br><br>2.åœ¨unixä¸Šæœ‰å¾ˆå¤šæœåŠ¡ç®¡ç†ç¨‹åºï¼Œæ¯”å¦‚systemdã€supervisorï¼Œå¯ä»¥å®ç°è¿›ç¨‹ç›‘æ§ã€è‡ªåŠ¨é‡å¯ç­‰ã€‚è€ŒNginxçš„masterè¿›ç¨‹å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œå°±ä¸éœ€è¦è¿™æ ·çš„å¤–éƒ¨ç¨‹åºæ¥ç®¡ç†è¿›ç¨‹ï¼Œä¿æŒæœåŠ¡çš„ç¨³å®šæ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1577407505,"ip_address":"","comment_id":165923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27347149290","product_id":100029001,"comment_content":"è€å¸ˆï¼Œä»¥ä¸‹é—®é¢˜ï¼Œéº»çƒ¦å›ç­”ä¸€ä¸‹ï¼Œè°¢è°¢ï¼š<br><br>1. æŠŠè¿›ç¨‹â€œç»‘å®šâ€åˆ°ç‹¬ç«‹çš„ CPU ä¸Šã€‚æ„æ€æ˜¯ä¸€ä¸ªCPUä¸“é—¨è´Ÿè´£ç®¡ç†è¿›ç¨‹å˜›ï¼Ÿ<br><br>2. ä¸è¿‡ master è¿›ç¨‹å®Œå…¨æ˜¯ Nginx è‡ªè¡Œç”¨ C è¯­è¨€å®ç°çš„ï¼Œè¿™å°±æ‘†è„±äº†å¤–éƒ¨çš„ä¾èµ–ï¼Œç®€åŒ–äº† Nginx çš„éƒ¨ç½²å’Œé…ç½®ã€‚è¿™å¥è¯æ²¡ç†è§£ã€‚","like_count":7,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479315,"discussion_content":"\n1.unix/linuxæœ‰ä¸ªç‰¹åˆ«çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©è¿›ç¨‹â€œç»‘å®šâ€åœ¨ä¸€ä¸ªcpuä¸Šè¿è¡Œï¼Œä¸ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦åˆ°å…¶ä»–cpuä¸Šè·‘ï¼Œè¿™æ ·å°±å‡å°‘äº†åˆ‡æ¢çš„æˆæœ¬ï¼Œæé«˜è¿è¡Œæ•ˆç‡ã€‚ä¸æ˜¯ç®¡ç†è¿›ç¨‹çš„æ„æ€ã€‚é…ç½®æŒ‡ä»¤æ˜¯â€œworker_cpu_affinityâ€ã€‚\n\n2.åœ¨unixä¸Šæœ‰å¾ˆå¤šæœåŠ¡ç®¡ç†ç¨‹åºï¼Œæ¯”å¦‚systemdã€supervisorï¼Œå¯ä»¥å®ç°è¿›ç¨‹ç›‘æ§ã€è‡ªåŠ¨é‡å¯ç­‰ã€‚è€ŒNginxçš„masterè¿›ç¨‹å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œå°±ä¸éœ€è¦è¿™æ ·çš„å¤–éƒ¨ç¨‹åºæ¥ç®¡ç†è¿›ç¨‹ï¼Œä¿æŒæœåŠ¡çš„ç¨³å®šæ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577407505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124358,"user_name":"å¾æµ·æµª","can_delete":false,"product_type":"c1","uid":1078528,"ip_address":"","ucode":"21801C420D0610","user_header":"https://static001.geekbang.org/account/avatar/00/10/75/00/618b20da.jpg","comment_is_top":false,"comment_ctime":1565866008,"is_pvip":false,"replies":[{"id":"45713","content":"great","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565916773,"ip_address":"","comment_id":124358,"utype":1}],"discussion_count":1,"race_medal":1,"score":"27335669784","product_id":100029001,"comment_content":"å¤šçº¿ç¨‹å°±å¥½æ¯”ä¸€æ¡æµæ°´çº¿æœ‰å¤šä¸ªæœºæ¢°æ‰‹ï¼ŒæŠŠä¸€ä»¶äº‹æƒ…ä¸­é€”äº¤ç»™å…¶ä»–çº¿ç¨‹å¤„ç†ï¼Œè¦äº¤æ¥å¤„ç†ä¸­é—´çŠ¶æ€ä¿¡æ¯ã€‚<br>å•è¿›ç¨‹å°±å¥½æ¯”ä¸€æ¡æµæ°´çº¿åªæœ‰ä¸€ä¸ªæœºæ¢°æ‰‹ï¼Œåˆ‡æ¢æ—¶é—´ç‰‡æ—¶æš‚åœçŠ¶æ€å°±å¯ä»¥ï¼Œä¸ç”¨äº¤æ¥ä¿¡æ¯ï¼Œå‡å°‘æ— ç”¨åŠŸï¼Œæ‰€ä»¥æ•ˆç‡é«˜ã€‚","like_count":6,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463133,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565916773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242109,"user_name":"fakership","can_delete":false,"product_type":"c1","uid":1097136,"ip_address":"","ucode":"42B5F286B6CC19","user_header":"https://static001.geekbang.org/account/avatar/00/10/bd/b0/8b808d33.jpg","comment_is_top":false,"comment_ctime":1597591276,"is_pvip":false,"replies":[{"id":"89370","content":"æ˜¯çš„ï¼Œä½†è¿™å®Œå…¨æ˜¯ä¸¤ä¸ªä¸ç›¸å…³çš„äº‹æƒ…ã€‚<br><br>é˜Ÿå¤´é˜»å¡æ˜¯http&#47;1å›ºæœ‰çš„é—®é¢˜ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆwebæœåŠ¡å™¨éƒ½æ— æ³•è§£å†³ï¼Œæ˜¯å¯¹å•ä¸ªå®¢æˆ·ç«¯è€Œè¨€çš„ã€‚<br><br>è€ŒNginxçš„epollåˆ™æ˜¯è§£å†³äº†å¤šå®¢æˆ·ç«¯å¹¶å‘è¯·æ±‚çš„é—®é¢˜ï¼Œé¿å…ä¸€ä¸ªå®¢æˆ·ç«¯é˜»å¡å…¶ä»–å®¢æˆ·ç«¯çš„å¤„ç†ï¼Œå¯ä»¥æ”¯æŒæµ·é‡å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1597626928,"ip_address":"","comment_id":242109,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18777460460","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜å’¨è¯¢ä¸‹<br>è™½ç„¶nginxæ˜¯ä½¿ç”¨äº†epollåšäº†ioçš„å¤šè·¯å¤ç”¨ï¼Œä½†å¯¹äºé˜Ÿå¤´é˜»å¡çš„è¯æ„Ÿè§‰å¹¶æ²¡æœ‰å¸®åŠ©å•Šï¼Œå› ä¸ºè¿˜æ˜¯è¦ç­‰ioäº‹ä»¶å›è°ƒåå‘é€httpå“åº”æŠ¥æ–‡ï¼Œæ‰€ä»¥è¿˜æ˜¯é˜»å¡äº†ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚","like_count":5,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503924,"discussion_content":"æ˜¯çš„ï¼Œä½†è¿™å®Œå…¨æ˜¯ä¸¤ä¸ªä¸ç›¸å…³çš„äº‹æƒ…ã€‚\n\né˜Ÿå¤´é˜»å¡æ˜¯http/1å›ºæœ‰çš„é—®é¢˜ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆwebæœåŠ¡å™¨éƒ½æ— æ³•è§£å†³ï¼Œæ˜¯å¯¹å•ä¸ªå®¢æˆ·ç«¯è€Œè¨€çš„ã€‚\n\nè€ŒNginxçš„epollåˆ™æ˜¯è§£å†³äº†å¤šå®¢æˆ·ç«¯å¹¶å‘è¯·æ±‚çš„é—®é¢˜ï¼Œé¿å…ä¸€ä¸ªå®¢æˆ·ç«¯é˜»å¡å…¶ä»–å®¢æˆ·ç«¯çš„å¤„ç†ï¼Œå¯ä»¥æ”¯æŒæµ·é‡å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597626928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123718,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1565746971,"is_pvip":false,"replies":[{"id":"45352","content":"<br>1.Nginxçš„å†…å®¹å¾ˆå¤šï¼Œçœ‹ä½ æƒ³å­¦å“ªæ–¹é¢äº†ã€‚å¦‚æœæ˜¯å•çº¯çš„è¿ç»´æ“ä½œç½‘ä¸Šçš„èµ„æ–™æœ‰å¾ˆå¤šï¼Œå¦‚æœæ˜¯æƒ³å­¦Nginxå¼€å‘å’Œæºç å°±çœ‹ã€ŠNginxå®Œå…¨å¼€å‘æŒ‡å—ã€‹å§ã€‚<br><br>2.è¯´çš„å¾ˆå¯¹ï¼Œçœ‹Nginxæºç å¯ä»¥å­¦åˆ°å¾ˆå¤šé«˜æ€§èƒ½ç¼–ç¨‹çš„æŠ€å·§ã€‚<br><br>3.Nginxé‡Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä½†éœ€è¦â€œé­”æ”¹â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565750563,"ip_address":"","comment_id":123718,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18745616155","product_id":100029001,"comment_content":"è€å¸ˆå¥½!æˆ‘æ‰“ç®—å­¦ä¹ nginxï¼Œæœ‰é€‚åˆåˆå­¦è€…çš„ä¹¦æ¨èä¹ˆ?Javaå·¥ç¨‹å¸ˆï¼Œcå…¨å¿˜äº†ã€‚<br>çº¿ç¨‹åˆ‡æ¢å¼€é”€:çº¿ç¨‹åˆ‡æ¢éœ€è¦è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚éœ€è¦ä»ç”¨æˆ·æ€-&gt;å†…æ ¸æ€-&gt;ç”¨æˆ·æ€ã€‚ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œéœ€è¦ä¿å­˜å¯„å­˜å™¨ä¸­çš„ä¿¡æ¯ï¼Œä»¥ä¾¿äºå®Œæˆç³»ç»Ÿè°ƒç”¨åè¿˜åŸç°åœºã€‚ä¼šå¤šè·‘å¾ˆå¤šæŒ‡ä»¤ï¼Œå‡ºå…¥æ ˆä¼šæ¯”å¯„å­˜å™¨æ…¢å¾ˆå¤šã€‚ç›¸å¯¹æ¥è¯´å¼€é”€å°±å¾ˆå¤§äº†ã€‚<br>nginxå’Œredisä¸€æ ·é‡‡ç”¨å•çº¿ç¨‹æ¨¡å‹ã€‚æ˜¯å› ä¸ºcpuè®¡ç®—ä¸å¯èƒ½æ˜¯å®ƒä»¬ç“¶é¢ˆ(æ‰€ä»¥æœ‰äº›è€—cpuèµ„æºé«˜çš„è®¡ç®—ä¸é€‚åˆæ”¾åœ¨nginxä¸Šåšä¼šå¯¼è‡´å“åº”æ—¶é—´å˜é•¿)?è¿›ç¨‹æ± +å•çº¿ç¨‹æ˜¯æŒ‡ï¼Œæ¯ä¸ªworkerè¿›ç¨‹éƒ½æ˜¯å•çº¿ç¨‹æ˜¯ä¹ˆ?","like_count":5,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462786,"discussion_content":"\n1.Nginxçš„å†…å®¹å¾ˆå¤šï¼Œçœ‹ä½ æƒ³å­¦å“ªæ–¹é¢äº†ã€‚å¦‚æœæ˜¯å•çº¯çš„è¿ç»´æ“ä½œç½‘ä¸Šçš„èµ„æ–™æœ‰å¾ˆå¤šï¼Œå¦‚æœæ˜¯æƒ³å­¦Nginxå¼€å‘å’Œæºç å°±çœ‹ã€ŠNginxå®Œå…¨å¼€å‘æŒ‡å—ã€‹å§ã€‚\n\n2.è¯´çš„å¾ˆå¯¹ï¼Œçœ‹Nginxæºç å¯ä»¥å­¦åˆ°å¾ˆå¤šé«˜æ€§èƒ½ç¼–ç¨‹çš„æŠ€å·§ã€‚\n\n3.Nginxé‡Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä½†éœ€è¦â€œé­”æ”¹â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565750563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":223130,"user_name":"Aaron","can_delete":false,"product_type":"c1","uid":1156222,"ip_address":"","ucode":"059966DCA3A8F0","user_header":"https://static001.geekbang.org/account/avatar/00/11/a4/7e/963c037c.jpg","comment_is_top":false,"comment_ctime":1591006336,"is_pvip":false,"replies":[{"id":"82269","content":"<br>1.å•çº¿ç¨‹ç†è§£çš„å¾ˆå¯¹ã€‚è¿›ç¨‹æ± é‡Œçš„æ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå´©æºƒä¸ä¼šå½±å“æ•´ä½“æœåŠ¡ï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆçº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿå°±å®Œè›‹äº†ã€‚<br><br>2.å¤šè¿›ç¨‹åˆ†æ•£è¿è¡Œåœ¨å¤šä¸ªcpuä¸Šï¼Œå½¼æ­¤ä¸å¹²æ‰°ï¼Œå°±ä¸ä¼šå‡ºç°è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br><br>3.cpu affinity æ˜¯å¯é€‰çš„ï¼Œå¯¹äºå•cpuå°±æ²¡æœ‰å¼€å¯çš„å¿…è¦ï¼Œåè€Œä¼šå¢åŠ è¿›ç¨‹åˆ‡æ¢çš„æˆæœ¬ã€‚<br><br>4.åˆšæ‰è¯´ï¼Œå•è¿›ç¨‹å¤šçº¿ç¨‹çš„ç¼ºç‚¹å°±æ˜¯ä¸å¤Ÿç¨³å®šï¼Œä¸€ä¸ªçº¿ç¨‹å‡ºé—®é¢˜ï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½å—å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1591060118,"ip_address":"","comment_id":223130,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10180940928","product_id":100029001,"comment_content":"å¯¹ã€è¿›ç¨‹æ±  + å•çº¿ç¨‹ã€çš„æ¨¡å¼è¿˜æ˜¯ä¸å¤ªé€å½»ã€‚<br><br>æˆ‘ç†è§£ï¼Œã€å•çº¿ç¨‹ã€æŒ‡çš„æ˜¯æ‰€æœ‰ HTTP è¯·æ±‚æ”¾åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œé€šè¿‡ã€I&#47;O å¤šè·¯å¤ç”¨ã€çš„æŠ€æœ¯å¤„ç†ï¼Œå®é™…å°±æ˜¯é«˜åº¦é›†ä¸­ï¼ˆæ— é˜»å¡ï¼‰åœ°å ç”¨äº† CPUï¼ˆæ ¸å¿ƒï¼‰åœ°è¿ç®—èƒ½åŠ›ã€‚<br><br>é‚£ä¹ˆï¼Œæ—¢ç„¶è¯·æ±‚æ˜¯å•çº¿ç¨‹çš„ï¼Œé‚£è¿›ç¨‹æ± åœ°ä½œç”¨åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœæ˜¯å¤šè¿›ç¨‹çš„ï¼Œä¸å°±åˆå›åˆ°è¿›ç¨‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¶ˆè€—é—®é¢˜äº†å—ï¼Ÿ<br><br>å¦ï¼ŒNginx é€šè¿‡ cpu affinity å°†è¿›ç¨‹ç»‘å®šåˆ° CPUï¼Œå‡è®¾æ˜¯å• CPUï¼Œå°†ä¸‰ä¸ª worker è¿›ç¨‹ç»‘å®šåˆ°åŒä¸€ä¸ªç‰©ç† CPU åœ°æ„ä¹‰åˆåœ¨å“ªå‘¢ï¼Ÿ<br><br>ä¸ªäººè®¤ä¸ºæ•ˆç‡æœ€é«˜çš„æ–¹å¼ï¼Œæ˜¯æŒ‰ç…§ CPU çš„æ ¸å¿ƒæ•°é‡åˆ›å»ºä¸€ä¸ªã€çº¿ç¨‹æ± ã€ï¼Œå°†æ‰€æœ‰è¯·æ±‚åˆ†é…åˆ°ã€çº¿ç¨‹æ± ã€å†…ä¸åŒçš„çº¿ç¨‹ï¼Œè¿™æ ·åœ¨ã€I&#47;O å¤šè·¯å¤ç”¨ã€çš„åŠ æŒä¸‹èƒ½è·‘æ»¡ CPU çš„æ€§èƒ½ã€‚","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497021,"discussion_content":"\n1.å•çº¿ç¨‹ç†è§£çš„å¾ˆå¯¹ã€‚è¿›ç¨‹æ± é‡Œçš„æ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå´©æºƒä¸ä¼šå½±å“æ•´ä½“æœåŠ¡ï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆçº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿå°±å®Œè›‹äº†ã€‚\n\n2.å¤šè¿›ç¨‹åˆ†æ•£è¿è¡Œåœ¨å¤šä¸ªcpuä¸Šï¼Œå½¼æ­¤ä¸å¹²æ‰°ï¼Œå°±ä¸ä¼šå‡ºç°è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚\n\n3.cpu affinity æ˜¯å¯é€‰çš„ï¼Œå¯¹äºå•cpuå°±æ²¡æœ‰å¼€å¯çš„å¿…è¦ï¼Œåè€Œä¼šå¢åŠ è¿›ç¨‹åˆ‡æ¢çš„æˆæœ¬ã€‚\n\n4.åˆšæ‰è¯´ï¼Œå•è¿›ç¨‹å¤šçº¿ç¨‹çš„ç¼ºç‚¹å°±æ˜¯ä¸å¤Ÿç¨³å®šï¼Œä¸€ä¸ªçº¿ç¨‹å‡ºé—®é¢˜ï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½å—å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591060118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156222,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/7e/963c037c.jpg","nickname":"Aaron","note":"","ucode":"059966DCA3A8F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277571,"discussion_content":"æ‰€ä»¥è¯´è¿›ç¨‹æ± çš„æ•°é‡è¦æ ¹æ® CPU ä¸ªæ•°è®¾ç½®ï¼Œå¯¹å—ï¼Ÿå• CPU çš„è¯ä¹Ÿå°±æ²¡å¿…è¦ã€æ± ã€äº†ï¼Œå•è¿›ç¨‹å•çº¿ç¨‹å°±å¯ä»¥äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591073528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1156222,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a4/7e/963c037c.jpg","nickname":"Aaron","note":"","ucode":"059966DCA3A8F0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574196,"discussion_content":"FYI\nåº”è¯¥ä¸æ˜¯ï¼Œå¦‚æœåªæ˜¯å•è¿›ç¨‹ï¼Œè¿›ç¨‹æŒ‚äº†ï¼Œæœ‰æ„å‘³ç€æ•´ä¸ªæœåŠ¡æŒ‚äº†ã€‚\nåº”è¯¥æ˜¯ä¸€ä¸ªå–èˆçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653896346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277571,"ip_address":""},"score":574196,"extra":""}]}]},{"had_liked":false,"id":173382,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1579517186,"is_pvip":false,"replies":[{"id":"67232","content":"è¯´çš„å¾ˆå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1579531850,"ip_address":"","comment_id":173382,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10169451778","product_id":100029001,"comment_content":"è¯´ä¸€ä¸‹http2å’Œnginxçš„å¤šè·¯å¤ç”¨åŒºåˆ«å’Œè”ç³»ï¼š<br>http2çš„å¤šè·¯å¤ç”¨ï¼šå¤šä¸ªè¯·æ±‚å¤ç”¨åŒä¸€ä¸ªè¿æ¥å¹¶è¡Œä¼ è¾“æ•°æ®ï¼Œä¸”æ¯ä¸ªè¯·æ±‚æŠ½è±¡ä¸ºæµä¼ è¾“çš„å¯¹è±¡ä¸ºå¸§åºåˆ—ã€‚<br>nginxçš„IOå¤šè·¯å¤ç”¨ï¼šå°†å¤šä¸ªçº¿ç¨‹çš„è¯·æ±‚æ‰“æ•£ï¼Œæ±‡å…¥åŒä¸€ä¸ªçº¿ç¨‹ä¸­ä¼ è¾“ï¼Œepollç›‘å¬åˆ°äº‹ä»¶é€šé“å¯è¯»æˆ–è€…å¯å†™çš„æ—¶å€™å–å‡ºæˆ–è€…å†™å…¥æ•°æ®ï¼Œæ‰€ä»¥nginxçš„IOå¤šè·¯å¤ç”¨æ˜¯åŸºäºlinuxå†…æ ¸epollå®ç°çš„ä¸€ç§äº‹ä»¶ç›‘å¬æœºåˆ¶ï¼Œæ˜¯NIOéé˜»å¡IOã€‚<br>","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482054,"discussion_content":"è¯´çš„å¾ˆå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579531850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123636,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1565737846,"is_pvip":false,"replies":[{"id":"45330","content":"âˆš","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565743910,"ip_address":"","comment_id":123636,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10155672438","product_id":100029001,"comment_content":"åˆ‡æ¢cpuéœ€è¦ä¿å­˜çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åå†åˆ‡å›å»ï¼Œè¿™æ˜¯å¼€é”€","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462755,"discussion_content":"âˆš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565743910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5106,"discussion_content":"âˆšå°±æ˜¯å¯¹é’©å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565948265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1127761,"avatar":"https://static001.geekbang.org/account/avatar/00/11/35/51/c616f95a.jpg","nickname":"é˜¿é”‹","note":"","ucode":"7AF449ABA89242","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4819,"discussion_content":"âˆš è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565752881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284421,"user_name":"è„±ç¼°çš„é‡é©¬__","can_delete":false,"product_type":"c1","uid":1447569,"ip_address":"","ucode":"D5F993E7232C61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","comment_is_top":false,"comment_ctime":1616238717,"is_pvip":false,"replies":[{"id":"103156","content":"tomcatåº”è¯¥ç®—æ˜¯javaå®¹å™¨å§ï¼Œä¸»è¦æ˜¯å®ç°ä¸šåŠ¡ï¼Œä¸æ˜¯ä¸“é—¨çš„webæœåŠ¡å™¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1616290041,"ip_address":"","comment_id":284421,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5911206013","product_id":100029001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œtomcatä¸ä¸»æµå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517343,"discussion_content":"tomcatåº”è¯¥ç®—æ˜¯javaå®¹å™¨å§ï¼Œä¸»è¦æ˜¯å®ç°ä¸šåŠ¡ï¼Œä¸æ˜¯ä¸“é—¨çš„webæœåŠ¡å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616290041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233267,"user_name":"çš®ç‰¹å°”","can_delete":false,"product_type":"c1","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1594275427,"is_pvip":false,"replies":[{"id":"86149","content":"ä¸æ˜¯ã€‚<br><br>Nginxæ˜¯ç”¨çº¯Cå¼€å‘çš„ï¼Œé‡Œé¢æ²¡æœ‰åç¨‹çš„æ¦‚å¿µï¼Œå®ƒå†…éƒ¨ç”¨çš„æ˜¯epolläº‹ä»¶æœºåˆ¶ï¼Œreactorå¹¶å‘æ¨¡å¼ï¼Œæœ‰readyäº‹ä»¶å°±å›è°ƒã€‚<br><br>OpenRestyæŠŠluaçš„åç¨‹å’Œepolläº‹ä»¶æœºåˆ¶ç»“åˆåœ¨äº†ä¸€èµ·ï¼Œä½†ä¸¤è€…è¿˜æ˜¯ä¸èƒ½æ··ä¸ºä¸€è°ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1594343310,"ip_address":"","comment_id":233267,"utype":1}],"discussion_count":3,"race_medal":1,"score":"5889242723","product_id":100029001,"comment_content":"Nginxè¿™ç§å¼‚æ­¥å¤„ç†æ–¹å¼å«â€œåç¨‹â€å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500965,"discussion_content":"ä¸æ˜¯ã€‚\n\nNginxæ˜¯ç”¨çº¯Cå¼€å‘çš„ï¼Œé‡Œé¢æ²¡æœ‰åç¨‹çš„æ¦‚å¿µï¼Œå®ƒå†…éƒ¨ç”¨çš„æ˜¯epolläº‹ä»¶æœºåˆ¶ï¼Œreactorå¹¶å‘æ¨¡å¼ï¼Œæœ‰readyäº‹ä»¶å°±å›è°ƒã€‚\n\nOpenRestyæŠŠluaçš„åç¨‹å’Œepolläº‹ä»¶æœºåˆ¶ç»“åˆåœ¨äº†ä¸€èµ·ï¼Œä½†ä¸¤è€…è¿˜æ˜¯ä¸èƒ½æ··ä¸ºä¸€è°ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594343310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1554764,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b9/4c/8c9edc85.jpg","nickname":"å°åº","note":"","ucode":"7C8367CDB47163","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385996,"discussion_content":"ä½ è¯´åˆ°äº†è¿™ä¸ªï¼Œæˆ‘è®¤ä¸ºå’Œpythonä¸­åç¨‹çš„æ¦‚å¿µéå¸¸ç±»ä¼¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627375526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1017161,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","nickname":"çš®ç‰¹å°”","note":"","ucode":"313862C91DD325","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290113,"discussion_content":"è°¢è°¢è§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594347980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212491,"user_name":"zero","can_delete":false,"product_type":"c1","uid":1538554,"ip_address":"","ucode":"C3744C5164F30F","user_header":"https://static001.geekbang.org/account/avatar/00/17/79/fa/48b481fe.jpg","comment_is_top":false,"comment_ctime":1588133227,"is_pvip":false,"replies":[{"id":"78939","content":"è¿™ä¸ªè¦è”ç³»æå®¢æ—¶é—´å§ï¼Œç‰ˆæƒåœ¨ä»–ä»¬é‚£é‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1588138599,"ip_address":"","comment_id":212491,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883100523","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³å†™åšå®¢ï¼Œæˆ‘å†™çš„åšå®¢é‡Œé¢èƒ½ç›—ä¸€ä¸‹æ‚¨çš„å›¾ä¹ˆï¼ˆæ‚¨çš„å›¾åšçš„å¤ªç›´è§‚äº†ä¸€çœ‹å°±æ‡‚äº†ï¼‰ï¼Œæˆ‘ä¼šè‘—åå›¾ç‰‡çš„å‡ºå¤„ğŸ˜‡ğŸ˜‡","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493522,"discussion_content":"è¿™ä¸ªè¦è”ç³»æå®¢æ—¶é—´å§ï¼Œç‰ˆæƒåœ¨ä»–ä»¬é‚£é‡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588138599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123847,"user_name":"é˜¿é”‹","can_delete":false,"product_type":"c1","uid":1127761,"ip_address":"","ucode":"7AF449ABA89242","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/51/c616f95a.jpg","comment_is_top":false,"comment_ctime":1565770627,"is_pvip":false,"replies":[{"id":"45546","content":"æ­£å‘ä»£ç†å’Œåå‘ä»£ç†æ˜¯æ ¹æ®å®ƒæ‰€åœ¨çš„ä½ç½®æ¥å®šä¹‰çš„ï¼Œé è¿‘å®¢æˆ·ç«¯å°±æ˜¯æ­£å‘ï¼Œé è¿‘æœåŠ¡å™¨å°±æ˜¯åå‘ã€‚<br><br>ä»£ç†ä¸ç¼“å­˜æ˜¯ä¸ç›¸å…³çš„ï¼Œä»£ç†å¯ä»¥æ²¡æœ‰ç¼“å­˜åŠŸèƒ½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565830250,"ip_address":"","comment_id":123847,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5860737923","product_id":100029001,"comment_content":"ç¼“å­˜æœåŠ¡å™¨ï¼Œæ˜¯å±äºæ­£å‘ä»£ç†è¿˜æ˜¯åå‘ä»£ç†ï¼Œè¿˜æ˜¯æ ¹æ®æƒ…å†µè€Œå®šã€‚","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462842,"discussion_content":"æ­£å‘ä»£ç†å’Œåå‘ä»£ç†æ˜¯æ ¹æ®å®ƒæ‰€åœ¨çš„ä½ç½®æ¥å®šä¹‰çš„ï¼Œé è¿‘å®¢æˆ·ç«¯å°±æ˜¯æ­£å‘ï¼Œé è¿‘æœåŠ¡å™¨å°±æ˜¯åå‘ã€‚\n\nä»£ç†ä¸ç¼“å­˜æ˜¯ä¸ç›¸å…³çš„ï¼Œä»£ç†å¯ä»¥æ²¡æœ‰ç¼“å­˜åŠŸèƒ½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565830250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574197,"discussion_content":"FYI\næ­£å‘ä»£ç†\nä»¥æˆ‘ä»¬è®¿é—®å›½å¤–çš„ç½‘ç«™ä¸ºä¾‹ï¼Œæ¯”å¦‚è®¿é—®Googleã€Facebookã€‚æˆ‘ä»¬éœ€è¦å€ŸåŠ©vpnæ‰èƒ½è®¿é—®ï¼Œæˆ‘ä»¬å€ŸåŠ©vpnè®¿é—®å›½å¤–çš„ç½‘ç«™ï¼Œå…¶å®å°±æ˜¯ä¸ªæ­£å‘ä»£ç†çš„è¿‡ç¨‹ã€‚\n\nvpnå¯¹äºUsersæ¥è¯´ï¼Œæ˜¯å¯ä»¥æ„ŸçŸ¥åˆ°çš„ï¼ˆå› ä¸ºç”¨æˆ·éœ€è¦é…ç½®è¿æ¥ï¼‰ï¼Œvpnå¯¹äºgoogleæœåŠ¡å™¨æ¥è¯´ï¼Œæ˜¯ä¸å¯æ„ŸçŸ¥çš„(googleæœåŠ¡å™¨åªçŸ¥é“æœ‰httpè¯·æ±‚è¿‡æ¥)ã€‚æ‰€ä»¥ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´å¯ä»¥æ„ŸçŸ¥åˆ°ï¼Œè€Œå¯¹äºæœåŠ¡å™¨æ¥è¯´æ„ŸçŸ¥ä¸åˆ°æœåŠ¡å™¨ï¼Œå°±æ˜¯æ­£å‘ä»£ç†æœåŠ¡å™¨ï¼ˆvpnï¼‰ \n\nåå‘ä»£ç†\næ‹¿Nginxä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨å®ç°è´Ÿè½½å‡è¡¡æ¥ä¸¾ä¾‹ï¼Œå‡è®¾æ­¤æ—¶æˆ‘ä»¬è®¿é—®ç™¾åº¦ã€‚\n\nå½“ç”¨æˆ·è®¿é—®ç™¾åº¦æ—¶ï¼Œæ‰€æœ‰çš„è¯·æ±‚ä¼šåˆ°è¾¾ä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ä¼šå°†è¯·æ±‚åˆ†å‘ç»™åè¾¹çš„æŸä¸€å°æœåŠ¡å™¨å»å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ã€‚æ­¤æ—¶ï¼Œè¿™ä¸ªä»£ç†æœåŠ¡å™¨å…¶å®å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯æ„ŸçŸ¥çš„ï¼Œç”¨æˆ·æ„ŸçŸ¥åˆ°çš„æ˜¯ç™¾åº¦çš„æœåŠ¡å™¨ç»™è‡ªå·±è¿”å›äº†ç»“æœï¼Œå¹¶ä¸çŸ¥é“ä»£ç†æœåŠ¡å™¨çš„å­˜åœ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ä¸å¯æ„ŸçŸ¥ï¼Œå¯¹äºæœåŠ¡å™¨æ¥è¯´æ˜¯å¯ä»¥æ„ŸçŸ¥çš„ï¼Œå°±å«åå‘ä»£ç†æœåŠ¡å™¨ï¼ˆNginxï¼‰\n\nhttps://blog.csdn.net/william_n/article/details/103539154","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653896637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2033513,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/69/43cf2251.jpg","nickname":"Alan He","note":"","ucode":"A0780F4619D388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380026,"discussion_content":"æˆ‘ä¹Ÿè¿™ä¹ˆè§‰å¾—ï¼Œå°±æ˜¯ï¼Œæ¯”å¦‚ABCï¼Œå¯ä»¥ABä¸€å®¶ï¼Œä¹Ÿå¯ä»¥BCä¸€å®¶ï¼Œå–å†³äºçœ‹å¾…çš„è§†è§’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624285332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337352,"user_name":"zyd-githuber","can_delete":false,"product_type":"c1","uid":1383520,"ip_address":"","ucode":"31466DFD25575B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBrZt8rUzS24vibOdKH8icdxVMHLSNgRaYovGxbuEqJILacAicyLPzLgXkbhPhowibv6plHkDNDywxdA/132","comment_is_top":false,"comment_ctime":1646788516,"is_pvip":false,"replies":[{"id":"123292","content":"Nginxå¯æ˜¯2002å¹´å°±å¼€å§‹å¼€å‘äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1646813807,"ip_address":"","comment_id":337352,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646788516","product_id":100029001,"comment_content":"æ„Ÿè§‰å’Œnodejsçš„å•çº¿ç¨‹æœºåˆ¶éå¸¸åƒ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555220,"discussion_content":"Nginxå¯æ˜¯2002å¹´å°±å¼€å§‹å¼€å‘äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646813807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328751,"user_name":"å¿§å¤©å°é¸¡","can_delete":false,"product_type":"c1","uid":1073947,"ip_address":"","ucode":"A1412BDC108FD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/1b/83ac7733.jpg","comment_is_top":false,"comment_ctime":1640863387,"is_pvip":false,"replies":[{"id":"119918","content":"Nginxè°ƒç”¨æ“ä½œç³»ç»Ÿçš„epollæ¥å£ï¼Œæ¥å¤„ç†tcpäº‹ä»¶ï¼Œæœ¬è´¨ä¸Šepollå’Œtcpæ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½†tcpä¼šæœ‰è¯»å†™äº‹ä»¶ï¼Œå°±å¯ä»¥åˆ©ç”¨epollæ¥å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1641273786,"ip_address":"","comment_id":328751,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640863387","product_id":100029001,"comment_content":"è¿™é‡Œè¯´çš„nxçš„epollæ˜¯æŒ‡æ¨¡ä»¿epollçš„äº¤äº’é€»è¾‘ï¼Œè¿˜æ˜¯æŒ‡ä»epollçš„baseä¸Šåšäº†å¯¹tcpçš„æ”¹è£…ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543694,"discussion_content":"Nginxè°ƒç”¨æ“ä½œç³»ç»Ÿçš„epollæ¥å£ï¼Œæ¥å¤„ç†tcpäº‹ä»¶ï¼Œæœ¬è´¨ä¸Šepollå’Œtcpæ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½†tcpä¼šæœ‰è¯»å†™äº‹ä»¶ï¼Œå°±å¯ä»¥åˆ©ç”¨epollæ¥å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641273786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323849,"user_name":"ä¸‰åƒä¸–ç•Œ","can_delete":false,"product_type":"c1","uid":2856479,"ip_address":"","ucode":"EB1CBA37777E83","user_header":"https://static001.geekbang.org/account/avatar/00/2b/96/1f/a4e3f3a5.jpg","comment_is_top":false,"comment_ctime":1638180705,"is_pvip":false,"replies":[{"id":"117544","content":"accept mutexè®¾è®¡çš„ç›®çš„æ˜¯å¤šworkerè¿›ç¨‹ä¹‹é—´è´Ÿè½½å‡è¡¡ï¼Œé¿å…æœ‰çš„workerå¤„ç†çš„è¿æ¥å¤ªå¤šã€‚<br><br>åˆè¡·æ˜¯å¥½çš„ï¼Œåœ¨NGINXåˆæœŸä¹Ÿç¡®å®å¾ˆæœ‰æ•ˆæœï¼Œä½†åˆ°äº†ç°åœ¨ï¼Œå¹¶å‘è¶Šæ¥è¶Šå¤šï¼Œå®ƒçš„é”æˆæœ¬å°±æ˜¾å¾—é«˜äº†ã€‚<br><br>ç›®å‰NGINXä¸æ¨èä½¿ç”¨accept mutexï¼Œè€Œæ˜¯æ”¹ç”¨Linuxç³»ç»Ÿå†…æ ¸çš„reuseportæ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚<br><br>ä½ è¯´çš„masterç›‘å¬çš„æ–¹å¼æ˜¯å¾ˆä¼ ç»Ÿçš„åšæ³•ï¼Œæ•ˆç‡æ›´ä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1638239895,"ip_address":"","comment_id":323849,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1638180705","product_id":100029001,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œnginxä¸ºä»€ä¹ˆè¦è®¾è®¡è®©å¤šä¸ªworkerè¿›ç¨‹ç«äº‰accpetï¼Œè¿™æ ·å¯¼è‡´ æƒŠç¾¤ é—®é¢˜ï¼Œè¿˜è¦åŠ é”æ¥è§£å†³ï¼Œåè€Œé€ æˆäº†æ€§èƒ½ä¸‹é™ã€‚<br>æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆä¸è®©masteré€šè¿‡epollç›‘å¬æœ‰è¿æ¥å¯ä»¥acceptï¼Œé€šè¿‡è°ƒåº¦ï¼Œæ‰¾ä¸€ä¸ªä¸æ€ä¹ˆå¿™çš„workerï¼Œç„¶åé€šè¿‡ç®¡é“é€šçŸ¥è¿™ä¸ªworkerå‘¢ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æƒŠç¾¤é—®é¢˜äº†","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534603,"discussion_content":"accept mutexè®¾è®¡çš„ç›®çš„æ˜¯å¤šworkerè¿›ç¨‹ä¹‹é—´è´Ÿè½½å‡è¡¡ï¼Œé¿å…æœ‰çš„workerå¤„ç†çš„è¿æ¥å¤ªå¤šã€‚\n\nåˆè¡·æ˜¯å¥½çš„ï¼Œåœ¨NGINXåˆæœŸä¹Ÿç¡®å®å¾ˆæœ‰æ•ˆæœï¼Œä½†åˆ°äº†ç°åœ¨ï¼Œå¹¶å‘è¶Šæ¥è¶Šå¤šï¼Œå®ƒçš„é”æˆæœ¬å°±æ˜¾å¾—é«˜äº†ã€‚\n\nç›®å‰NGINXä¸æ¨èä½¿ç”¨accept mutexï¼Œè€Œæ˜¯æ”¹ç”¨Linuxç³»ç»Ÿå†…æ ¸çš„reuseportæ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚\n\nä½ è¯´çš„masterç›‘å¬çš„æ–¹å¼æ˜¯å¾ˆä¼ ç»Ÿçš„åšæ³•ï¼Œæ•ˆç‡æ›´ä½ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638239895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2856479,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/96/1f/a4e3f3a5.jpg","nickname":"ä¸‰åƒä¸–ç•Œ","note":"","ucode":"EB1CBA37777E83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534633,"discussion_content":"å•Šï¼Œå¯¹è€å¸ˆï¼Œæˆ‘å°±æƒ³çŸ¥é“ï¼Œä¸ºä»€ä¹ˆmasterç›‘å¬çš„æ–¹æ³•æ•ˆç‡æ›´ä½ï¼Ÿ\næ˜¯å› ä¸ºmasterç›‘å¬çš„è¯ï¼Œåº”å¯¹é«˜å¹¶å‘æƒ…å†µä¸‹ä¸€ä¸ªä¸€ä¸ªå»è°ƒåº¦workerï¼Œé€šè¿‡ç®¡é“é€šçŸ¥æœ€ç©ºé—²çš„workeræ‰§è¡Œaccpetå—ï¼Ÿ\nè¿™ä¸ªè¿‡ç¨‹å’Œ nginx accpet åŠ é”çš„æ–¹å¼ æ•ˆç‡ä¸Šè¦æ€ä¹ˆè¿›è¡Œæ¯”è¾ƒ å’Œæƒè¡¡çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638244473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534603,"ip_address":""},"score":534633,"extra":""}]}]},{"had_liked":false,"id":320171,"user_name":"çˆ±ç¼–ç¨‹çš„è¿ç»´","can_delete":false,"product_type":"c1","uid":2535502,"ip_address":"","ucode":"696DBA399CCFA3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/4faqHgQSawd4VzAtSv0IWDddm9NucYWibRpxejWPH5RUO310qv8pAFmc0rh0Qu6QiahlTutGZpia8VaqP2w6icybiag/132","comment_is_top":false,"comment_ctime":1636105757,"is_pvip":false,"replies":[{"id":"116080","content":"å½“ç„¶å¯ä»¥ï¼Œåƒenvoyï¼Œè¿˜æœ‰NGINX Unitéƒ½æ˜¯å¤šçº¿ç¨‹+ioå¤šè·¯å¤ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1636121043,"ip_address":"","comment_id":320171,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636105757","product_id":100029001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œnginxé‡‡ç”¨IOå¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Œä½¿ç”¨å•çº¿ç¨‹å¤„ç†å¤šä¸ªIOæµæ•°æ®æµ<br>æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å¤šçº¿ç¨‹+IOå¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Ÿå¤šä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªIOæ•°æ®æµ<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529904,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œåƒenvoyï¼Œè¿˜æœ‰NGINX Unitéƒ½æ˜¯å¤šçº¿ç¨‹+ioå¤šè·¯å¤ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636121043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318471,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1635306128,"is_pvip":true,"replies":[{"id":"115500","content":"å¯¹ï¼ŒCPUè¦ä¿å­˜å½“å‰çŠ¶æ€ï¼Œå†æ¢å¤åŸæ¥çš„çŠ¶æ€ï¼Œä½†å½“çº¿ç¨‹å¤šçš„æ—¶å€™ï¼Œç´¯ç§¯çš„æˆæœ¬å°±å¾ˆé«˜äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1635327997,"ip_address":"","comment_id":318471,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635306128","product_id":100029001,"comment_content":"çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢æ¶ˆè€—æ„Ÿè§‰ä¸»è¦æ˜¯ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¸æ–­åˆ‡æ¢ã€‚ä¹Ÿå°±æ˜¯å †æ ˆï¼ŒæŒ‡ä»¤æŒ‡é’ˆä¹‹ç±»çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529256,"discussion_content":"å¯¹ï¼ŒCPUè¦ä¿å­˜å½“å‰çŠ¶æ€ï¼Œå†æ¢å¤åŸæ¥çš„çŠ¶æ€ï¼Œä½†å½“çº¿ç¨‹å¤šçš„æ—¶å€™ï¼Œç´¯ç§¯çš„æˆæœ¬å°±å¾ˆé«˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635327997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574198,"discussion_content":"æœ¬è´¨ä¸Šåº”è¯¥æ˜¯ä¸€å †å¯„å­˜å™¨çš„çŠ¶æ€å€¼å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653896868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312825,"user_name":"è¿é•¿","can_delete":false,"product_type":"c1","uid":2047980,"ip_address":"","ucode":"555BD3DE57887F","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3f/ec/00904faa.jpg","comment_is_top":false,"comment_ctime":1632041255,"is_pvip":false,"replies":[{"id":"113347","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1632054150,"ip_address":"","comment_id":312825,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632041255","product_id":100029001,"comment_content":"Nginx ä½¿ç”¨è¿›ç¨‹æ± åŠ å•çº¿ç¨‹çš„å·¥ä½œæ–¹å¼ï¼Œmasterè¿›ç¨‹ç®¡ç†è¿›ç¨‹æ± ï¼Œåˆ©ç”¨IOå¤šè·¯å¤ç”¨æä¾›å¹¶å‘æ€§èƒ½ã€‚epollè¿æ¥ç®¡ç†ç”±æ“ä½œç³»ç»Ÿå¤„ç†ï¼Œå‡å°‘åº”ç”¨å±‚æ“ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527125,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632054150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291403,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1620271930,"is_pvip":true,"replies":[{"id":"105580","content":"åº”è¯¥ä¸æ˜¯æŸä¸ªäººç‹¬ç«‹å‘æ˜çš„å§ï¼Œä¸ç„¶æ—©å°±çŸ¥åäº†ï¼Œå®ƒä¹Ÿæ˜¯åœ¨ä¹‹å‰çš„selectã€pollä¸Šé€æ¸æ”¹è¿›å®Œå–„æ‰äº§ç”Ÿçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1620284013,"ip_address":"","comment_id":291403,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620271930","product_id":100029001,"comment_content":"è€å¸ˆï¼Œçœ‹äº†è¶Šæ¥è¶Šå¤šçš„æ¡†æ¶ï¼Œè§‰å¾—epollæ˜¯çœŸçš„ç‰›ï¼Œepollæ˜¯å“ªä¸ªäºº&#47;æ¡†æ¶é¦–åˆ›çš„å‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519461,"discussion_content":"åº”è¯¥ä¸æ˜¯æŸä¸ªäººç‹¬ç«‹å‘æ˜çš„å§ï¼Œä¸ç„¶æ—©å°±çŸ¥åäº†ï¼Œå®ƒä¹Ÿæ˜¯åœ¨ä¹‹å‰çš„selectã€pollä¸Šé€æ¸æ”¹è¿›å®Œå–„æ‰äº§ç”Ÿçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620284013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239938,"user_name":"å°è°¢åŒå­¦","can_delete":false,"product_type":"c1","uid":1032544,"ip_address":"","ucode":"E809E6BC470631","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/60/fc3689d0.jpg","comment_is_top":false,"comment_ctime":1596697064,"is_pvip":false,"replies":[{"id":"88607","content":"å¯¹ï¼ŒNginxæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥å›¾é‡Œå†™æˆè¿›ç¨‹ï¼Œä¹Ÿå°±ç›¸å½“äºçº¿ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1596705515,"ip_address":"","comment_id":239938,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596697064","product_id":100029001,"comment_content":"è¯·é—®è€å¸ˆå¤šè·¯å¤ç”¨é‚£å¼ å›¾é‡Œçš„ä¸­é—´æ¨ªè½´åº”è¯¥æ˜¯nginx çº¿ç¨‹å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503279,"discussion_content":"å¯¹ï¼ŒNginxæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥å›¾é‡Œå†™æˆè¿›ç¨‹ï¼Œä¹Ÿå°±ç›¸å½“äºçº¿ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596705515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239613,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1147929,"ip_address":"","ucode":"AFDBEFA49F269E","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/19/7ed2ffa6.jpg","comment_is_top":false,"comment_ctime":1596597714,"is_pvip":true,"replies":[{"id":"88509","content":"è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ€ªäº†ï¼Œå¯ä»¥è¯•ç€å¼€å¯Nginxçš„debugæ—¥å¿—ï¼Œé’ˆå¯¹ipåœ°å€æ‰“å°å‡ºæ¥çœ‹çœ‹ã€‚<br><br>http:&#47;&#47;nginx.org&#47;en&#47;docs&#47;ngx_core_module.html#debug_connection","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1596611149,"ip_address":"","comment_id":239613,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596597714","product_id":100029001,"comment_content":"è€å¸ˆ,æœ‰ä¸ªé—®é¢˜é—®æ‚¨ä¸€ä¸‹,æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒæœ‰ä¸¤å¥—ç³»ç»ŸA B,éƒ½æ˜¯ä½¿ç”¨çš„https(é€šè¿‡httpsè®¿é—®nginx,nginxè½¬å‘è¯·æ±‚ç»™åå°åº”ç”¨)ï¼Œæˆ‘ä»¬ç°åœ¨å‡ºç°ä¸€ä¸ªé—®é¢˜,åŒä¸€ä¸ªç½‘ç»œéƒ¨åˆ†ç”¨æˆ·(å‰å¤©éƒ½æ˜¯å¥½çš„,æ˜¨å¤©ä¸€ä¸ªç”¨æˆ·,ä»Šå¤©ä¸¤ä¸ªç”¨æˆ·)æ— æ³•ä¸Aç³»ç»Ÿçš„nginxå»ºç«‹TLSè¿æ¥,ä½†æ˜¯éƒ½å¯ä»¥æ­£å¸¸è®¿é—®Bç³»ç»Ÿçš„nginx,ä¸¤å¥—ç³»ç»Ÿä½¿ç”¨çš„nginxçš„é…ç½®æ˜¯ä¸€æ ·çš„<br>åœ¨æ— æ³•æ­£å¸¸è®¿é—®Aç³»ç»Ÿçš„ç”µè„‘ä¸Š,é€šè¿‡curl -vå‘ç°åªæœ‰ä¸€ä¸ª TLSv1.3ï¼ˆOUTï¼‰ï¼Œclient hello(1):<br>æ²¡æœ‰çœ‹åˆ°æœåŠ¡ç«¯çš„server hello,åªçœ‹åˆ°SSL connectionè¢«é‡ç½®äº†","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503158,"discussion_content":"è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ€ªäº†ï¼Œå¯ä»¥è¯•ç€å¼€å¯Nginxçš„debugæ—¥å¿—ï¼Œé’ˆå¯¹ipåœ°å€æ‰“å°å‡ºæ¥çœ‹çœ‹ã€‚\n\nhttp://nginx.org/en/docs/ngx_core_module.html#debug_connection","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596611149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236657,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1147929,"ip_address":"","ucode":"AFDBEFA49F269E","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/19/7ed2ffa6.jpg","comment_is_top":false,"comment_ctime":1595492625,"is_pvip":true,"replies":[{"id":"87528","content":"åŸºæœ¬æ­£ç¡®ï¼Œç›¸å½“äºæ˜¯åŒæ—¶æœ‰å¤šä¸ªæœåŠ¡å™¨è¿›ç¨‹åœ¨æä¾›httpæœåŠ¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1595572953,"ip_address":"","comment_id":236657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595492625","product_id":100029001,"comment_content":"è€å¸ˆè¯·é—®ã€è¿›ç¨‹æ±  + å•çº¿ç¨‹ã€æŒ‡çš„æ˜¯:é€šè¿‡è¿›ç¨‹æ± æ¥æ”¶å¤„ç†HTTPè¯·æ±‚,ç„¶åæ¯ä¸ªè¿›ç¨‹å¤„ç†è¯·æ±‚æ˜¯å•çº¿ç¨‹çš„?è¿™æ ·å¯¹äºåŒä¸€è¿›ç¨‹å¤„ç†çš„æ‰€æœ‰è¯·æ±‚éƒ½ä½äºåŒä¸€çº¿ç¨‹,å¦‚æœåŒä¸€è¿›ç¨‹é‡Œçš„å¤„ç†è¿‡ç¨‹å‘ç”Ÿé˜»å¡å°±ä¸éœ€è¦ä¿å­˜é˜»å¡ä»»åŠ¡çš„å †æ ˆ,ç®€å•çš„ç†è§£æ˜¯ä¸æ˜¯ç›¸å½“äºæœ‰å¤šå°æœåŠ¡å™¨è¿›è¡ŒæœåŠ¡æ”¯æŒ,æ¯å°æœåŠ¡å™¨éƒ½æ˜¯å•è¿›ç¨‹çº¿ç¨‹å•CPU","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502166,"discussion_content":"åŸºæœ¬æ­£ç¡®ï¼Œç›¸å½“äºæ˜¯åŒæ—¶æœ‰å¤šä¸ªæœåŠ¡å™¨è¿›ç¨‹åœ¨æä¾›httpæœåŠ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595572953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224967,"user_name":"å®‹é›„æ–Œ","can_delete":false,"product_type":"c1","uid":1433647,"ip_address":"","ucode":"52FA63AA616319","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/2f/3aee5f24.jpg","comment_is_top":false,"comment_ctime":1591605771,"is_pvip":false,"replies":[{"id":"82873","content":"ç†è§£çš„æ²¡é”™ï¼Œä½†çº¿ç¨‹å†…éƒ¨è¿˜æ˜¯ä¼šæœ‰é˜»å¡çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´çº¿ç¨‹è°ƒåº¦ï¼Œæµªè´¹CPUã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1591664933,"ip_address":"","comment_id":224967,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591605771","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼Œçº¿ç¨‹æ± çš„ä½œç”¨æ˜¯å¤„ç†ä¸åŒä»»åŠ¡ï¼Œä½†æ˜¯æ¯ä¸ªä»»åŠ¡éƒ½æ˜¯ç”±å•çº¿ç¨‹è¿›è¡Œå¤„ç†çš„ï¼Œè¿™æ ·å¯¹ä¸å¯¹å‘¢","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497674,"discussion_content":"ç†è§£çš„æ²¡é”™ï¼Œä½†çº¿ç¨‹å†…éƒ¨è¿˜æ˜¯ä¼šæœ‰é˜»å¡çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´çº¿ç¨‹è°ƒåº¦ï¼Œæµªè´¹CPUã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591664933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207007,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1586993453,"is_pvip":false,"replies":[{"id":"77294","content":"<br>1.Linuxæœ‰ä¸ªç‰¹æ€§ cpu affinityï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ã€‚<br><br>2.æ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹è¿è¡Œå¤„ç†è¯·æ±‚ï¼Œä¸éœ€è¦è¿›ç¨‹åˆ‡æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1586997976,"ip_address":"","comment_id":207007,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586993453","product_id":100029001,"comment_content":"ä¸å¤ªæ˜ç™½ï¼š1.æ¯ä¸ªworkerè¿›ç¨‹éƒ½ç»‘å®šåˆ°ç‹¬ç«‹çš„cpuä»¬ï¼Ÿ2.å•çº¿ç¨‹ä¹Ÿæ˜¯åº”è¯¥å­˜åœ¨äºå…·ä½“çš„æŸä¸€ä¸ªè¿›ç¨‹é‡Œè¾¹çš„å§ï¼Œé‚£è¿›ç¨‹é—´åˆ‡æ¢æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491978,"discussion_content":"\n1.Linuxæœ‰ä¸ªç‰¹æ€§ cpu affinityï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ã€‚\n\n2.æ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹è¿è¡Œå¤„ç†è¯·æ±‚ï¼Œä¸éœ€è¦è¿›ç¨‹åˆ‡æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586997976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202687,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1586053729,"is_pvip":false,"replies":[{"id":"76044","content":"å¤§æ¦‚å¯¹ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯è¿›ç¨‹å¤ªé‡ï¼Œçº¿ç¨‹ç•¥é‡ï¼Œåç¨‹æœ€è½»ï¼Œcpuåœ¨è¿™äº›æ‰§è¡Œä½“ä¹‹é—´åˆ‡æ¢æ—¶çš„ä»£ä»·æ˜¯ä¸€æ¬¡é™ä½çš„ï¼Œè¿™äº›æ¦‚å¿µéƒ½æ˜¯ä¸ºäº†å……åˆ†åˆ©ç”¨cpuï¼Œé¿å…æ— ç”¨åŠŸã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1586222574,"ip_address":"","comment_id":202687,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586053729","product_id":100029001,"comment_content":"1ï¼šä½ æ˜¯æ€ä¹ˆç†è§£è¿›ç¨‹ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶çš„æˆæœ¬çš„ï¼Œä¸ºä»€ä¹ˆ Nginx è¦å°½é‡é¿å…ï¼Ÿ<br>è¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œä¹Ÿæ˜¯é¢è¯•å¸¸å®¢ã€‚<br>é¦–å…ˆï¼Œéœ€è¦å›ç­”ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿç„¶åï¼Œè¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œåœ¨è¿›è¡Œåˆ‡æ¢æ—¶éƒ½éœ€è¦åšä»€ä¹ˆï¼Ÿç„¶åï¼Œå°±èƒ½å‘ç°è¿›ç¨‹æˆ–çº¿ç¨‹çš„åˆ‡æ¢ä¸ºä»€ä¹ˆä¼šæ¶ˆè€—å¤§é‡çš„æˆæœ¬å•¦ï¼<br>é¦–å…ˆï¼Œç¨‹åºå°±æ˜¯äººå†™çš„å„ç§ä»£ç ï¼Œå‘Šè¯‰è®¡ç®—æœºéœ€è¦åšä»€ä¹ˆäº‹æƒ…ï¼Œåªéœ€è¦å­˜å‚¨èµ„æºã€‚å½“ç¨‹åºè¿è¡Œèµ·æ¥çš„æ—¶å€™ï¼Œéœ€è¦çš„ä¸å…‰æ˜¯å­˜å‚¨èµ„æºï¼Œè¿˜æœ‰å…¶ä»–çš„ä¸ºäº†å¼¥è¡¥é€Ÿåº¦å·®è¿™äº›ä¸œè¥¿éƒ½ä»¥å„ç§å¯„å­˜å™¨çš„å½¢å¼å­˜åœ¨ï¼Œæ¯”å¦‚ï¼šæŒ‡ä»¤å¯„å­˜å™¨ã€åœ°å€å¯„å­˜å™¨ã€æ•°æ®å¯„å­˜å™¨ã€ç¨‹åºè®¡æ•°å™¨ç­‰ç­‰ï¼Œå½“ç„¶è¿˜éœ€è¦CPUçš„æ—¶é—´ç‰‡ã€‚å¥½åƒåšä¸€é“èœï¼Œéœ€è¦å„ç§æ²¹ç›é…±é†‹é”…ç¢—ç“¢ç›†ä¸€æ ·ï¼Œå¦‚æœåšçš„è¿‡ç¨‹ä¸­ï¼Œè¦åœä¸‹æ¥ï¼Œåšå¦å¤–ä¸€é“èœï¼Œæƒ³æƒ³éƒ½å¤Ÿè´¹äº‹çš„ã€‚è¿›ç¨‹æˆ–çº¿ç¨‹çš„åˆ‡æ¢å°±ç±»ä¼¼è¿™æ ·å§ï¼è€Œä¸”æ²¡åšå¥½çš„èœï¼Œè¦ç»§ç»­åšéœ€è¦è®°å½•åšåˆ°é‚£ä¸€æ­¥äº†ï¼Œç»§ç»­åšéœ€è¦æ€ä¹ˆç»§ç»­ã€‚åˆ‡æ¢è¿›ç¨‹æˆ–çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼Œç¡®å®å¤ªè€—æˆæœ¬äº†ã€‚<br>OKï¼Œé‚£è¿›ç¨‹ã€çº¿ç¨‹åˆ°åº•æœ‰å•¥åŒºåˆ«ï¼Ÿæˆ‘çš„ç†è§£ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯ç›¸å¯¹çš„æˆ–è€…çº¿ç¨‹æ˜¯ç›¸å¯¹è¿›ç¨‹è€Œè¨€çš„ï¼Œè¿›ç¨‹å…ˆå­˜åœ¨è¡¨ç¤ºè·‘èµ·æ¥çš„ç¨‹åºï¼Œä¸è¿‡è¿›ç¨‹å†…æœ‰è®¸å¤šçš„åŠ¨ä½œï¼Œæœ‰äº›è¿˜æ¯”è¾ƒæ…¢ï¼Œè¿›ç¨‹åˆ‡æ¢ä¸Šä¸‹æ–‡åˆå¤ªè´¹æˆæœ¬ï¼Œä¸ºäº†æé«˜æ€§èƒ½å°±å‡ºç°äº†çº¿ç¨‹ï¼Œçº¿ç¨‹ä¾é™„äºè¿›ç¨‹å…¬ç”¨è¿›ç¨‹çš„å­˜å‚¨èµ„æºï¼Œåˆ‡æ¢ä¸Šä¸‹æ–‡æ—¶ä»…åˆ‡æ¢è‡ªå·±ç‹¬æœ‰çš„èµ„æºè®©å…¶ä»–å°±ç»ªçš„çº¿ç¨‹ç»§ç»­è·‘ï¼Œè¿™æ ·åˆ‡æ¢ä¸Šä¸‹æ–‡çš„æˆæœ¬èƒ½å¤Ÿå°‘ä¸€äº›ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490654,"discussion_content":"å¤§æ¦‚å¯¹ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯è¿›ç¨‹å¤ªé‡ï¼Œçº¿ç¨‹ç•¥é‡ï¼Œåç¨‹æœ€è½»ï¼Œcpuåœ¨è¿™äº›æ‰§è¡Œä½“ä¹‹é—´åˆ‡æ¢æ—¶çš„ä»£ä»·æ˜¯ä¸€æ¬¡é™ä½çš„ï¼Œè¿™äº›æ¦‚å¿µéƒ½æ˜¯ä¸ºäº†å……åˆ†åˆ©ç”¨cpuï¼Œé¿å…æ— ç”¨åŠŸã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586222574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146047,"user_name":"è“é…é¸¡","can_delete":false,"product_type":"c1","uid":1348738,"ip_address":"","ucode":"C79A7CA8885B7C","user_header":"https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg","comment_is_top":false,"comment_ctime":1572424249,"is_pvip":false,"replies":[{"id":"56440","content":"æ„Ÿè°¢æ”¯æŒï¼Œæœ‰é—®é¢˜ä¹Ÿå¯ä»¥åœ¨GitHubä¸Šæissueã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1572483343,"ip_address":"","comment_id":146047,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572424249","product_id":100029001,"comment_content":"ä¹°ä¹¦ä¸ºæ•¬ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472687,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼Œæœ‰é—®é¢˜ä¹Ÿå¯ä»¥åœ¨GitHubä¸Šæissueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572483343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127072,"user_name":"ğŸ‘» å°äºŒ","can_delete":false,"product_type":"c1","uid":1625463,"ip_address":"","ucode":"9EEA8553163270","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/77/b2ab5d44.jpg","comment_is_top":false,"comment_ctime":1566550001,"is_pvip":false,"replies":[{"id":"47159","content":"å¯¹ï¼Œæ‰€ä»¥Nginxé‡‡ç”¨çš„æ˜¯å¤šè¿›ç¨‹+å•çº¿ç¨‹çš„æ¨¡å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1566690581,"ip_address":"","comment_id":127072,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566550001","product_id":100029001,"comment_content":"çº¿ç¨‹æ˜¯ç”¨æ¥è§£å†³IOé˜»å¡æ—¶CPUæµªè´¹çš„é—®é¢˜ï¼Œ å¦‚æœæ²¡æœ‰IOé˜»å¡çš„é—®é¢˜ï¼Œ å•çº¿ç¨‹æœ€èƒ½å‘æŒ¥CPUçš„èƒ½åŠ›ï¼Œå¤šçº¿ç¨‹åè€Œè¦èŠ±æ—¶é—´åˆ‡æ¢ã€‚<br>ç”±äºCPUä¸€èˆ¬æœ‰å¤šæ ¸ï¼Œ æ‰€ä»¥ä¸è€ƒè™‘é˜»å¡çš„è¯ï¼Œ å‡ ä¸ªæ ¸å°± å‡ ä¸ªçº¿ç¨‹ï¼Œ å°†æ˜¯æœ€ä½³é€‰æ‹©ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464306,"discussion_content":"å¯¹ï¼Œæ‰€ä»¥Nginxé‡‡ç”¨çš„æ˜¯å¤šè¿›ç¨‹+å•çº¿ç¨‹çš„æ¨¡å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566690581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124346,"user_name":"Bean","can_delete":false,"product_type":"c1","uid":1557853,"ip_address":"","ucode":"DC1A0C8B6BF083","user_header":"https://static001.geekbang.org/account/avatar/00/17/c5/5d/9e75eb36.jpg","comment_is_top":false,"comment_ctime":1565863717,"is_pvip":false,"replies":[{"id":"45714","content":"å…¶å®åº•å±‚éƒ½æ˜¯epollã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565916785,"ip_address":"","comment_id":124346,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565863717","product_id":100029001,"comment_content":"æ„Ÿè§‰å’Œ node ç±»ä¼¼","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463127,"discussion_content":"å…¶å®åº•å±‚éƒ½æ˜¯epollã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565916785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123788,"user_name":"ä½ å¥½æ—…è¡Œè€…","can_delete":false,"product_type":"c1","uid":1154101,"ip_address":"","ucode":"5C72A428DC28F3","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/35/9dc79371.jpg","comment_is_top":false,"comment_ctime":1565760381,"is_pvip":false,"replies":[{"id":"45369","content":"é«˜å¹¶å‘é«˜æ€§èƒ½ã€ä½èµ„æºæ¶ˆè€—ã€ç¨³å®šï¼Œé…ç½®æ–¹ä¾¿ï¼ŒåŠŸèƒ½ä¸°å¯Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565763523,"ip_address":"","comment_id":123788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565760381","product_id":100029001,"comment_content":"è€å¸ˆè¯·é—®ä¸€ä¸‹Nginxç›¸æ¯”äºå…¶ä»–çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚Tomcatï¼Œå…·ä½“æœ‰å“ªäº›ä¼˜åŠ¿å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462813,"discussion_content":"é«˜å¹¶å‘é«˜æ€§èƒ½ã€ä½èµ„æºæ¶ˆè€—ã€ç¨³å®šï¼Œé…ç½®æ–¹ä¾¿ï¼ŒåŠŸèƒ½ä¸°å¯Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565763523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
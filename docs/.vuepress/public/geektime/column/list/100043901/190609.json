{"id":190609,"title":"做好闭环（一）：不看答案可能就白学了","content":"<p>你好，我是胡光。</p><p>不知不觉，语言基础篇已学习过半，我非常高兴，看到很多同学都在坚持学习。并且，还有一些同学，每每都能在专栏上线的第一时间里，给我留言，提出疑惑。当面对一些知识点的时候，如果在我的观念中它是不说自明，而对于新手的你来说，可能十分难理解的时候，我也很希望你能指出来，我会在留言区中给你解答的。因为，我知道这种讨论，肯定能够帮助到更多的人。</p><p>大部分留言，我都在相对应的文章中回复过了，而对于文章中的思考题呢，由于要给你留足思考时间，所以我选择，一起留在今天这样一篇文章中，给你进行一一的解答。</p><p>看一看我的参考答案，和你的思考结果之间，有什么不同吧。也欢迎你在留言区中，给出一些你感兴趣的题目的思考结果，我希望我们能在这个过程中，碰撞出更多智慧的火花。在这里呢，@rocedu  用户在第一篇留言区中给大家推荐的《程序设计实践》一书，也是非常优秀的书籍。有兴趣的小伙伴，也可以去到他提到的豆瓣读书主页中去游览一番。</p><h2>第一个程序：教你输出彩色的文字</h2><p>在这一篇里面呢，我们接触了如何在 Linux 环境下输出彩色文字的编程知识。初步学习了 scanf 和 printf 函数的基础用法，两者一个负责读入，一个负责输出。如果你对这篇文章的内容有点陌生，可以再回去看看<a href=\"https://time.geekbang.org/column/article/186076\">《第一个程序：教你输出彩色的文字》</a>。最后围绕着这两个函数，给你出了两个思考题。这两个思考题做的怎么样？下面来看看我的参考答案吧。</p><!-- [[[read_end]]] --><h4>思考题（1）：位数输出</h4><pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    int n;\n    scanf(&quot;%d&quot;, &amp;n);\n    printf(&quot; has %d digits\\n&quot;, printf(&quot;%d&quot;, n)); // 有多余输出\n    char output[50];\n    int ret = sprintf(output, &quot;%d&quot;, n);\n    printf(&quot;%d\\n&quot;, ret); // 无多余输出\n    return 0;\n}\n</code></pre><p>运行如上程序，如果输入 123，程序会输出如下两行内容：</p><pre><code>123 has 3 digits  \n3\n</code></pre><p>你会看到，第1行除了数字的位数信息以外，还有多余的输出，第2行则是没有多余的输出。而两个信息，都是单纯利用 printf 一族函数完成的。这个问题的解题关键是，理解 printf 函数是有返回值的，而其返回的含义是打印了多少个字符。</p><p>那么，当我们使用 printf 打印数字 n 的时候，printf 函数的返回值，就是代表了 n 的位数。类似的，sprintf 也是 printf 一族函数中的一员，它的返回值与 printf 含义相同。</p><h4>思考题（2）：读入一行字符串</h4><pre><code>#include &lt;stdio.h&gt;\nchar str[100];\nint main() {\n    scanf(&quot;%[^\\n]s&quot;, str);\n    printf(&quot;%s\\n&quot;, str);\n    return 0;\n}\n</code></pre><p>这段代码展现了如何使用 scanf 读入一行包含空格的字符串信息。其中，要读入字符串，就需要使用 %s 格式占位符。可是这道题目中，在 % 和 s 中间有一对中括号[]，这个[] 代表了一个集合，用来控制%s 在读入过程中可以读入的字符集合的，例如：%[a-z]s，是可以输入小写字母 a 到 z，那么一旦遇到了非小写字母，就会停止。</p><p>而上述代码中的 ^ 上尖号，读作非，“^\\n” 就是非换行符，也就是说，只要不是换行符，就可以继续读入。这也就达到了我们想要用 scanf 读入一行的功能要求。你可以自己试一下换成 %[a-z]s，然后输入 “abcd12efeee”，看看程序的输出，你就能明白了。</p><h2>判断与循环：给你的程序加上处理逻辑</h2><p>在这篇文章<a href=\"http://time.geekbang.org/column/article/185667\">《判断与循环：给你的程序加上处理逻辑》</a>中呢，我们学习了除了顺序结构以外的两种程序执行结构：分支结构和循环结构。知识点的话，主要涉及：<strong>条件表达式、if 语句、for 语句等知识内容</strong>。我们说到，任何表达式都有返回值，条件表达式的值，就是1或者0代表“真”或者“假”，“成立”或者“不成立”。并且，介绍了条件判断的时候，实际上遵循的原则是“非零即为真”。最后呢，给你留了一个和循环相关的思考题“打印乘法表”，下面就看看我的参考答案吧。</p><h4>思考题：打印乘法表</h4><pre><code>#include &lt;stdio.h&gt;\nint main() {\n    for (int i = 1; i &lt;= 6; i++) {\n        for (int j = 1; j &lt;= i; j++) {\n            j == 1 || printf(&quot;\\t&quot;);          \n            printf(&quot;%d * %d = %d&quot;, j, i, i * j);\n        }\n        printf(&quot;\\n&quot;);\n    }\n    return 0;\n}\n</code></pre><p>这段代码中，采用两层循环，外层循环控制行数，内层循环控制每一行的列数，第 i 行应该有 i 列，所以内层循环是从 1 循环到 i 为止。其中最值得琢磨的是“j == 1 || printf(\"\\t\");”这句代码，其实这句代码就是用来实现行尾无多余 \\t 字符这个要求的。代码中采用了在每一列的前面输出一个 \\t 字符，可是在第一列的前面不输出 \\t 字符，这样就保证了行尾无 \\t 字符。</p><p>那么“j == 1 || printf(\"\\t\");”这句代码是如何工作的呢？首先看 || 条件或运算符。|| 运算符的工作逻辑是，左右两侧只要有一个条件成立，那么最终结果就是成立的。这个工作逻辑，还值得细细思考，|| 运算符，从左到右依次判断两个条件是否成立，那么如果第一个左边的条件就成立了呢？作为一个聪明人，还需要判断第二个右边的条件么？你会发现，根本不需要再判断右边的条件了，也就是说不需要执行右边的代码了。</p><p>看完了条件“或”的这个特性之后，我们再看看“j == 1 || printf(\"\\t\");”这句代码，也就是说，当 j==1 成立时，也就是第一列的时候，右边的 printf(\"\\t\") 代码就根本不会执行。这也就意味着，第一列前面不会多输出一个 \\t 字符。而其他的情况呢，均会执行 printf(\"\\t\") 代码，这也就实现了题目中的要求。</p><h2>随机函数：随机实验真的可以算 π 值嘛？</h2><p>这一篇文章里面<a href=\"https://time.geekbang.org/column/article/187287\">《随机函数：随机实验真的可以算 π 值嘛？》</a>，我们介绍了程序里面随机函数的基本原理，说明了“真随机”和“伪随机”的本质区别。看了一些留言以后，我来给你总结一下，所谓“真随机”与“假随机”，只要你不太清楚下一个产生的值是什么，那么对于你来说，就是随机的，而“真”或者“假”，讨论的是随机方法的本质。如果随机过程可以保证，下一次产生的每个值都有一定的概率，那么这个就是“真随机”，如果不能保证，那就是“伪随机”。</p><p>理解程序中的“伪随机”，你需要在你的脑袋中，构建一个由值组成的环形序列图，设置随机种子，就是选择图中的某个点作为起始点，在我们一次次地获得随机值的过程中，其实程序就是依次地输出了这个环形序列中的每个状态的值。</p><p>最后呢，给你留了一个设计随机函数过程的思考题，关于这个思考题，我要提前先跟你道歉，因为这个思考题，并不是想让你做出来的。下面来看看我的参考答案吧。</p><h4>思考题：设计迷你随机函数</h4><pre><code>#include &lt;stdio.h&gt;\nint main() {\n    int n = 5;\n    for (int i = 1; i &lt;= 100; i++) {\n        printf(&quot;%2d &quot;, n);\n        if (i % 10 == 0) printf(&quot;\\n&quot;);\n        n = (n * 3) % 101;\n    }\n    return 0;\n}\n</code></pre><p>当你运行这个程序的时候，就会看到程序的输出，正如原文中我给你的样例输出一样。要是想理解这段程序，你需要一些数论方面的基础知识，其中包括：欧拉函数，欧拉定理、费马小定理、取余循环节等知识。</p><p>在这里，我要再次因为设置这个你可能做不出来这个题，而向你道歉。不过，当你看到上面的那些知识以后，你会发现，这是一道初学者很大概率不可能完成的题目，尽管代码很简单，可背后的原理却看似不简单。其实，我就是想跟你说明，程序的灵魂在算法，算法的灵魂在数学。</p><h2>数组：一秒钟，定义 1000 个变量</h2><p>这一篇中，我们学习了数组的基本用法，学会了定义一组数据存储区的方法。并且，围绕着数组知识，完成了“计算数字二进制表示中 1 的个数”的递推程序的设计与实现。</p><p>相关的课后思考题呢，也是希望你使用数组来完成相关任务，我看到用户 @奔跑的八戒，完成的就很好，他的思路描述与参考答案一致。也非常感谢 @梅利奥猪猪毛丽莎肉酱（根据这位用户的名称，我猜可能是漫画《七大罪》的爱好者）和@Geek_And_Lee00  给出的修改建议以及指正出文章中的笔误，再次感谢二位。如果有好奇的朋友，可以到原文章及留言区看看<a href=\"https://time.geekbang.org/column/article/188612\">《数组：一秒钟，定义 1000 个变量》</a>。</p><p>最后让我们来看看这篇文章的参考答案吧。</p><h4>思考题：去掉倍数</h4><pre><code>#include &lt;stdio.h&gt;\nint check[1005] = {0};\nint main() {\n    int n, m, num;\n    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);\n    for (int i = 0; i &lt; n; i++) {\n        scanf(&quot;%d&quot;, &amp;num);\n        for (int j = num; j &lt;= m; j += num) {\n            check[j] = 1;\n        }\n    }\n    for (int i = 1; i &lt;= m; i++) {\n        if (check[i] == 1) continue;\n        printf(&quot;%d &quot;, i);\n    }\n    return 0;\n}\n</code></pre><p>这段代码中，使用一个 check 数组作为标记，check[i] 等于 0，代表 i 这个数字不是 n 个数字中的任何一个数字的倍数。check[i] 等于 1，代表 i 这个数字能够被 n 个数字中的某个数字整除。其中第 7 行到第 10 行代码，是需要特别关注的。这段代码中，首先读入 n 个数字中的某一个，存储在 num 变量中，之后循环 m 以内所有 num 的倍数，把每个数字的 check 值标记为 1。最后我们循环把 1 到 m 中没有被标记的数字输出，就是符合题目要求的所有数字。</p><h2>字符串：彻底被你忽略的 printf 的高级用法</h2><p>这篇<a href=\"https://time.geekbang.org/column/article/189458\">《字符串：彻底被你忽略的 printf 的高级用法》</a>的文章中，我们认识了 scanf 和 printf 家族中的两员猛将：sscanf 函数和 sprintf函数。这两者操作的是字符串，可以理解其本质，就是以字符串为中介做数据类型之间的转换。并且我们还介绍了字符串的相关知识，字符串的相关知识中，比较重要的就是那个 \\0 字符，这是一个标记字符串结束的字符，虽然看不到，可作用非常重要，并且这个 \\0 字符，也是需要占用存储空间的。</p><p>这篇文章中的两个思考题，都是帮助你打开脑洞的，主要就是想告诉你，知识点是死的，而理解知识点和应用知识点是活的，也就是我们常说的活学活用。下面就来看看这篇文章中的两个思考题的参考答案吧。</p><h4>思考题（1）：体验利器</h4><pre><code>#include &lt;stdio.h&gt;\nchar str1[1000], str2[1000];\nint main() {\n    scanf(&quot;%s%s&quot;, str1, str2);\n    printf(&quot;str1 = %s\\tstr2 = %s\\n&quot;, str1, str2);\n    sprintf(str1, &quot;%s&quot;, str1);   // strlen(str1)\n    sprintf(str1, &quot;%s&quot;, str2);   // strcpy(str1, str2)\n    printf(&quot;str1 = %s\\tstr2 = %s\\n&quot;, str1, str2);\n    sprintf(str1, &quot;%s%s&quot;, str1, str2);   // strcat(str1, str2)\n    printf(&quot;str1 = %s\\tstr2 = %s\\n&quot;, str1, str2);\n    return 0;\n}\n</code></pre><p>在这段代码中，首先读入两个字符串，str1 和 str2。然后使用 sprintf 分别替代 strlen、strcpy 以及 strcat 三个函数的功能。具体如下：</p><p>首先，使用 sprintf(str1, “%s”, str1); 代替 strlen(str1) 的功能，正如你所知道的，sprintf 返回值代表输出了多少个字符，这行代码中也就是 str1 字符串中的字符数量。</p><p>其次，使用 sprintf(str1, “%s”, str2); 代替 strcpy(str1, str2) 的功能。使用 sprintf 函数，将 str2中的内容，输出到 str1 的存储空间中，其实就相当于把 str2 的内容复制到了 str1 中。</p><p>最后，使用sprintf(str1, “%s%s”, str1, str2); 代替 strcat(str1, str2) 的功能。这里，我们将 str1和 str2 的值，依次性的输出到 str1 中以后，str1 的内容，就是原 str1和 str2 内容连接以后的总内容了。</p><h4>思考题（2）：优美的遍历技巧</h4><pre><code>#include &lt;stdio.h&gt;\nint main() {\n    char str[1000];\n    scanf(&quot;%s&quot;, str);\n    for (int i = 0; str[i]; i++) {\n        printf(&quot;%c\\n&quot;, str[i]);\n    }\n    return 0;\n}\n</code></pre><p>这段代码中，最值得思考的是循环的终止条件。当循环条件成立的时候，循环会一直执行，不成立的时候，循环就会终止。那么 str[i] 你可以看成是字符，也可以看成是一个整型值，因为任何信息在底层都是二进制存储的，那么其余字符均为非零值，也就是代表条件成立。</p><p>只有一个字符的值是零值，就是我们之前所说的字符串中的最后一个特殊的，看不见的字符，\\0 字符，这个字符所对应的整型值就是 0，也就是我们所谓的假值。那么这个循环，就会一直循环到字符串的最后一位，才会停止。</p><p>好了，今天的思考题答疑就结束了，如果你还有什么不清楚的，或者有更好的想法的，欢迎告诉我，我们留言区见！</p>","neighbors":{"left":{"article_title":"06 | 字符串：彻底被你忽略的 printf 的高级用法","id":189458},"right":{"article_title":"07 | 指针系列（一）：记住，指针变量也是变量","id":189775}},"comments":[{"had_liked":false,"id":217853,"user_name":"罗耀龙@坐忘","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1589629740,"is_pvip":true,"replies":[{"id":"83538","content":"(′▽`〃)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1592214873,"ip_address":"","comment_id":217853,"utype":1}],"discussion_count":1,"race_medal":5,"score":"14474531628","product_id":100043901,"comment_content":"茶艺师学编程<br><br>看完了老师的解答，觉得前面的我简直就是蠢得可以······<br><br>第一课：<br><br>思考题1<br>我使用了(int)log10(n)+1来算位数，老师直接用printf的返回值就搞定了。<br>而且老师使用的printf嵌套printf这一招，太漂亮了；<br><br>思考题2<br>我知道scanf碰到空格就会停止读取。但我傻傻的在接水管。老师直接一个[^\\n]（只要不是换行）就解决了问题了。<br>当然这个[]里面不能乱填，我就试过“null”······<br><br>第二课：<br><br>思考题-乘法表<br>我这里使用了3个变量，多出来的一个是单独用来控制格式的。但老师直接使用两个变量加一个“||或”判断解决问题，漂亮。<br><br>第四课：<br><br>思考题-设计迷你随机函数<br><br>关键是在随机数的生成方法，我用的是以时间函数为种子，通过99 * rand()&#47;RAND_MAX + 1选取100个随机数。<br>而老师使用的是以n=5，n = (n * 3) % 101，算100次。就观感而言，老师的随机感会比我的更明显——我的数字大概率是不会出现“100”。<br><br><br>第五课：<br><br>关键，是以m为倍数标记数组，再把被标记的数组去掉，进而得出“不能被整除的数”。这样的构思，太妙了。<br><br><br>第六课：<br><br>在这里我一直在想如何“遍历到结尾”，我找到的方法是“\\n”，就是我们在输入后要按一下的回车。<br>而老师的判断条件str[i]实在是太漂亮了，字符串的结尾“\\0”才是假值——结束循环。<br>还有老师的字符串循环，太漂亮了，我得好好学习——在printf里用str[i]就出错······","like_count":4,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495274,"discussion_content":"(′▽`〃)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592214873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172814,"user_name":"Jinlee","can_delete":false,"product_type":"c1","uid":1644723,"ip_address":"","ucode":"8EDA9B0C5184EA","user_header":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","comment_is_top":false,"comment_ctime":1579321428,"is_pvip":false,"replies":[{"id":"67056","content":"好的，你的建议非常好，我会在后面的文章中采纳，你的代码方法也是对的。d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579348857,"ip_address":"","comment_id":172814,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14464223316","product_id":100043901,"comment_content":"看了老师的答疑，解决了前面不少的困惑。至于那个迷你随机数，是真的不怎么懂。先放着吧，先广后精，嘿嘿。还有，给老师提一个小小建议，就是在示例代码中加入一些文字，这样可读性更强，对初学者更友好。不然面对一个黑框框，初学者容易懵，不知道该干嘛了。去掉倍数那个思考题，自己也实现了，代码如下，但是老师的方法应该应用更加广泛。<br>#include &lt;stdio.h&gt;<br> <br>int main(){<br>\tint n, m;<br>\tprintf(&quot;请输入两个数：\\n&quot;);<br>\tscanf(&quot;%d%d&quot;, &amp;n, &amp;m);<br>\tint arr[n];<br>\tint i, j;<br>\tfor (i = 0; i &lt; n; i++) {<br>\t\tprintf(&quot;输入第%d个正整数：\\n&quot;, i+1);<br>\t\tscanf(&quot;%d&quot;, &amp;arr[i]);<br>\t}<br>\tprintf(&quot;\\n&quot;);<br>\tfor (j = 1; j &lt;= m; j++){<br>\t\tfor (i = 0; i&lt;n; i++){<br>\t\t\tif (j % arr[i] == 0) break;\t\t&#47;&#47;能被n个不同正整数中某个整除则跳出循环，进入if语句 <br>\t\t\t}<br>\t\tif (i == n) printf(&quot;%d\\n&quot;, j); &#47;&#47; 如果i == n,则说明for循环一直进行到最后j都没有被n个不同正整数中的任意一个整除，此时j符合要求，输出  <br>\t\t}<br>\treturn 0;<br>\t}","like_count":3,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481864,"discussion_content":"好的，你的建议非常好，我会在后面的文章中采纳，你的代码方法也是对的。d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579348857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202230,"user_name":"1043","can_delete":false,"product_type":"c1","uid":1485365,"ip_address":"","ucode":"AAA69CC175AEE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/35/1a4884f9.jpg","comment_is_top":false,"comment_ctime":1585927747,"is_pvip":false,"replies":[{"id":"75585","content":"vim用来编辑程序，vi也可，gcc是用来编译程序的，不是用来打开程序的，编译好后，会在你当前文件夹下生成一个默认名字是a.out的文件，执行即可，执行需要运行命令.&#47;a.out，此外如上操作都需要在terminal下进行。我用的是Mac(｡ì _ í｡)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585972445,"ip_address":"","comment_id":202230,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5880895043","product_id":100043901,"comment_content":"思考题感觉确实很不简单，既能熟练所学内容又是重点要掌握的技能，把实际问题转换成变成思维，再转换成编程语言更好办一些，也更深刻一些。容我再思考思考练练再答今天和以前的题目。<br>另外想问一下胡老师用哪个发行版的Linux，我也要换，我现在用的是Debian10，安装了gcc如何才能打开呢？没安vim用系统自带的vi是不是也可以啊？百度查了一圈都是打开后的gcc，用什么命令打开gcc和别人的源程序文件呢？","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490535,"discussion_content":"vim用来编辑程序，vi也可，gcc是用来编译程序的，不是用来打开程序的，编译好后，会在你当前文件夹下生成一个默认名字是a.out的文件，执行即可，执行需要运行命令./a.out，此外如上操作都需要在terminal下进行。我用的是Mac(｡ì _ í｡)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585972445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190941,"user_name":"WaterZhai","can_delete":false,"product_type":"c1","uid":1915143,"ip_address":"","ucode":"F0694B58DF12ED","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/07/62146bde.jpg","comment_is_top":false,"comment_ctime":1584711793,"is_pvip":false,"replies":[{"id":"73365","content":"d(^_^o) 学习习惯很棒！","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1584757442,"ip_address":"","comment_id":190941,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5879679089","product_id":100043901,"comment_content":"在百度上找的，那个叫线性同余法。","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488086,"discussion_content":"d(^_^o) 学习习惯很棒！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584757442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188124,"user_name":"淡蓝色","can_delete":false,"product_type":"c1","uid":1819574,"ip_address":"","ucode":"D35A1B5647E227","user_header":"https://static001.geekbang.org/account/avatar/00/1b/c3/b6/7483c3b7.jpg","comment_is_top":false,"comment_ctime":1584322994,"is_pvip":false,"replies":[{"id":"72969","content":"不对哦，你运行一下，看看其中是不是有重复的数字。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1584470403,"ip_address":"","comment_id":188124,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5879290290","product_id":100043901,"comment_content":"随机函数的那道题：<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br>int main() {<br>srand(time(0));<br>for(int i=1;i&lt;=10;++i)<br>   for(int j=1;j&lt;=10;++j)<br>   {<br>\t   <br>\t   printf(&quot;%d &quot;,rand()%100);<br>\t   if(j==10) printf(&quot;\\n&quot;);<br>   }<br>  <br>return 0;<br>}<br><br>","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487341,"discussion_content":"不对哦，你运行一下，看看其中是不是有重复的数字。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584470403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1819574,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c3/b6/7483c3b7.jpg","nickname":"淡蓝色","note":"","ucode":"D35A1B5647E227","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207451,"discussion_content":"谢谢老师，我看错题目了，以为是随机输出一百个数字呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584497842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175862,"user_name":"信念","can_delete":false,"product_type":"c1","uid":1673076,"ip_address":"","ucode":"3D32CA6E096CF8","user_header":"https://static001.geekbang.org/account/avatar/00/19/87/74/68c35700.jpg","comment_is_top":false,"comment_ctime":1580872440,"is_pvip":false,"replies":[{"id":"68386","content":"ret是个整形变量啊。没什么特殊的。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1580892628,"ip_address":"","comment_id":175862,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5875839736","product_id":100043901,"comment_content":"第一个位数输出的程序<br>第7行的char output[50];<br>    int ret = sprintf(output, &quot;%d&quot;, n)<br>没太看懂，ret是什么意思呀？<br>","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482933,"discussion_content":"ret是个整形变量啊。没什么特殊的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580892628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1673076,"avatar":"https://static001.geekbang.org/account/avatar/00/19/87/74/68c35700.jpg","nickname":"信念","note":"","ucode":"3D32CA6E096CF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161355,"discussion_content":"好的，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580892886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172901,"user_name":"学写代码的猪","can_delete":false,"product_type":"c1","uid":1064616,"ip_address":"","ucode":"4EBA2329450B53","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/a8/66088c47.jpg","comment_is_top":false,"comment_ctime":1579354525,"is_pvip":true,"replies":[{"id":"67077","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579399451,"ip_address":"","comment_id":172901,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874321821","product_id":100043901,"comment_content":"渐入佳境，跟着学就是了。","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481895,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579399451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172886,"user_name":"学写代码的猪","can_delete":false,"product_type":"c1","uid":1064616,"ip_address":"","ucode":"4EBA2329450B53","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/a8/66088c47.jpg","comment_is_top":false,"comment_ctime":1579352758,"is_pvip":true,"replies":[{"id":"67076","content":"对，你上网搜运算符优先级，其中每一个等级的运算符都有一个计算顺序，条件或的计算顺序是从左向右。这是有规定的，跟编译器无关。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579399444,"ip_address":"","comment_id":172886,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874320054","product_id":100043901,"comment_content":"j == 1 || printf(&quot;\\t&quot;); <br>老师这样语句，c 的编译器一定从左往右一个一个条件判断（计算值）吗？<br>有可能从右往左或者随机吗？","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481891,"discussion_content":"对，你上网搜运算符优先级，其中每一个等级的运算符都有一个计算顺序，条件或的计算顺序是从左向右。这是有规定的，跟编译器无关。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579399444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172775,"user_name":"梅利奥猪猪毛丽莎肉酱","can_delete":false,"product_type":"c1","uid":1613155,"ip_address":"","ucode":"7F919F60F5814C","user_header":"https://static001.geekbang.org/account/avatar/00/18/9d/63/ba7797ba.jpg","comment_is_top":false,"comment_ctime":1579285626,"is_pvip":false,"replies":[{"id":"67029","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579316923,"ip_address":"","comment_id":172775,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874252922","product_id":100043901,"comment_content":"其实有挺多东西想说的，首先我的确是七大罪动漫爱好者，虽然现在动画有点ppt了，哈哈扯远了，先说那个乘法表，那个或的知识应该是短路或者惰性的知识吧，我是个前端工程师，有时候就会写到条件&amp;&amp;函数()，这个其实就是条件为真则执行函数，然后还看到过个类似的基础题，true||true&amp;&amp;false答案是true，新手可能直接回答错，从左往右看，认为是false，稍微厉害点的，看优先级，然后得出答案是true，其实这边在多想一步，优先级先计算了右边的true&amp;&amp;false，但true||任何其他什么，肯定就是true，希望自己理解是对的，至于后面个迷你随机数，真的难，哈哈刚看了下互质和欧拉，勉强看懂，有种被要被劝退的感觉，关于随机数随机种子这个其实挺有兴趣的，兴趣来源于一个例子，叫做游戏里随机的场景，用户中途退了，下次进入场景和之前退出的游戏场景一致，就是用了随机种子，然后那个例子实现这个随机函数，用了三个很奇怪的数字，这个当时看也没有看的特别懂，总结就是虽然不知道怎么回事，但总觉得很厉害，学无止境，还是要持续的坚持学习~","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481848,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579316923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213790,"user_name":"小风","can_delete":false,"product_type":"c1","uid":1978402,"ip_address":"","ucode":"3EF421854BC81D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/30/22/2b931d6e.jpg","comment_is_top":false,"comment_ctime":1588562455,"is_pvip":false,"replies":[{"id":"79301","content":"你可以用 printf 输出 sprintf 的返回值啊。<br>另外，你可以将 sprintf(str1, &quot;%s&quot;, str1); 就看成是 strlen(str1); 的另一种代码表示方式，strlen(str1) 怎么用，sprintf(str1, &quot;%s&quot;, str1); 就怎么用。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1588659737,"ip_address":"","comment_id":213790,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1588562455","product_id":100043901,"comment_content":"体验利器那道题，实现strlen功能的那个，怎么让他输出字符长度呢，请老师解答","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493874,"discussion_content":"你可以用 printf 输出 sprintf 的返回值啊。\n另外，你可以将 sprintf(str1, &amp;quot;%s&amp;quot;, str1); 就看成是 strlen(str1); 的另一种代码表示方式，strlen(str1) 怎么用，sprintf(str1, &amp;quot;%s&amp;quot;, str1); 就怎么用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588659737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1978402,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/30/22/2b931d6e.jpg","nickname":"小风","note":"","ucode":"3EF421854BC81D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257475,"discussion_content":"老师你的答案并不能实现输出字符串长度啊，求指教","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588575047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1175257,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ee/d9/e53ffd2b.jpg","nickname":"Link.W","note":"","ucode":"E00D16C7691E89","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1978402,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/30/22/2b931d6e.jpg","nickname":"小风","note":"","ucode":"3EF421854BC81D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301495,"discussion_content":"int len = sprintf(str1, &#34;%s&#34;, str1);\nprintf(&#34;%d\\n&#34;, len);\n赋值给一个变量再输出即可","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598541045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":257475,"ip_address":""},"score":301495,"extra":""}]}]}]}
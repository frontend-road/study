{"id":610692,"title":"47｜小试牛刀：如何使用 Python 合并多个文件？","content":"<p><strong>课后习题</strong><br>\n在 homework 文件夹下，有三个文件夹分别为 dira、dirb、dirc，三个文件夹下各自存放了和文件夹同名的文本文件，组成了如下格式：</p><p><img src=\"https://static001.geekbang.org/resource/image/6d/4e/6dae6f7e66978009503e29e8dd72a04e.png?wh=1236x876\" alt=\"\"></p><p>现需要将三个 txt 文件，合并为 homework.txt 并放在 homework 下，请你用 Python 实现该需求。</p><p><span class=\"reference\">PS：文件及文件夹需要自己创建一下哦！</span></p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":366365,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1673615078,"is_pvip":false,"replies":[{"id":133629,"content":"这个作业还不满意，就是目录（文件）已经存在了就好报错，程序将会停下来，如果有一种检测手段预判目录（文件）后存在跳过创建目录（文件）的语句，我想到了try ... catch，但是还要起看看手册再改一下\n\n检测到目录或文件跳过应当使用if，而不应当使用异常捕获实现。因为异常捕获会带来两个问题， 第一个是捕获之后，就跳出了文件路径的遍历循环，再想继续判断还得再调用遍历路径的函数，比较麻烦\n另一个问题带来的是代码阅读的困扰， 会有种程序“跳来跳去”的感觉，读起来也不通顺","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1674201803,"ip_address":"广东","comment_id":366365,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\n# 目录名\nfile_dir = [&#39;dira&#39;, &#39;dire&#39;, &#39;dirc&#39;]\nhome_dir = &#39;homework&#39;\n# 创建目录\nos.mkdir(home_dir)\n# 创建目录、创建文件写入内容\nfor f_dir in file_dir:\n    os.mkdir(f_dir)\n    with open(&quot;.&#47;&quot; + f_dir + &quot;&#47;&quot; + f_dir + &quot;.txt&quot;, mode=&quot;w&quot;) as f:\n        f.write(f_dir + &quot;.txt&quot;)\n\n\n# 合并三个目录里面文件内容\nf_data = []\nfor f_dir in file_dir:\n    with open(&#39;.&#47;&#39; + home_dir + &quot;&#47;&quot; + f_dir + &quot;&#47;&quot; + f_dir + &#39;.txt&#39;) as f:\n        f_data.append(f.read())\n# print(f_data)\n\nwith open(&#39;.&#47;&#39; + home_dir + &quot;&#47;&quot; + &#39;homework.txt&#39;, mode=&#39;w&#39;) as f:\n    for data in f_data:\n        f.write(data)\n\n【作业存在的问题】\n这个作业还不满意，就是目录（文件）已经存在了就好报错，程序将会停下来，如果有一种检测手段预判目录（文件）后存在跳过创建目录（文件）的语句，我想到了try ... catch，但是还要起看看手册再改一下","like_count":0,"discussions":[{"author":{"id":1475049,"avatar":"https://static001.geekbang.org/account/avatar/00/16/81/e9/d131dd81.jpg","nickname":"Mamba","note":"","ucode":"8B3EC90736B8EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645790,"discussion_content":"创建文件的时候加参数\n  exist_ok=True","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1716779741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"湖北","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600315,"discussion_content":"这个作业还不满意，就是目录（文件）已经存在了就好报错，程序将会停下来，如果有一种检测手段预判目录（文件）后存在跳过创建目录（文件）的语句，我想到了try ... catch，但是还要起看看手册再改一下\n\n检测到目录或文件跳过应当使用if，而不应当使用异常捕获实现。因为异常捕获会带来两个问题， 第一个是捕获之后，就跳出了文件路径的遍历循环，再想继续判断还得再调用遍历路径的函数，比较麻烦\n另一个问题带来的是代码阅读的困扰， 会有种程序“跳来跳去”的感觉，读起来也不通顺","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1674201804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"聪少 Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":600326,"discussion_content":"谢谢，老师解答","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674209338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":600315,"ip_address":"广东","group_id":0},"score":600326,"extra":""}]}]},{"had_liked":false,"id":367196,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1675006280,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\n\n# 在当前目录下创建目录\nos.mkdir(&quot;.\\\\homework&quot;) \nos.mkdir(&quot;.\\\\homework\\\\dira&quot;)     \nos.mkdir(&quot;.\\\\homework\\\\dirb&quot;)     \nos.mkdir(&quot;.\\\\homework\\\\dirc&quot;)     \n\n# 分别生成三个txt文件\nstring_a = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than &quot;&quot;&quot;\nstring_b = &quot;&quot;&quot;Python 3.10. On average, we measured a 1.25x speedup &quot;&quot;&quot;\nstring_c = &quot;&quot;&quot;on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\n\nos.chdir(&quot;.\\\\homework\\\\dira&quot;)  # 打开dira目录,生成dira.txt\nwith open(&#39;dira.txt&#39;, mode=&#39;w+&#39; , encoding=&#39;UTF-8&#39;) as f:\n    f.write(string_a)\nos.chdir(&quot;..\\\\..&quot;)  # 返回当前目录\n\nos.chdir(&quot;.\\\\homework\\\\dirb&quot;)  # 打开dirb目录,生成dirb.txt\nwith open(&#39;dirb.txt&#39;, mode=&#39;w+&#39; , encoding=&#39;UTF-8&#39;) as f:\n    f.write(string_b)\nos.chdir(&quot;..\\\\..&quot;)  # 返回当前目录\n\nos.chdir(&quot;.\\\\homework\\\\dirc&quot;)  # 打开dira目录,生成dirc.txt\nwith open(&#39;dirc.txt&#39;, mode=&#39;w+&#39; , encoding=&#39;UTF-8&#39;) as f:\n    f.write(string_c)\nos.chdir(&quot;..\\\\..&quot;)  # 返回当前目录\n\n# 分别打开三个文件\nfiles_name  = [&quot;.\\\\homework\\\\dira\\\\dira.txt&quot; , &quot;.\\\\homework\\\\dirb\\\\dirb.txt&quot; ,&quot;.\\\\homework\\\\dirc\\\\dirc.txt&quot;]\nfiles_data =[]\n# 读三个文件\nfor f_name in files_name :\n    with open(f_name) as f:\n        files_data.append(f.read())\n# 合并生成homework.txt文件\nos.chdir(&quot;.\\\\homework&quot;)  # 打开homework目录\nwith open(&quot;homework.txt&quot;,mode=&#39;w&#39;) as f:\n    for data in files_data :\n        f.write(data)\n\nos.chdir(&quot;..&quot;)  # 返回当前目录","like_count":2},{"had_liked":false,"id":364458,"user_name":"PatrickL","can_delete":false,"product_type":"c3","uid":1341431,"ip_address":"上海","ucode":"EF0EC18639B9B2","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/f7/11548247.jpg","comment_is_top":false,"comment_ctime":1670992525,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nos.mkdir(&#39;dira&#39;)\nwith open(&#39;.&#47;dira&#47;dira.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fa:\n    fa.write(&#39;aaa\\n&#39;)\nos.mkdir(&#39;dirb&#39;)\nwith open(&#39;.&#47;dirb&#47;dirb.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fb:\n    fb.write(&#39;bbb\\n&#39;)\nos.mkdir(&#39;dirc&#39;)\nwith open(&#39;.&#47;dirc&#47;dirc.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fc:\n    fc.write(&#39;ccc\\n&#39;)\n    \nwith open(&#39;.&#47;dira&#47;dira.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as fa:\n    data_a = fa.read()\nwith open(&#39;.&#47;dirb&#47;dirb.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as fb:\n    data_b = fb.read()\nwith open(&#39;.&#47;dirc&#47;dirc.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as fc:\n    data_c = fc.read()\nos.mkdir(&#39;homework&#39;)\nwith open(&#39;.&#47;homework&#47;homework.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fh:\n    fh.write(data_a)\n    fh.write(data_b)\n    fh.write(data_c)\n\n# os.remove(&#39;.&#47;dira&#47;dira.txt&#39;)\n# os.rmdir(&#39;.&#47;dira&#39;)\n# os.remove(&#39;.&#47;dirb&#47;dirb.txt&#39;)\n# os.rmdir(&#39;.&#47;dirb&#39;)\n# os.remove(&#39;.&#47;dirc&#47;dirc.txt&#39;)\n# os.rmdir(&#39;.&#47;dirc&#39;)\n# os.remove(&#39;.&#47;homework&#47;homework.txt&#39;)\n# os.rmdir(&#39;.&#47;homework&#39;)","like_count":2},{"had_liked":false,"id":364224,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1670670887,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\n\nfiles_name = [&#39;homework&#47;dira&#47;dira.txt&#39;, &#39;homework&#47;dirb&#47;dirb.txt&#39;, &#39;homework&#47;dirc&#47;dirc.txt&#39;]\nfiles_data = []\n\nfor f_name in files_name:\n    with open(f_name) as f:\n        files_data.append(f.read())\n\nwith open(&#39;homework&#47;homework.txt&#39;, &#39;w&#39;) as f:\n    for f_data in files_data:\n        f.write(f_data)","like_count":2},{"had_liked":false,"id":380444,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1693582219,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os \n\n# 设置基础目录路径\nbase_dir = &#39;homework&#39;\noutput_file_path = os.path.join(base_dir,&#39;homework.txt&#39;)\n\n# 用于存储所有文本内容\ncombined_content = &quot;&quot;\n\n# 遍历每个子文件夹\nfor directory in [&#39;dira&#39;,&#39;dirb&#39;,&#39;dirc&#39;]:\n    file_path = os.path.join(base_dir,directory,f&quot;{directory}.txt&quot;)\n    with open(file_path,&#39;r&#39;) as f:\n        combined_content += f.read() + &#39;\\n&#39;\n\n# 将合并后的内容写入 homework.txt文件中\nwith open(output_file_path,&#39;w&#39;) as f:\n    f.write(combined_content)","like_count":1},{"had_liked":false,"id":364045,"user_name":"On","can_delete":false,"product_type":"c3","uid":1526359,"ip_address":"陕西","ucode":"E260187B398E15","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/57/3f68946c.jpg","comment_is_top":false,"comment_ctime":1670472870,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nos.chdir(&quot;G:\\\\Python\\\\LearnPythonFromZero\\\\47homework&quot;)\nfile_names = [&quot;.\\\\dira\\\\dira.txt&quot;, &quot;.\\\\dirb\\\\dirb.txt&quot;, &quot;.\\\\dirc\\\\dirc.txt&quot;]\nfile_data = []\n\nfor file_name in file_names:\n    with open(file_name, mode=&quot;r&quot;, encoding=&quot;UTF-8&quot;) as f:\n        file_data.append(f.read())\n\nwith open(&quot;homework.txt&quot;, mode=&quot;w&quot;, encoding=&quot;UTF-8&quot;) as f:\n    for data in file_data:\n        f.write(data)","like_count":1},{"had_liked":false,"id":396356,"user_name":"C.","can_delete":false,"product_type":"c3","uid":1444698,"ip_address":"江苏","ucode":"5AE269220EFD73","user_header":"https://static001.geekbang.org/account/avatar/00/16/0b/5a/453ad411.jpg","comment_is_top":false,"comment_ctime":1734066874,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"dir_names = [&#39;dira&#39;, &#39;dirb&#39;, &#39;dirc&#39;]\nhome_dir_name = &#39;homework&#39;\n# 创建父级目录\nos.mkdir(home_dir_name)\n# 进入父级目录\nos.chdir(home_dir_name)\nfor dir in dir_names:\n    os.mkdir(dir)\n    with open(f&#39;.&#47;{dir}&#47;{dir}.txt&#39;, mode=&#39;w&#39;)as f:\n        f.write(dir)\n\nfile_data = []\nfor dir in dir_names:\n    with open(f&#39;.&#47;{dir}&#47;{dir}.txt&#39;)as f:\n        file_data.append(f.read())\n# 此时我已经在主目录下\nwith open(f&#39;.&#47;{home_dir_name}.txt&#39;, mode=&#39;w&#39;)as nf:\n    for data in file_data:\n        nf.write(data)","like_count":0},{"had_liked":false,"id":395517,"user_name":"Leo = 6|Yi|天","can_delete":false,"product_type":"c3","uid":3916508,"ip_address":"加拿大","ucode":"7F1C7A74255FE9","user_header":"https://static001.geekbang.org/account/avatar/00/3b/c2/dc/a6d03b6d.jpg","comment_is_top":false,"comment_ctime":1731049485,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\n\nhomework = []\nhwPath = &quot;homework&#47;&quot;\nfor i in &quot;abc&quot;:\n    with open(&quot;dir&quot;+i+&quot;&#47;dir&quot;+i+&quot;.txt&quot;) as file:\n        homework.append(file.read())\n\nif not os.path.isdir(hwPath):\n    os.makedirs(hwPath)\n\nwith open(&quot;homework&#47;homework.txt&quot;, &quot;w&quot;) as file:\n    for h in homework:\n        file.write(h)","like_count":0},{"had_liked":false,"id":390929,"user_name":"Mamba","can_delete":false,"product_type":"c3","uid":1475049,"ip_address":"湖北","ucode":"8B3EC90736B8EB","user_header":"https://static001.geekbang.org/account/avatar/00/16/81/e9/d131dd81.jpg","comment_is_top":false,"comment_ctime":1716779978,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 1、 创建文件夹和文件\nimport os\n# 创建主文件夹和子文件夹\nmain_folder = &quot;homework&quot;\nsub_folders = [&quot;dira&quot;, &quot;dirb&quot;, &quot;dirc&quot;]\n\nos.makedirs(main_folder, exist_ok=True)\n\nfor sub_folder in sub_folders:\n    folder_path = os.path.join(main_folder, sub_folder)\n    os.makedirs(folder_path, exist_ok=True)\n    \n    file_path = os.path.join(folder_path, f&quot;{sub_folder}.txt&quot;)\n    with open(file_path, &quot;w&quot;) as file:\n        content = f&quot;This is {sub_folder}.&quot;\n        file.write(content + &quot;\\n&quot; + content + &quot;\\n&quot; + content + &quot;\\n&quot;)  # 写入一些基本内容\n\n\nfor root, dirs, files in os.walk(main_folder):\n    created_structure[root] = files\n    print( root, dirs, files )\n\n# 2、合并内容写入（方式 1）\n\n# 指定文件夹路径\nhomework_dir = &quot;homework&quot;\noutput_file_path = os.path.join(homework_dir, &quot;homework.txt&quot;)\n\n# 列出需要合并的文件\nfiles_to_merge = [\n    os.path.join(homework_dir, &quot;dira&quot;, &quot;dira.txt&quot;),\n    os.path.join(homework_dir, &quot;dirb&quot;, &quot;dirb.txt&quot;),\n    os.path.join(homework_dir, &quot;dirc&quot;, &quot;dirc.txt&quot;)\n]\n\n# 打开输出文件并写入内容\nwith open(output_file_path, &quot;w&quot;) as outfile:\n    for file_path in files_to_merge:\n        with open(file_path, &quot;r&quot;) as infile:\n            print(file_path)\n            contents = infile.read()\n            outfile.write(contents + &quot;\\n&quot; + contents + &quot;\\n&quot; + contents + &quot;\\n&quot;)  # 追加换行符以分隔不同文件的内容\n\n# 检查合并后的文件内容\nwith open(output_file_path, &quot;r&quot;) as check_file:\n    merged_contents = check_file.read()\n# 2、写入合并内容 （方式2）\nf_data = []\nfor dirpath, dirnames, filenames in os.walk(homework_dir):\n    dirnames[:] = [d for d in dirnames if d != &#39;.ipynb_checkpoints&#39;]\n    for filename in filenames:\n        if filename.endswith(&#39;.txt&#39;):\n            print(filename)\n            with open(os.path.join(dirpath,filename)) as f:\n                f_data.append(f.read())\nprint(f_data)\nwith open(os.path.join(homework_dir,&#39;homework.txt&#39;),mode = &#39;w+&#39;) as f:\n    for content in f_data:\n        f.write(content)\n    f.seek(0)\n    data = f.read()\n    print(data)","like_count":0},{"had_liked":false,"id":389394,"user_name":"endeavor","can_delete":false,"product_type":"c3","uid":3794773,"ip_address":"四川","ucode":"AB27B0F630F320","user_header":"https://static001.geekbang.org/account/avatar/00/39/e7/55/7218221b.jpg","comment_is_top":false,"comment_ctime":1712404311,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"f.write()","like_count":0},{"had_liked":false,"id":388562,"user_name":"Geek_c131f7","can_delete":false,"product_type":"c3","uid":3828103,"ip_address":"陕西","ucode":"88BB639931161E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/icniaGmw8xiboyC25ic8l7Vf62AOJ9ysHeAZSxPYMAnL8TticuELVSpnZcexwicbyaeVSCdtnN0MNWawrdBcgeLwmhdg/132","comment_is_top":false,"comment_ctime":1710394501,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\nos.chdir(&#39;.&#47;homework&#47;dira&#39;)\n\nwith open(&#39;dira.txt&#39;) as f:\n    data_a = f.read()\nos.chdir(&#39;..&#39;)\nos.chdir(&#39;.&#47;dirb&#39;)\n\nwith open(&#39;dirb.txt&#39;) as f:\n    data_b = f.read()\nos.chdir(&#39;..&#39;)\nos.chdir(&#39;.&#47;dirc&#39;)\n\nwith open(&#39;dirc.txt&#39;) as f:\n    data_c = f.read()\nos.chdir(&#39;..&#39;)\nos.chdir(&#39;..&#39;)\n\nos.chdir(&#39;.&#47;homework&#39;)\nwith open(&#39;homework.txt&#39;,mode = &#39;w&#39;) as f:\n    f.write(data_a)\n    f.write(data_b)\n    f.write(data_c)","like_count":0},{"had_liked":false,"id":388550,"user_name":"686486","can_delete":false,"product_type":"c3","uid":3775908,"ip_address":"广东","ucode":"F162282D1E0005","user_header":"","comment_is_top":false,"comment_ctime":1710384104,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import pathlib\nimport os\n\nfile_name=[&quot;d:\\homework\\dira&quot;,&quot;d:\\homework\\dirb&quot;,&quot;d:\\homework\\dirc&quot;]\nfile_name2=[&quot;\\dira.txt&quot;,&quot;\\dirb.txt&quot;,&quot;\\dirc.txt&quot;]\ndata=[]\n\nfor dir_1,dir_2 in zip(file_name,file_name2) :\n    path = pathlib.Path(dir_1)\n\n    if path.is_dir():\n        print(f&quot;{path} 文件夹存在&quot;)\n        with open(f&#39;{dir_1}{dir_2}&#39;, mode=&quot;w+&quot;) as f1:\n            f1.write(f&#39;{dir_1 + dir_2}&#39;)\n            \n\n    else:\n        print(f&quot;文件夹不存在，创建{path} 文件夹&quot;)\n        # 创建多级文件夹\n        os.makedirs(dir_1)\n        with open(f&#39;{dir_1}{dir_2}&#39;, mode=&quot;w+&quot;) as f2:\n            f2.write(f&#39;{dir_1 + dir_2}&#39;)\n                        \n                      \n    with open(f&#39;{dir_1}{dir_2}&#39;, mode=&quot;r&quot;) as f:\n        data.append(f.read())\n        print(data)\n\nresult=&#39;\\n&#39;.join(data)\nwith open(&#39;D:\\homework\\homework.txt&#39;,mode=&#39;w&#39;) as f:\n    f.write(result)","like_count":0},{"had_liked":false,"id":384880,"user_name":"Geek_0c747b","can_delete":false,"product_type":"c3","uid":3790728,"ip_address":"广东","ucode":"7D7251D7B98B08","user_header":"","comment_is_top":false,"comment_ctime":1701742598,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"files_name = [&#39;.&#47;homework&#47;dira&#47;dira.txt&#39;, &#39;.&#47;homework&#47;dirb&#47;dirb.txt&#39;, &#39;.&#47;homework&#47;dirc&#47;dirc.txt&#39;]\nfiles_data = []\nfor file in files_name:\n    with open(file) as f:\n        files_data.append(f.read())\n\nwith open(&#39;.&#47;homework&#47;homework.txt&#39;, mode=&#39;w&#39;) as f:\n    for data in files_data:\n        f.write(data)","like_count":0},{"had_liked":false,"id":384701,"user_name":"杜少星","can_delete":false,"product_type":"c3","uid":1387875,"ip_address":"北京","ucode":"9EB2A705BA9B17","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/63/6513b925.jpg","comment_is_top":false,"comment_ctime":1701349613,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"files_name = [&quot;homework&#47;dira&#47;dira.txt&quot;, &quot;homework&#47;dirb&#47;dirb.txt&quot;, &quot;homework&#47;dirc&#47;dirc.txt&quot;]\nfiles_data = []\n\nfor f_name in files_name:\n    with open(f_name) as f:\n        files_data.append(f.read())\n        #print(files_data)\n\nwith open(&quot;homework&#47;homeword.txt&quot;, mode=&quot;w&quot;) as f:\n    for data in files_data:\n        f.write(data)\n        f.write(&quot;\\n&quot;)","like_count":0},{"had_liked":false,"id":384365,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1700731287,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"在写入时，如果用mode=&quot;w&quot;，只会写入最后一个循环的文件，应该是被覆盖了。换成a就可以了。但是看老师的演示，用w也能追加成功是为啥","like_count":0},{"had_liked":false,"id":384361,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1700729513,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"为什么第一次存进去的时候明明用str(files_data)处理成字符串了，存进去的还是数组的形式","like_count":0},{"had_liked":false,"id":382051,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1696602542,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"假如 我知道了homework目录的绝对地址：\n\nimport os\n\n# 移动目录到homeword 我的目录是：&#47;Users&#47;eleme&#47;projects&#47;py&#47;homework\nos.chdir(&quot;&#47;Users&#47;eleme&#47;projects&#47;py&#47;homework&quot;)\n\n# 罗列文件目录列表\nfiles_name2 = [&quot;.&#47;dira&#47;dira.txt&quot;, &quot;.&#47;dirb&#47;dirb.txt&quot;, &quot;.&#47;dirc&#47;dirc.txt&quot;]\nfiles_data2 = []\nfor f_name in files_name2:\n    with open(f_name) as f:\n        files_data2.append(f.read())\n\nwith open(&quot;.&#47;homework.txt&quot;, mode=&quot;w&quot;, encoding=&quot;UTF-8&quot;) as f:\n    for data in files_data2:\n        f.write(data)","like_count":0},{"had_liked":false,"id":382050,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1696601877,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"with open(&quot;.&#47;5&#47;demo4.txt&quot;, mode=&quot;a&quot;, encoding=&quot;UTF-8&quot;) as f:\n    for data in files_data:\n        f.write(data)\n\nmode=&quot;w&quot;，是清空写入，那循环中为什么没有清空再写入，而是追加呢？","like_count":0},{"had_liked":false,"id":381026,"user_name":"叶疏言","can_delete":false,"product_type":"c3","uid":3024567,"ip_address":"浙江","ucode":"01E6739256F016","user_header":"https://static001.geekbang.org/account/avatar/00/2e/26/b7/fe2e5789.jpg","comment_is_top":false,"comment_ctime":1694593554,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os \nif not os.path.exists(&#39;homework&#39;):\n    os.makedirs(&#39;homework&#39;)\nelse:\n    print(&#39;文件夹已存在&#39;)\n\n\nf_data = []\n\nfor i in (&#39;a&#39;,&#39;b&#39;,&#39;c&#39;):\n    dir_name = &#39;dir&#39; + i\n    dir_txt = dir_name + &#39;.txt&#39;\n    dir_path = &#39;.&#47;homework&#47;&#39;+dir_name\n    if not os.path.exists(dir_path):\n        os.makedirs(dir_path)\n        file_path = dir_path +&#39;&#47;&#39;+ dir_txt\n        print(file_path)\n        with open(file_path, mode = &#39;w+&#39;) as f:\n            f.write(dir_txt+&#39;\\n&#39;)\n        with open(file_path) as f1:\n            f_data.append(f1.read())\n    else:\n        print(&#39;文件夹已存在&#39;)\nwith open(&#39;.&#47;homework&#47;homework.txt&#39;, mode=&#39;w&#39;) as f:\n    for data in f_data:\n        f.write(data)","like_count":0},{"had_liked":false,"id":380299,"user_name":"沐风","can_delete":false,"product_type":"c3","uid":1762568,"ip_address":"天津","ucode":"2984D4D532526D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e5/08/94f03b2d.jpg","comment_is_top":false,"comment_ctime":1693323927,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"files_name = [&#39;homework&#47;dira&#47;dira.txt&#39;, &#39;homework&#47;dirb&#47;dirb.txt&#39;, &#39;homework&#47;dirc&#47;dirc.txt&#39;]\nwith open(&quot;homework&#47;homework.txt&quot;, mode=&quot;a&quot;, encoding=&quot;UTF-8&quot;) as w_file:\n    for rf in file_list:\n        with open(rf, mode=&quot;r&quot;, encoding=&quot;UTF-8&quot;) as node_file:\n            for con_line in node_file:\n                w_file.write(con_line)","like_count":0},{"had_liked":false,"id":379050,"user_name":"Geek_219b52","can_delete":false,"product_type":"c3","uid":1524531,"ip_address":"浙江","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1691219000,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"&#39;&#39;&#39;\n在 homework 文件夹下，有三个文件夹分别为 dira、dirb、dirc,三个文件夹下各自存放了和文件夹同名的文本文件,现需要将三个 txt 文件，合并为 homework.txt \n并放在 homework 下，请你用 Python 实现该需求。\n&#39;&#39;&#39;\n#方式一\nwith open(&quot;D:\\零基础学python\\演示代码\\homework\\dira\\dira.txt&quot;,mode = &quot;r&quot;) as f1:\n    file1 = f1.read()\n\nwith open(&quot;D:\\零基础学python\\演示代码\\homework\\dirb\\dirb.txt&quot;,mode = &quot;r&quot;) as f2:\n    file2 = f2.read()   \n\nwith open(&quot;D:\\零基础学python\\演示代码\\homework\\dirc\\dirc.txt&quot;,mode = &quot;r&quot;) as f3:\n    file3 = f3.read()   \n\nwith open(&quot;D:\\零基础学python\\演示代码\\homework\\homework.txt&quot;,mode = &quot;w+&quot;) as f:\n    f.write(file1)\n    f.write(file2)\n    f.write(file3)\n\n\n\n#方式二\nfiles_name = [&quot;D:\\零基础学python\\演示代码\\homework\\dira\\dira.txt&quot;,&quot;D:\\零基础学python\\演示代码\\homework\\dirb\\dirb.txt&quot;,&quot;D:\\零基础学python\\演示代码\\homework\\dirc\\dirc.txt&quot;]\nfile_data = []\n\nfor f_name in files_name:\n    with open (f_name) as f:\n        file_data.append(f.read())\n        print(f_name)\n\nwith open(&quot;D:\\零基础学python\\演示代码\\homework\\homework.txt&quot;,mode = &quot;w&quot;,encoding = &quot;utf-8&quot;) as f:\n    for data in file_data:\n        f.write(data)","like_count":0},{"had_liked":false,"id":377958,"user_name":"Greenery","can_delete":false,"product_type":"c3","uid":3566765,"ip_address":"","ucode":"16111129C9EBA2","user_header":"https://static001.geekbang.org/account/avatar/00/36/6c/ad/0a694b50.jpg","comment_is_top":false,"comment_ctime":1689592855,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\nimport pathlib\n\ndirs = [&quot;.&#47;hk&#47;dira&quot;, &quot;.&#47;hk&#47;dirb&quot;, &quot;.&#47;hk&#47;dirc&quot;]\nfor d in dirs:\n    p = pathlib.Path(d)\n    if not p.is_dir():\n        os.makedirs(d)\nwith open(&quot;.&#47;hk&#47;dira&#47;dira.txt&quot;, &quot;w&quot;) as f:\n    f.write(&quot;dira yes yes yes!\\n&quot;)\nwith open(&quot;.&#47;hk&#47;dirb&#47;dirb.txt&quot;, &quot;w&quot;) as f:\n    f.write(&quot;dirb yes yes yes!\\n&quot;)\nwith open(&quot;.&#47;hk&#47;dirc&#47;dirc.txt&quot;, &quot;w&quot;) as f:\n    f.write(&quot;dirc yes yes yes!\\n&quot;)\n\nfiles_data = []\nfiles_path = [&quot;.&#47;hk&#47;dira&#47;dira.txt&quot;, &quot;.&#47;hk&#47;dirb&#47;dirb.txt&quot;, &quot;.&#47;hk&#47;dirc&#47;dirc.txt&quot;]\nfor fp in files_path:\n    with open(fp) as f:\n        files_data.append(f.read())\nwith open(&quot;.&#47;hk&#47;hk.txt&quot;,&quot;w&quot;) as f:\n    for fd in files_data:\n        f.write(fd)","like_count":0},{"had_liked":false,"id":377681,"user_name":"next station","can_delete":false,"product_type":"c3","uid":1357937,"ip_address":"广东","ucode":"ABF39067778FD6","user_header":"https://static001.geekbang.org/account/avatar/00/14/b8/71/552e4afb.jpg","comment_is_top":false,"comment_ctime":1689005436,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"def merge_txt_files(folder_path, output_file):\n    import os\n    # 获取文件夹下所有的文件夹名\n    subfolders = [f.path for f in os.scandir(folder_path) if f.is_dir()]\n\n    # 合并文本文件内容\n    with open(output_file, &quot;w&quot;) as outfile:\n        for subfolder in subfolders:\n            txt_file = os.path.join(\n                subfolder, subfolder.split(os.sep)[-1] + &quot;.txt&quot;)\n            if os.path.isfile(txt_file):\n                with open(txt_file, &quot;r&quot;) as infile:\n                    outfile.write(infile.read() + &quot;\\n&quot;)","like_count":0},{"had_liked":false,"id":377679,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1689002566,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\nos.chdir(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;homework&#39;)\n         \ndir_name = [&#39;dira&#39;, &#39;dirb&#39;, &#39;dirc&#39;]\nfile_data = []\n\nfor i in dir_name:\n    with open(f&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;homework&#47;{i}&#47;{i}.txt&#39;) as f:\n        file_data.append(f.read())\n\nwith open(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;homework&#47;homework.txt&#39;, mode=&#39;w&#39;) as f:\n    for i in file_data:\n        f.write(i)","like_count":0},{"had_liked":false,"id":377307,"user_name":"落叶🍂建良","can_delete":false,"product_type":"c3","uid":1238358,"ip_address":"广东","ucode":"4015FADD0EFD61","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/56/3bee284c.jpg","comment_is_top":false,"comment_ctime":1688305038,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\n\nfile_data = []\n\n\ndef get_files(dir_name):\n    file_lists = os.listdir(dir_name)\n    # print(file_lists)\n    for file_item in file_lists:\n        # path_name = os.path.abspath(file_item)\n        path_name = os.path.join(dir_name, file_item)\n        print(path_name)\n\n        if os.path.isdir(path_name):\n            get_files(path_name)\n        elif os.path.isfile(path_name):\n            # print(&#39;this is file&#39;, path_name)\n            with open(path_name) as f:\n                file_data.append(f.read())\n\n\nget_files(&#39;..&#47;homework&#39;)\n\nprint(&quot;file_data&quot;, file_data)\n\nwith open(&#39;.&#47;homework.txt&#39;, mode=&#39;w&#39;) as f:\n    for i in file_data:\n        f.write(f&quot;{i}\\n&quot;)","like_count":0},{"had_liked":false,"id":375742,"user_name":"尿布斯","can_delete":false,"product_type":"c3","uid":2022308,"ip_address":"陕西","ucode":"0908E29AC74A4D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/db/a4/053d978a.jpg","comment_is_top":false,"comment_ctime":1685944799,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"files_name = [&quot;C:\\python_study_test\\dira\\dira.txt&quot;,&quot;C:\\python_study_test\\dirb\\dirb.txt&quot;,&quot;C:\\python_study_test\\dirc\\dirc.txt&quot;]\nfile_data = []\nfor f_name in files_name:\n    with open(f_name) as f:\n       file_data.append(f.read())\n\nwith open(&quot;C:\\python_study_test\\homework.txt&quot;,&quot;w&quot;) as f:\n    for f_data in file_data:\n        f.write(f_data)","like_count":0},{"had_liked":false,"id":374853,"user_name":"Geek_943787","can_delete":false,"product_type":"c3","uid":3023953,"ip_address":"浙江","ucode":"E16967E38B57A8","user_header":"","comment_is_top":false,"comment_ctime":1684490695,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\nos.mkdir(&#39;.&#47;homework&#39;)\nos.mkdir(&#39;.&#47;homework&#47;dira&#39;)\nos.mkdir(&#39;.&#47;homework&#47;dirb&#39;)\nos.mkdir(&#39;.&#47;homework&#47;dirc&#39;)\nos.chdir(&#39;.&#47;homework&#47;dira&#39;)\nwith open(&#39;dira.txt&#39;,mode=&#39;w&#39;) as f:\n    f.write(&#39;dira&#39;)\nos.chdir(&#39;..&#47;dirb&#39;)\nwith open(&#39;dirb.txt&#39;,mode=&#39;w&#39;) as f:\n    f.write(&#39;dirb&#39;)\nos.chdir(&#39;..&#47;dirc&#39;)\nwith open(&#39;dirc.txt&#39;,mode=&#39;w&#39;) as f:\n    f.write(&#39;dirc&#39;)\nlist = [&#39;..&#47;dira&#47;dira.txt&#39;,&#39;..&#47;dirb&#47;dirb.txt&#39;,&#39;..&#47;dirc&#47;dirc.txt&#39;]\nfr= []\nfor data in list:\n    with open(data) as f:\n        fr.append(f.read())\nwith open(&#39;..&#47;homework.txt&#39;,mode=&#39;w&#39;) as f:\n    for data in fr:\n        f.write(data)","like_count":0},{"had_liked":false,"id":369406,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1677505668,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\n\nfiles_name = [&#39;demo01.txt&#39;, &#39;demo02.txt&#39;, &#39;demo03.txt&#39;]\nfiles_data = []\nfor f_name in files_name:\n    with open(f_name) as f:\n        files_data.append(f.read())\n\nif os.path.exists(&#39;demo04.txt&#39;):\n    os.remove(&#39;demo04.txt&#39;)\n\nwith open(&#39;demo04.txt&#39;, mode=&#39;w+&#39;, encoding=&#39;utf-8&#39;) as f:\n    for data in files_data:\n        f.write(data)","like_count":0},{"had_liked":false,"id":367781,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675597110,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"1.习题练习(Linux版)\n目录结构：&#47;home&#47;worker&#47;homework&#47;dir{a,b,c}\n\n2.文件内容\ndira.txt——[dira]\ndirb.txt——[dirb]\ndirc.txt——[dirc]\n\n3.编写.py文件\nfolder=[&quot;dira&quot;,&quot;dirb&quot;,&quot;dirc&quot;]\nfor folder_name in folder:\n    with open(f&quot;&#47;home&#47;worker&#47;homework&#47;{folder_name}&#47;{folder_name}.txt&quot;,&quot;r&quot;) as file:\n        with open(f&quot;&#47;home&#47;worker&#47;homework&#47;homework.txt&quot;,&quot;a&quot;) as homework_file:\n            homework_file.write(file.read())\n\n4.homework.txt输出结果\n[dira]\n[dirb]\n[dirc]","like_count":0},{"had_liked":false,"id":367033,"user_name":"朱雯","can_delete":false,"product_type":"c3","uid":1035744,"ip_address":"江西","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1674830774,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os \ndirname = [&quot;dira&quot;,&quot;dirb&quot;,&quot;dirc&quot;]\nfor dir in dirname:\n    if not os.path.exists(f&quot;homework&#47;{dir}&quot;):\n        os.mkdir(f&quot;homework&#47;{dir}&quot;)\nif not os.path.exists(&#39;homework&#47;dira&#47;dira.txt&#39;):\n    with open(&#39;homework&#47;dira&#47;dira.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fa:\n        fa.write(&#39;aaa\\n&#39;)\nif not os.path.exists(&#39;homework&#47;dirb&#47;dirb.txt&#39;):\n\n    with open(&#39;homework&#47;dirb&#47;dirb.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fb:\n        fb.write(&#39;bbb\\n&#39;)\nif not os.path.exists(&#39;homework&#47;dirc&#47;dirc.txt&#39;):\n    with open(&#39;homework&#47;dirc&#47;dirc.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fc:\n        fc.write(&#39;ccc\\n&#39;)\n\n\n\nfilename = [&quot;homework&#47;dira&#47;dira.txt&quot;,&quot;homework&#47;dirb&#47;dirb.txt&quot;,&quot;homework&#47;dirc&#47;dirc.txt&quot;]\nfilestr = []\nfor file in filename:\n    with open(file,mode=&quot;r&quot;) as f:\n        filestr.append(f.read())\nprint(filestr)\nfor files in filestr:\n    with open(&quot;homework&#47;homework.txt&quot;,mode=&quot;a&quot;) as f:\n        f.write(files)","like_count":0},{"had_liked":false,"id":367029,"user_name":"朱雯","can_delete":false,"product_type":"c3","uid":1035744,"ip_address":"江西","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1674827939,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100310001,"comment_content":"dira = open(&quot;homework&#47;dira&#47;dira.txt&quot;,mode=&quot;r&quot;,encoding=&quot;utf-8&quot;)\ndirb = open(&quot;homework&#47;dirb&#47;dirb.txt&quot;,mode=&quot;r&quot;,encoding=&quot;utf-8&quot;)\ndirc = open(&quot;homework&#47;dirc&#47;dirc.txt&quot;,mode=&quot;r&quot;,encoding=&quot;utf-8&quot;)\nwith open(&quot;homework&#47;homework.txt&quot;,mode=&quot;w&quot;,encoding=&quot;utf-8&quot;) as homework:\n    homework.write(dira.read())\n    homework.write(dirb.read())\n    homework.write(dirc.read())\ndira.close()\ndirb.close()\ndirc.close()","like_count":0},{"had_liked":false,"id":366254,"user_name":"Cy23","can_delete":false,"product_type":"c3","uid":1591293,"ip_address":"辽宁","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1673512717,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100310001,"comment_content":"list = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]\nf_data =[]\nfor file_name in list:\n  with open(&#39;homework&#39;+ (&#39;&#47;dir&#39;+file_name) * 2 +&#39;.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as f:\n    f_data.append(f.read())\nwith open(&#39;homework&#47;homework.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as f:\n  for f_line in f_data:\n    f.write(f_line)","like_count":0},{"had_liked":false,"id":366253,"user_name":"Cy23","can_delete":false,"product_type":"c3","uid":1591293,"ip_address":"辽宁","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1673512546,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100310001,"comment_content":"list = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]\nf_data =[]\nfor file_name in list:\n  with open(&#39;homework&#47;dir&#39;+file_name+&#39;&#47;dir&#39;+file_name+&#39;.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as f:\n    f_data.append(f.read())\nwith open(&#39;homework&#47;homework.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as f:\n  for f_line in f_data:\n    f.write(f_line)","like_count":0},{"had_liked":false,"id":365517,"user_name":"江江儿嘛哩哄","can_delete":false,"product_type":"c3","uid":1928117,"ip_address":"浙江","ucode":"E7D6E59551B7F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6b/b5/14586a78.jpg","comment_is_top":false,"comment_ctime":1672722339,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100310001,"comment_content":"#作业文件在本地电脑的相对路径\nfiles_name = [&quot;.&#47;txt&#47;练习-合并文件&#47;homework&#47;dira&#47;dira.txt&quot;, &quot;.&#47;txt&#47;练习-合并文件&#47;homework&#47;dirb&#47;dirb.txt&quot;, &quot;.&#47;txt&#47;练习-合并文件&#47;homework&#47;dirc&#47;dirc.txt&quot;]\nfiles_data = []\n\nfor f_name in files_name:\n    with open(f_name) as f:\n        files_data.append(f.read())\n\nwith open(&quot;.&#47;txt&#47;练习-合并文件&#47;homework&#47;homework.txt&quot;, mode=&quot;w&quot;) as f:\n    for data in files_data:\n        f.write(data)","like_count":0}]}
{"id":157581,"title":"44 | ZooKeeper的Leader Election","content":"<p><strong>课件和Demo地址</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geekbang-zk-course\">https://gitee.com/geektime-geekbang/geekbang-zk-course</a></p>","comments":[{"had_liked":false,"id":158588,"user_name":"hxy","can_delete":false,"product_type":"c3","uid":1248553,"ip_address":"","ucode":"431327E8CA4364","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/29/18272af9.jpg","comment_is_top":false,"comment_ctime":1575421055,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"老师好，finalizewait时间也没有收到(1，8)的话，8这个zxid代表的事务是不是就丢失了？","like_count":2,"discussions":[{"author":{"id":1232463,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ce/4f/6afbb99a.jpg","nickname":"天信","note":"","ucode":"4961959C9F19E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":159717,"discussion_content":"我也有同样的困惑，希望老师能够解答","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580727997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1609530,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/l4nngwyggBGqeMXC0micwO8bM1hSttgQXa1Y5frJSqWa8NibDhia5icwPcHM5wOpV3hfsf0UicDY0ypFqnQ3iarG0T1w/132","nickname":"Trident","note":"","ucode":"53E6788CF33398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78808,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576024287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286014,"user_name":"搬砖人员","can_delete":false,"product_type":"c3","uid":1346889,"ip_address":"","ucode":"F864808A282657","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKQIk0Zu0ic03bzIwUFS9ic6yooJLRPKF7awJDUUg7uSt89yejqRecBrhFjiaj6SLVAU5woYgLQmjaKg/132","comment_is_top":false,"comment_ctime":1617105144,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"您好老师，请教一下，如果因为Leader假死导致脑裂，ZK在源码中是在哪里让集群恢复正常的","like_count":0},{"had_liked":false,"id":223104,"user_name":"余生第一天","can_delete":false,"product_type":"c3","uid":1479418,"ip_address":"","ucode":"839432FBAFE49F","user_header":"https://static001.geekbang.org/account/avatar/00/16/92/fa/b8a5e342.jpg","comment_is_top":false,"comment_ctime":1591002500,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"老师好，curator 提供的leaderselector用于选举leader，如果两个线程频繁的选举是不是就需要进行频繁的网络通讯？有办法让一个线程保持leader的身份吗","like_count":0},{"had_liked":false,"id":175471,"user_name":"天信","can_delete":false,"product_type":"c3","uid":1232463,"ip_address":"","ucode":"4961959C9F19E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/4f/6afbb99a.jpg","comment_is_top":false,"comment_ctime":1580728107,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"如果 node1 长时间没有发出去信号，然后整个系统已经认为是 node3 为 leader 节点，那么 node1 后面再加入进来会发生什么？","like_count":0}]}
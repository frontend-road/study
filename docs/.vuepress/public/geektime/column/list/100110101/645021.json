{"id":645021,"title":"加餐｜集中答疑：详解Android环境搭建","content":"<p>你好，我是蒋宏伟。</p><p>今天这节课，我会为你解答如何搭建 Android 环境。</p><p>在写这节课之前，我自己重装系统重新搭建了一次环境。我使用的电脑是 Macbook Pro 2016 版，系统版本是 12.6.3，供你参考。</p><p>总体上说，搭建 Android 环境比搭建 iOS 环境遇到的网络问题更少，因此我更建议新手直接搭建 Android 环境。并在每搭建一步之后做一次检查，比如相关包的版本检查，这可能会让你少走弯路。</p><p>下面我来分享一下，我搭建 Android React Native 开发环境的详细步骤，你也可以跟着一起动起手来。</p><h2>Homebrew</h2><p>第一步是安装 Homebrew，后续很多程序的安装都会借助 Homebrew 进行。</p><p>Homebrew 是 macOS 的一个软件包管理器。直接使用 <a href=\"https://brew.sh/\">Homebrew 官方文档</a>进行安装，我这边出现了网络报错。报错的内容是 <code>unable to access github</code>，也就是访问不到 GitHub 地址。解决方案要么是保持自己的网络畅通，要么使用相关的镜像源。</p><p>知乎上有大牛提供了 Homebrew <a href=\"https://zhuanlan.zhihu.com/p/111014448\">镜像源及工具</a>，你可以通过如下命令一键安装。</p><pre><code class=\"language-bash\">$ /bin/zsh -c \"$(curl -fsSL &lt;https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh&gt;)\"\n</code></pre><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/e6/dc/e67948373afe7be627ce7814yy7ae5dc.png?wh=1920x1259\" alt=\"图片\"></p><p>安装完成后，重启当前 Terminal，brew 就安装成功了。你可以运行如下命令，检查它是否安装成功。</p><pre><code class=\"language-plain\">$ brew --version\nHomebrew 3.6.15\n</code></pre><h2></h2><h2>Node 和 NPM</h2><p>第二步是安装 Node 和 NPM，搭建 JavaScript 环境。</p><p>Node 是 React Native 应用程序中，JavaScript 相关服务的运行环境，比如构建服务就是通过 Node 环境提供的。安装 Node 时，会自动安装 NPM 包管理器，它将帮助我们管理相关依赖。</p><p>我们可以通过 Homebrew 进行 Node 的安装。</p><pre><code class=\"language-bash\">$ brew install node\n</code></pre><p>安装完成后，你可以通过如下命令检查 Node 和 NPM 是否安装成功。</p><pre><code class=\"language-bash\">$ node --version\nv19.7.0\n$ npm --version\n9.5.0\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/22/37/22c3ac2eeaff6a51fd0b08c1fa935c37.png?wh=1920x386\" alt=\"图片\"></p><p>为保证后续网络的畅通，你最好将 NPM 的 registry 设置为淘宝源。切换命令如下：</p><pre><code class=\"language-bash\">$ npx nrm use taobao\n</code></pre><h2></h2><h2>Watchman</h2><p>第三步，是安装一个名为 Watchman 的工具。它是由 Facebook 开发的一个工具，只要你的文件有一些变化，它就会自动重新运行你的项目。</p><p>我们使用 Homebrew 来安装 Watchman。</p><pre><code class=\"language-plain\">$ brew install watchman\n</code></pre><p>安装完成后，通过如下命令检查是否安装成功。</p><pre><code class=\"language-plain\">$ watchman --version\n2023.02.20.00\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/d8/aa/d841d889eae880be5faabc685a979aaa.png?wh=1920x1256\" alt=\"图片\"></p><h2></h2><h2>安装 JDK</h2><p>第四步是安装 Java Development Kit（JDK），搭建 Java 开发环境。</p><p>众所周知，Android 依赖 Java 开发环境，这里我们搭建 Java 环境使用的工具是 Zulu。Zulu 是一款 Java 运行环境，它是基于 OpenJDK（一个 Java 编程语言的开源实现的源代码）构建的。Zulu 提供了 Intel 和 M1 Mac 的 JDK，这使得 JDK 的安装更为方便。</p><p>由于 Zulu 是一个图形界面程序，需要手动安装，为了方便这里我们借助 Cask 一键安装。你需要先借助 Homebrew 安装 Cask 再安装 Zulu。命令如下：</p><pre><code class=\"language-bash\">$ brew tap homebrew/cask-versions\n$ brew install --cask zulu11\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/50/77/50dd88byy16ed17f35d9a2e7751a7377.png?wh=1920x1156\" alt=\"图片\"></p><p>当你安装成功后，你可以运行 <code>java --version</code> 检查 Java 运行时环境（JRE）的版本，或运行 <code>javac --version</code> 检查 Java 开发工具包（JDK）中 Java 编译器（javac）的版本。</p><pre><code class=\"language-bash\">$ java --version\njava 16.0.2 2021-07-20 \n$ javac --version\njavac 16.0.2  \n</code></pre><h2></h2><h2>安装 Android Studio</h2><p>第五步是安装 Android Studio，它是搭建 Android 开发环境的前提条件。</p><p>Android Studio 是 Android 开发的官方集成开发环境（IDE）。你需要安装 Android Studio 才能在本机构建 React Native 应用程序，并运行在真机或模拟器上。</p><p>你可以从 <a href=\"https://developer.android.com/studio\">Android Studio 官方网站</a>下载和安装 Android Studio。在 Android Studio 安装向导中，选择默认选项并设置相关镜像安装默认依赖即可。</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/b5/b28d50c33b97b8bf5a719794dyyc0eb5.png?wh=1920x1205\" alt=\"图片\"></p><pre><code class=\"language-bash\">腾讯： https://mirrors.cloud.tencent.com/AndroidSDK/\n\n阿里： https://mirrors.aliyun.com/android.googlesource.com/\n</code></pre><p>这一步的完整流程比较长，细节比较多，因此我录了一个小视频，供你参考：</p><p><video poster=\"https://media001.geekbang.org/e37b1150ced671ed801b6732b68e0102/snapshots/2a10c01a14854aad932f02b79d3416cf-00005.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/59dc57f-18731af4ea2-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2baecd40ced771ed8fac0764a3fc0102/cce6ae685c6e498c8e2d92468f565760-0e53b7e3dc342fd026b7d6c603a88bc4-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>安装 <strong>Android SDK</strong></h2><p>第六步是安装 Android SDK。</p><p>在上一步中，我们已经把 Android Studio 和默认依赖安装好了，除了默认依赖，你还需要安装：</p><ul>\n<li><code>Android SDK Platform 33</code></li>\n<li><code>Intel x86 Atom_64 System Image</code> 或 <code>Google APIs Intel x86 Atom System Image</code>(Inter CPU)  或 <code>Google APIs ARM 64 v8a System Image</code> (Apple CPU)</li>\n<li><code>Android SDK Build-Tools</code> 33.0.0 版本</li>\n</ul><p>安装的第一部分的是 <code>Android SDK Platform</code>。它是指针对 Android 特定版本的 Android 平台组件，包括库、工具和框架等。</p><p>安装的第二部分的是 <code>System Image</code>。它是针对特定处理器架构的 Android 系统镜像，该镜像主要用于在模拟器上模拟具有特定 CPU 和 Google API 的 Android 设备。带有 Intel 字样的适配的是 Intel CPU，带有 ARM 字样的适配的是苹果 CPU，此外带有 Google 字样表示集成了 Google 的 API。</p><p>一般情况下，Intel CPU 选择 <code>Google APIs Intel x86 Atom System Image</code>，苹果 CPU 选择 <code>Google APIs ARM 64 v8a System Image</code>。</p><p>安装的第三部分是 <code>Android SDK Build-Tools</code>，你可以在 Android Studio 的左上角找到 Preference，并打开它。然后搜索 Android SDK，找到其中的 <code>SDK Platforms</code> 和 <code>SDK Tools</code> 配置页，然后按下图所示勾选，最后点击 <code>Apply</code> 完成相关项的安装。</p><p><img src=\"https://static001.geekbang.org/resource/image/87/c2/879b19e4c2053ece3f416a02564afdc2.png?wh=1920x1411\" alt=\"图片\"></p><p><img src=\"https://static001.geekbang.org/resource/image/41/27/411c92d3909937fbfdfefc9476946927.png?wh=1920x1397\" alt=\"图片\"></p><p>同样，这一步我也录制了视频。</p><p><video poster=\"https://media001.geekbang.org/e58957e0ced671ed81b56633b79f0102/snapshots/db8df84d93e7440ba3a9c57f1f133ee5-00004.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/3705c144-18731af5c0f-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2ccfa690ced771ed8dd16732b78e0102/cbaee7ff1c66489ead80dacf0594c8e9-c7e25b8fcee887558add33e80f5796f7-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>配置 <strong>Android 环境变量</strong></h2><p>第七步是配置 Android 环境变量。</p><p>由于后续操作会依赖于一些命令行，因此你还需要将 Android 环境变量暴露到全局，以便使用。</p><p>Zsh（Z shell）和 Bash（Bourne Again SHell）是两种不同的命令工具，你可以运行如下命令检查你用的是哪种工具。</p><pre><code class=\"language-bash\">$ echo $SHELL\n/bin/zsh\n</code></pre><p>如果你用的是 Zsh，那么你需要修改 <code>~/.zprofile</code> 或 <code>~/.zshrc</code> 文件。如果你用的是 Bash，那么你需要修改 <code>~/.bash_profile</code> 或 <code>~/.bashrc</code> 文件。你可以使用自带的 <code>vi</code> 编辑器进行编辑，命令如下：</p><pre><code class=\"language-bash\">$ vi ~/.zshrc\n# 或 vi ~/.bashrc\n</code></pre><p>接着，按 <code>i</code> 键进入插入模式，再使用箭头键将光标移动到插入文本的位置，然后将下列内容复制粘贴到文本中。</p><pre><code class=\"language-bash\">export ANDROID_HOME=$HOME/Library/Android/sdk\nexport PATH=$PATH:$ANDROID_HOME/emulator\nexport PATH=$PATH:$ANDROID_HOME/platform-tools\n</code></pre><p>完成插入后，按 <code>Esc</code> 键退出插入模式，输入 <code>:wq</code> 以保存更改并退出 <code>vi</code> 编辑器。</p><p>再接着，为了让更改生效，你可以重启终端（Shell）或者运行 <code>source ~/.zshrc</code> 使配置生效。</p><p>最后，运行如下命令检查 Android 环境变量是否设置成功。</p><pre><code class=\"language-bash\">$ echo $ANDROID_HOME\n/Users/jianghongwei/Library/Android/sdk\n$ echo $PATH\n/Users/local/bin...\n</code></pre><p>这一步依然可以参考视频。</p><p><video poster=\"https://media001.geekbang.org/e68236d0ced671edad7a0764a0ec0102/snapshots/17ab19d70e524154ac90f04cabfb4ae0-00003.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/4941b591-18731af6262-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2c718100ced771ed83ac0764a0fd0102/5a32f179bf2a40bfba051e13c48628bd-3909fb6332998a6f75eb6e40715890ba-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>安装 Android 模拟器</h2><p>第八步是安装 Android 模拟器。安装 Android 模拟器是搭建 Android 环境中的最后一步。当然你可以使用真机进行调试，但是模拟器大多数情况下更加方便，因此我选择安装了 Android 模拟器。</p><p>如果你还在 <code>Welcome to Android Studio</code> 页面，那么你可以在 <code>More Actions</code> 下拉框中选择 <code>Virtual Device Manager</code>。其他情况，你可以在顶部菜单栏中点击 <code>Tools</code> &gt; <code>Virtual Device Manager</code>。</p><p><img src=\"https://static001.geekbang.org/resource/image/a4/f9/a418d9789bca1a09b8fe26fefe46eff9.png?wh=1920x1709\" alt=\"图片\"></p><p>在 <code>Device Manager</code> 界面中，点击 <code>Create Virtual Device</code> 按钮创建虚拟设备。</p><p><img src=\"https://static001.geekbang.org/resource/image/86/68/86dc18b83d13edc264f1991c1a884468.png?wh=1920x1558\" alt=\"图片\"></p><p>在 <code>Virtual Device Configuration</code> 页面选择虚拟硬件，你可以选择任意一个设备，比如 Pixel XL，然后点击Next。</p><p><img src=\"https://static001.geekbang.org/resource/image/66/12/66e0da248cbe35252ce5985909b65b12.png?wh=1920x1302\" alt=\"图片\"></p><p>接着，你会进入到 <code>Virtual Device Configuration</code> 页面的 <code>System Image</code> 系统镜像选择步骤，选择模拟器的 Android 版本，然后点击下载按钮进行下载。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/87/0cd0245881e69d4d3c5b9b6c2389a687.png?wh=1920x1319\" alt=\"图片\"></p><p>现在，你已成功创建了一个新的 Android 模拟器。回到 <code>Device Manager</code> 页面后，你将看到新创建的模拟器设备。点击 <code>Actions</code> 中的播放图标 ▶️ 启动模拟器。接着会自动打开一个模拟器，并加载所选的 Android 系统镜像。</p><p><img src=\"https://static001.geekbang.org/resource/image/04/9c/04ff8f12a9yy8a12115dcc4bdf95219c.png?wh=1920x1419\" alt=\"图片\"></p><p>当你看到 Android 操作系统界面时，你的模拟器就安装完成了。此时，Android 环境已经搭建完成。接下来，我们将创建和启动 React Native 项目。</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/7b/3d844a5d4a3e2224442c8bfa9814607b.png?wh=1920x1186\" alt=\"图片\"></p><p>参考视频如下：</p><p><video poster=\"https://media001.geekbang.org/dd4c6d10ced671edbfcf0764a3fd0102/snapshots/4a4b7aae950e4667bfcac92d4856c67b-00004.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/1f8d67e-18731af2635-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2da87a60ced771ed802e6632b68f0102/f701fba1807643da8c873241300542f7-d42d4df8b55b8a517c883a3d8a0a9488-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>创建 React Native 项目</h2><p>第九步是创建 React Native 项目。</p><p>你可以使用 React Native CLI 来创建一个新的 React Native 项目，命令如下：</p><pre><code class=\"language-bash\">$ npx react-native@latest init AwesomeProject\n</code></pre><p>运行上述命令后，会依次下载 JavaScript/Java/Objective-C 的相关依赖和项目模板，如果没有配置 NPM、Maven 或 CocoaPods 的相关镜像，很有可能会遇到运行失败的问题。在运行失败后，你需要确定一下是上述 3 个部分依赖中的哪部分依赖没有下载成功。</p><p>React Native iOS 环境中的 CocoaPods 报错，我已经在 <a href=\"https://time.geekbang.org/column/article/635210\">iOS 环境搭建</a>中解答过了，NPM 镜像在前面步骤中也已经切换到淘宝源，这部分重点介绍 Android Maven 镜像源的替换。</p><p>例如，你可能会遇到如下图所示的 iOS Environment 安装失败的报错，但由于你要安装的是 React Native Android，因此你可以选择忽略 iOS 的报错。</p><p><img src=\"https://static001.geekbang.org/resource/image/64/57/64abc00b51460b668a9eb1407c75c657.png?wh=1920x1237\" alt=\"图片\"></p><p>再仔细观察图中内容，你可以看到 <code>Donwloading template</code> 、<code>Copying template</code> 、<code>Processing template</code> 三个模板相关的步骤已经处理完成，报错的是 <code>Installing Bundler</code> 这一步。</p><p>这意味着，创建 React Native 项目已经完成，只是安装 Android 依赖失败了，所以你只需要切换 Maven 镜像源，再安装和启动 React Native 项目即可。</p><p>你需要打开 <code>./android/build.gradle</code> 文件，将 Maven 源切换为阿里或华为的镜像源，操作方法如下：</p><pre><code class=\"language-java\">阿里：https://maven.aliyun.com/repository/public/\n华为：https://repo.huaweicloud.com/repository/maven/\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/21/77/219b77d5ccaa995b014029da0d953b77.png?wh=1920x1106\" alt=\"图片\"></p><p>切换好源之后，你需要 <code>cd android</code> 目录，然后运行 <code>gradlew build</code> 命令，Android 依赖安装是使用 <code>gradlew</code> 进行管理的。</p><pre><code class=\"language-bash\">$ cd android\n$ ./gradlew build --refresh-dependencies\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/3b/13/3bef42bc9f712f980152c73a7c4db713.png?wh=1920x1101\" alt=\"图片\"></p><p>参考视频如下：</p><p><video poster=\"https://media001.geekbang.org/dcf6abf0ced671ed83ac0764a0fd0102/snapshots/3b2009b78d10447599c004ce77b3ecf6-00002.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/1c4cd898-18731af23e7-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/080d1900ced771ed8dd16732b78e0102/71afb492b6374ee1a2d6a021215af1f8-a6f3e34574ed4c161a4465c44e1d72d5-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>启动 React Native 项目</h2><p>最后一步就是启动 React Native 项目。</p><p>在上一步，我们已经完成了 React Native 项目的创建和 Maven 源的切换，所有准备工作都已经完成。这一步，我们需要完成：</p><ol>\n<li>在本地启动 React Native 构建服务；</li>\n<li>在模拟器中安装 React Native Android App。</li>\n</ol><p>在项目的根目录中，运行如下命令，它会帮你在本地启动一个 React Native 构建服务。</p><pre><code class=\"language-bash\"># 如果在 Android 目录，需要 cd ../ 到根目录\n$ npx react-native start\n</code></pre><p>运行完成后，会出现如下的 <code>Welcome to Metro</code> 的欢迎界面，<code>Metro</code> 就是 React Native 的构建服务。同时，底部会显示 <code>r</code> <code>d</code> <code>i</code> <code>a</code> 四个选项，其中 <code>a</code> 选项是 <code>run on Android</code>，也就是说当你按下 <code>a</code> 按钮，它会帮你在模拟器上安装 React Native Android 应用。</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/9e/eb53c40bd6d2cbf87e87404dc5f5719e.png?wh=1920x1251\" alt=\"图片\"></p><p>按下 <code>a</code> 按钮后，稍等一会，当你看到 Welcome to React Native 页面时，你的 React Native Android 应用就安装完成了。</p><p><img src=\"https://static001.geekbang.org/resource/image/b3/1f/b3ca414c22bc7b37611e22b2fdc5ec1f.png?wh=1920x1294\" alt=\"图片\"></p><p>参考视频如下：</p><p><video poster=\"https://media001.geekbang.org/e4715830ced671ed81b56633b79f0102/snapshots/9c004471a1814e8b9c945b8d993c129e-00002.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/2c92b6ef-18731af54ff-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2ba8b2c0ced771ed99546732a78f0102/9a61da51d6b54d87b99fe96615cf56b2-39992f6fa56bec4e49a2459b3a87a065-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>至此，恭喜你，React Native Android 环境已经搭建成功了。</p><h2><strong>总结</strong></h2><p>搭建开发环境是很多新手的痛点。React Native 项目依赖项繁多，首先是依赖 Android 环境，其次是依赖 Node.js 环境。Android 环境又依赖 Java 环境，还需要安装 Android Studio、Android SDK 和虚拟机。同时，Node.js 和 Java 的环境搭建也都依赖 Homebrew，环环相扣。</p><h2>思考题</h2><p>你在搭建 React Native 环境过程中，遇到过哪些问题？能把你的解决方案和大家分享分享吗？</p><p>期待你的输出，如果觉得有所收获，也欢迎你把今天的内容分享给更多的朋友！</p>","comments":[{"had_liked":false,"id":371685,"user_name":"大大小小","can_delete":false,"product_type":"c1","uid":2178133,"ip_address":"广东","ucode":"8A21DC629A24F5","user_header":"https://static001.geekbang.org/account/avatar/00/21/3c/55/74844d08.jpg","comment_is_top":false,"comment_ctime":1680180932,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"jdk推荐用sdkman，类似node的nvm，方便管理多个java版本。","like_count":9},{"had_liked":false,"id":378394,"user_name":"五十米深蓝，","can_delete":false,"product_type":"c1","uid":1080860,"ip_address":"四川","ucode":"E96CAFB816F298","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/1c/29d0bc42.jpg","comment_is_top":false,"comment_ctime":1690178646,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"大哥 没有对应平台的编译打包过程讲解吗？！！！！！！！！！！！","like_count":1},{"had_liked":false,"id":395573,"user_name":"Geek1560","can_delete":false,"product_type":"c1","uid":2028949,"ip_address":"北京","ucode":"5F27A28B8002E6","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/95/a362f01b.jpg","comment_is_top":false,"comment_ctime":1731289301,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"新版本 Android studio 采用腾讯源没动静 😂","like_count":0},{"had_liked":false,"id":395518,"user_name":"黑马有点白986","can_delete":false,"product_type":"c1","uid":1169341,"ip_address":"北京","ucode":"C24216CBD5D7CC","user_header":"https://static001.geekbang.org/account/avatar/00/11/d7/bd/50d98f9e.jpg","comment_is_top":false,"comment_ctime":1731049716,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"现在有哪些公司用rn","like_count":0},{"had_liked":false,"id":391629,"user_name":"在男神经路上越走越远","can_delete":false,"product_type":"c1","uid":1398458,"ip_address":"浙江","ucode":"7B3F87BA063442","user_header":"https://static001.geekbang.org/account/avatar/00/15/56/ba/a45e3a8f.jpg","comment_is_top":false,"comment_ctime":1718694392,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"Android Studio启动AVD卡在Starting Up，怎么处理？\n\navd.ini.encoding=UTF-8\npath=&#47;Users&#47;Mao&#47;.android&#47;avd&#47;Pixel_XL_API_33.avd\npath.rel=avd&#47;Pixel_XL_API_33.avd\ntarget=android-33\n","like_count":0},{"had_liked":false,"id":391377,"user_name":"羊了个羊","can_delete":false,"product_type":"c1","uid":2356338,"ip_address":"河北","ucode":"342292E8281D07","user_header":"https://static001.geekbang.org/account/avatar/00/23/f4/72/7321e152.jpg","comment_is_top":false,"comment_ctime":1718156559,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"现在24年了，可以学吗","like_count":0},{"had_liked":false,"id":391376,"user_name":"羊了个羊","can_delete":false,"product_type":"c1","uid":2356338,"ip_address":"河北","ucode":"342292E8281D07","user_header":"https://static001.geekbang.org/account/avatar/00/23/f4/72/7321e152.jpg","comment_is_top":false,"comment_ctime":1718156543,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"没有windows的吗？","like_count":0},{"had_liked":false,"id":389949,"user_name":"Geek_a73298","can_delete":false,"product_type":"c1","uid":3883773,"ip_address":"贵州","ucode":"3055B9E65AF04E","user_header":"","comment_is_top":false,"comment_ctime":1713954436,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"额windows的没有嘛？？？","like_count":0},{"had_liked":false,"id":388955,"user_name":"黄科泽","can_delete":false,"product_type":"c1","uid":1863679,"ip_address":"广东","ucode":"11E754D971011A","user_header":"","comment_is_top":false,"comment_ctime":1711265471,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"这个错误有 遇到过吗？要怎么解决\nExecution failed for task &#39;:app:buildCMakeDebug[arm64-v8a]&#39;.\n&gt; com.android.ide.common.process.ProcessException: ninja: Entering directory `D:\\RN_Project\\study4\\react-native-classroom-main\\android\\app\\.cxx\\Debug\\3d212c3w\\arm64-v8a&#39;\n  [0&#47;2] Re-checking globbed directories...\n\n  C++ build system [build] failed while executing:\n      @echo off\n      &quot;C:\\\\Users\\\\PC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\cmake\\\\3.22.1\\\\bin\\\\ninja.exe&quot; ^\n        -C ^\n        &quot;D:\\\\RN_Project\\\\study4\\\\react-native-classroom-main\\\\android\\\\app\\\\.cxx\\\\Debug\\\\3d212c3w\\\\arm64-v8a&quot; ^\n        appmodules ^\n        react_codegen_RNCViewPager ^\n        react_codegen_RTNCalculatorSpec ^\n        react_codegen_RTNCenteredTextSpecs ^\n        react_codegen_RTNCustomViewSpecs ^\n        react_codegen_reactnativemmkv ^\n        react_codegen_rngesturehandler_codegen ^\n        react_codegen_rnscreens ^\n        react_codegen_safeareacontext\n    from D:\\RN_Project\\study4\\react-native-classroom-main\\android\\app\n  ninja: error: Stat(C:&#47;Users&#47;PC&#47;.gradle&#47;caches&#47;transforms-3&#47;b65107381eb04de4935992b7f9f75be6&#47;transformed&#47;jetified-react-android-0.72.0-debug&#47;prefab&#47;modules&#47;rrc_legacyviewmanagerinterop&#47;include&#47;react&#47;renderer&#47;components&#47;legacyviewmanagerinterop&#47;UnstableLegacyViewManagerInteropComponentDescriptor.h): Filename longer than 260 characters","like_count":0},{"had_liked":false,"id":385009,"user_name":"Print JQK°","can_delete":false,"product_type":"c1","uid":2093678,"ip_address":"天津","ucode":"68C42D72FBF5F3","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f2/6e/6f621806.jpg","comment_is_top":false,"comment_ctime":1701930763,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"在使用tcp与服务端连接时，应用切到后台后与服务端的网络连接就断开了，如何才能实现网络保持连接","like_count":0},{"had_liked":false,"id":384416,"user_name":"mike","can_delete":false,"product_type":"c1","uid":1347846,"ip_address":"北京","ucode":"9C57F19A8F9C96","user_header":"https://static001.geekbang.org/account/avatar/00/14/91/06/795a2f92.jpg","comment_is_top":false,"comment_ctime":1700820833,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"讲打包发布了吗？","like_count":0},{"had_liked":false,"id":383557,"user_name":"请务必优秀","can_delete":false,"product_type":"c1","uid":2025816,"ip_address":"四川","ucode":"2B7AE4EF41C972","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e9/58/7bb2c561.jpg","comment_is_top":false,"comment_ctime":1699264717,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"为啥我连Homebrew都安装失败","like_count":0},{"had_liked":false,"id":382325,"user_name":"侗家人ᯤ⁶ᴳ","can_delete":false,"product_type":"c1","uid":3506640,"ip_address":"贵州","ucode":"5162AE112E87C4","user_header":"https://static001.geekbang.org/account/avatar/00/35/81/d0/d709518c.jpg","comment_is_top":false,"comment_ctime":1697073881,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"花了59块买了7天有效期，真是牛逼了！","like_count":0},{"had_liked":false,"id":377514,"user_name":"五十米深蓝，","can_delete":false,"product_type":"c1","uid":1080860,"ip_address":"四川","ucode":"E96CAFB816F298","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/1c/29d0bc42.jpg","comment_is_top":false,"comment_ctime":1688622654,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"老师 有windows环境的搭建教程吗","like_count":0,"discussions":[{"author":{"id":2251269,"avatar":"","nickname":"大白白","note":"","ucode":"0C9F94756A0ED6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":623960,"discussion_content":"https://juejin.cn/post/7258644102207586360 看一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1690095259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":376648,"user_name":"Geek_9d424c","can_delete":false,"product_type":"c1","uid":3247478,"ip_address":"广东","ucode":"530D79B0B3D5FD","user_header":"","comment_is_top":false,"comment_ctime":1687163289,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"作者，gradle有两个报错是什么回事呀？\nreact native：Plugin [id: &#39;com.facebook.react&#39;] was not found in any of the following sources\nreact-native-community：Directory &#39;D:\\IdeaProjects\\rn_demo\\node_modules\\@react-native-community\\cli-platform-android&#39; does not contain a Gradle build.","like_count":0},{"had_liked":false,"id":376526,"user_name":"Geek_5134aa","can_delete":false,"product_type":"c1","uid":1754920,"ip_address":"北京","ucode":"1BD162B9DA54E4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqfyDSar733ibKLTbwv7ocMlx5maCtcUlo31mJE1msVRoyMcKON88vKkGFTZe0Nux3y527cUUwLdSg/132","comment_is_top":false,"comment_ctime":1686895321,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"把启动端口改成8899，npm run start启动项目后，之后按下a按钮，还是会报错listen EADDRINUSE: address already in use :::8081，请问这个问题怎么解决呢","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"蒋宏伟","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":621755,"discussion_content":"1. 不用管，直接就能用。因为 8081 被占用，相当于你已经跑了 8081 的服务。\n2. 网上搜索，如何关闭 8081 端口的服务。比较麻烦的方法就是重启电脑。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687598769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373095,"user_name":"理","can_delete":false,"product_type":"c1","uid":1043369,"ip_address":"北京","ucode":"61152C235F9CA7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/eb/a9/27e48f27.jpg","comment_is_top":false,"comment_ctime":1682037903,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"mac 内存8g 够不够","like_count":0,"discussions":[{"author":{"id":3646170,"avatar":"","nickname":"Geek_b1ab7e","note":"","ucode":"C8A190A901709D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631142,"discussion_content":"2023 13.3 M2 毫无压力 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699340073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000668,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/dc/63284499.jpg","nickname":"凉茶","note":"","ucode":"094CD6C9CF1636","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617507,"discussion_content":"Macbook pro","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683619521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000668,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/dc/63284499.jpg","nickname":"凉茶","note":"","ucode":"094CD6C9CF1636","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617506,"discussion_content":"2020 13寸 M1 8G表示毫无压力","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683619504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372792,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1007194,"ip_address":"江苏","ucode":"1D37938170F184","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/5a/09d846b8.jpg","comment_is_top":false,"comment_ctime":1681630632,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":".&#47;gradlew build --refresh-dependencies 无法执行","like_count":0,"discussions":[{"author":{"id":2738697,"avatar":"","nickname":"Geek_828dd4","note":"","ucode":"CE16BF77F9B115","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622393,"discussion_content":"你好解决了嘛？  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688202407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372789,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1007194,"ip_address":"江苏","ucode":"1D37938170F184","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/5a/09d846b8.jpg","comment_is_top":false,"comment_ctime":1681624976,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":3,"product_id":100110101,"comment_content":".&#47;gradlew build --refresh-dependencies  执行一直完成不了，请问怎么解决？","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"蒋宏伟","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617050,"discussion_content":"换几个源试试：\n\nmaven { url &#39;https://maven.aliyun.com/repository/google&#39; }\nmaven { url &#39;https://maven.aliyun.com/nexus/content/groups/public/&#39; }\nmaven { url &#39;https://maven.aliyun.com/repository/central&#39; }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683281731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"蒋宏伟","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614922,"discussion_content":"切换源也完不成吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681972458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1041361,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e3/d1/8b773c8c.jpg","nickname":"大刘","note":"","ucode":"7BECABFE5A1F59","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"蒋宏伟","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":616807,"discussion_content":"我也是，切了源也不行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683109633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":614922,"ip_address":"北京","group_id":0},"score":616807,"extra":""},{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"蒋宏伟","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1041361,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e3/d1/8b773c8c.jpg","nickname":"大刘","note":"","ucode":"7BECABFE5A1F59","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617051,"discussion_content":"换源如下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683281760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":616807,"ip_address":"北京","group_id":0},"score":617051,"extra":""}]}]}]}
{"id":41725,"title":"105 | Netflix Eureka 和 Ribbon 背景介绍","content":"无","comments":[{"had_liked":false,"id":52664,"user_name":"liu","can_delete":false,"product_type":"c3","uid":1190299,"ip_address":"","ucode":"DB78433D0ACE1F","user_header":"https://static001.geekbang.org/account/avatar/00/12/29/9b/0c6c4104.jpg","comment_is_top":false,"comment_ctime":1545469481,"is_pvip":false,"replies":[{"id":19372,"content":"准确说法是虚拟机VM或ip漂移，在AWS云中，VM有可能挂，AWS有能力自动重启一个VM，这个新的VM和老的VM可能是在不同物理机上的，ip也可能变，这叫漂移。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1545655164,"ip_address":"","comment_id":52664,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"波波老师，服务漂移不太理解，帮忙解释一下~","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433943,"discussion_content":"准确说法是虚拟机VM或ip漂移，在AWS云中，VM有可能挂，AWS有能力自动重启一个VM，这个新的VM和老的VM可能是在不同物理机上的，ip也可能变，这叫漂移。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545655164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51921,"user_name":"allen的微波炉","can_delete":false,"product_type":"c3","uid":1001457,"ip_address":"","ucode":"5581008B22B9BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/f1/8b20dc76.jpg","comment_is_top":false,"comment_ctime":1545276388,"is_pvip":false,"replies":[{"id":19121,"content":"k8s是一整套平台体系，我这次的课程还没有针对k8s，不过明年会考虑开k8s+微服务课程，你可以关注。学习了本次课程，理解微服务架构原理，你不难扩展ingress(其实也是一种网关或反向代理)支持授权认证和权限等功能。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1545400113,"ip_address":"","comment_id":51921,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"波波老师，有个疑问。如果应用部署到k8s环境，k8s自带的ingress就能通过配置域名完成服务发现和负载均衡功能，这时候还有必要使用eureka和ribbon吗？\n同时，网关zuul提供包括身份认证，权限校验，负载均衡，动态路由等功能，其中后两项功能可以交由ingress完成，但身份认证，权限校验等切面功能Ingress无法胜任，网关工作在springcloud部署到Kubernetes 平台后，建议如何使用更好呢？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433670,"discussion_content":"k8s是一整套平台体系，我这次的课程还没有针对k8s，不过明年会考虑开k8s+微服务课程，你可以关注。学习了本次课程，理解微服务架构原理，你不难扩展ingress(其实也是一种网关或反向代理)支持授权认证和权限等功能。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545400113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240422,"user_name":"点点","can_delete":false,"product_type":"c3","uid":1222823,"ip_address":"","ucode":"2E29A4DC027A16","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/a7/4d8cb9cf.jpg","comment_is_top":false,"comment_ctime":1596898677,"is_pvip":false,"replies":[{"id":88947,"content":"我的理解，边界服务(Edge Service)，聚合服务(Aggregation Service or BFF)，还有服务编排(Service Orchestration)，可以说是类似概念，都是对后台一个以上服务进行聚合编排，再对外提供API接口。不过在有些业务场景下，服务编排和业务流程编排&#47;分布式事务关系更密切。\n\n根据需要，后台服务可以直接对外暴露，不通过聚合服务。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1597072621,"ip_address":"","comment_id":240422,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"杨老师，多个后台服务组合成一个新的服务可以通过边界服务实现也可以通过服务编排，但是这两种方式那种更好呢，如果后台服务直接提供功能，还要同边界服务层中转吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503440,"discussion_content":"我的理解，边界服务(Edge Service)，聚合服务(Aggregation Service or BFF)，还有服务编排(Service Orchestration)，可以说是类似概念，都是对后台一个以上服务进行聚合编排，再对外提供API接口。不过在有些业务场景下，服务编排和业务流程编排/分布式事务关系更密切。\n\n根据需要，后台服务可以直接对外暴露，不通过聚合服务。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597072621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1222823,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a8/a7/4d8cb9cf.jpg","nickname":"点点","note":"","ucode":"2E29A4DC027A16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297857,"discussion_content":"谢谢老师的指点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597073403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63237,"user_name":"亚林","can_delete":false,"product_type":"c3","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1548305637,"is_pvip":false,"replies":[{"id":22556,"content":"服务发现是微服务架构的一个核心问题，当然其它课程模块也同样重要。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1548507291,"ip_address":"","comment_id":63237,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"这节课好精彩，应该是整个课程中最重要的一节了","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437513,"discussion_content":"服务发现是微服务架构的一个核心问题，当然其它课程模块也同样重要。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548507291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
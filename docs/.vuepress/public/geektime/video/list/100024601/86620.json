{"id":86620,"title":"12 | 合理应用计算属性和侦听器","content":"<h1>源代码及课件地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/geektime-vue-1\">https://gitee.com/geektime-geekbang/geektime-vue-1</a></p><h1>计算属性和侦听器</h1><p><a href=\"https://cn.vuejs.org/v2/guide/computed.html\">https://cn.vuejs.org/v2/guide/computed.html</a></p>","comments":[{"had_liked":false,"id":77851,"user_name":"RtyXmd","can_delete":false,"product_type":"c3","uid":1465028,"ip_address":"","ucode":"EB5E51D5CFBDA6","user_header":"https://static001.geekbang.org/account/avatar/00/16/5a/c4/abb3b167.jpg","comment_is_top":false,"comment_ctime":1553007832,"is_pvip":false,"replies":[{"id":28442,"content":"平常业务开发中是比较少用的   其实就是强制更新的意思  不管数据是否变化  ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553041489,"ip_address":"","comment_id":77851,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"$forceUpdate这个方法好想从没见过 也没用过","like_count":5,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443875,"discussion_content":"平常业务开发中是比较少用的   其实就是强制更新的意思  不管数据是否变化  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553041489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95316,"user_name":"梟","can_delete":false,"product_type":"c3","uid":1390039,"ip_address":"","ucode":"5CEC666FB47226","user_header":"https://static001.geekbang.org/account/avatar/00/15/35/d7/f408d618.jpg","comment_is_top":false,"comment_ctime":1558017772,"is_pvip":false,"replies":[{"id":34196,"content":"这不是bug，引用类型都是如此，\n我的使用方式是直接监听 这个对象，更改的时候直接更改这个对象，而不是更改这个子属性 如：this.obj = {...this.obj}  每次都是新值","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558102922,"ip_address":"","comment_id":95316,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"watch一个含有多级属性的对象时，当子级属性发生变化，handler方法的表示新旧值的两个参数会出现值相同的bug，请问老师有没有比较好的解决办法呢？","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450410,"discussion_content":"这不是bug，引用类型都是如此，\n我的使用方式是直接监听 这个对象，更改的时候直接更改这个对象，而不是更改这个子属性 如：this.obj = {...this.obj}  每次都是新值","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558102922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2145095,"avatar":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","nickname":"你好，阳光","note":"","ucode":"1A2F487C57F7D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346853,"discussion_content":"我也发现这个现象，不太理解老师最后举的例子，this.obj={...this.obj}不是相当于拷贝了一份对象吗？如果我修改了对象的某一属性，又想在handler中获取变化前后的对象该怎么做？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612084083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77834,"user_name":"yangfeng","can_delete":false,"product_type":"c3","uid":1000647,"ip_address":"","ucode":"05B28F128B7D41","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/c7/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1553006122,"is_pvip":false,"replies":[{"id":28440,"content":"  对的 我要表达的实际上是“防抖”  ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553041372,"ip_address":"","comment_id":77834,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"哦哦，原来。还有就是 Debounce是防抖吧，我记得老师您在讲堂说的是节流","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443869,"discussion_content":"  对的 我要表达的实际上是“防抖”  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553041372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219739,"user_name":"2020","can_delete":false,"product_type":"c3","uid":1344670,"ip_address":"","ucode":"0DEA914CDBE5B7","user_header":"https://static001.geekbang.org/account/avatar/00/14/84/9e/05ed50dd.jpg","comment_is_top":false,"comment_ctime":1590072917,"is_pvip":false,"replies":[{"id":81288,"content":"计算属性不能算语法糖","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1590210049,"ip_address":"","comment_id":219739,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"我理解的计算属性和v-model一样都是类似语法糖一样的东西。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495928,"discussion_content":"计算属性不能算语法糖","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590210049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96508,"user_name":"张飞蓬","can_delete":false,"product_type":"c3","uid":1435687,"ip_address":"","ucode":"79F000358F85FD","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/27/0472c557.jpg","comment_is_top":false,"comment_ctime":1558436557,"is_pvip":false,"replies":[{"id":35053,"content":"感谢支持","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558878160,"ip_address":"","comment_id":96508,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"谢谢老师","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450903,"discussion_content":"感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558878160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86088,"user_name":"Geek_763d26","can_delete":false,"product_type":"c3","uid":1499691,"ip_address":"","ucode":"D65771EF23BC4C","user_header":"","comment_is_top":false,"comment_ctime":1555309680,"is_pvip":false,"replies":[{"id":30928,"content":"computed中的值是否变化依赖的是响应式数据，而now依赖的是Data.now(), 这个值并不是响应式数据","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1555333209,"ip_address":"","comment_id":86088,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师，为什么computed中now的值没有变化","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446888,"discussion_content":"computed中的值是否变化依赖的是响应式数据，而now依赖的是Data.now(), 这个值并不是响应式数据","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555333209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85333,"user_name":"网络修补匠","can_delete":false,"product_type":"c3","uid":1484817,"ip_address":"","ucode":"53A9E9399306BE","user_header":"","comment_is_top":false,"comment_ctime":1555038444,"is_pvip":false,"replies":[{"id":30809,"content":"箭头函数 es6  js新标准 应该说也谈不上新了 建议学习一下  后面我们很多都是使用的新标准","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1555208323,"ip_address":"","comment_id":85333,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"不是很理解 @click=&quot;() =&gt; $forceUpdate()&quot; \n这个 =&gt; 是什么意思？","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446634,"discussion_content":"箭头函数 es6  js新标准 应该说也谈不上新了 建议学习一下  后面我们很多都是使用的新标准","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555208323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736720,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/80/10/2406a662.jpg","nickname":"希言自然","note":"","ucode":"8D99A82B05636B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232510,"discussion_content":"`() => $forceUpdate()` 相当于 ` function () { return $forceUpdate() }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586871367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79666,"user_name":"橘生淮南","can_delete":false,"product_type":"c3","uid":1465283,"ip_address":"","ucode":"E7A2521404CDF5","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/c3/8dba36b4.jpg","comment_is_top":false,"comment_ctime":1553518132,"is_pvip":false,"replies":[{"id":29030,"content":"视频下方挂出来的github链接里面有课件哈","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553524027,"ip_address":"","comment_id":79666,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师，方便把ppt发一下吗？看你有些图挺不错的画的，有助于理解，谢谢","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444572,"discussion_content":"视频下方挂出来的github链接里面有课件哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553524027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79505,"user_name":"思考的大腿","can_delete":false,"product_type":"c3","uid":1373348,"ip_address":"","ucode":"ABAE21CFB7C99F","user_header":"https://static001.geekbang.org/account/avatar/00/14/f4/a4/a6809056.jpg","comment_is_top":false,"comment_ctime":1553500112,"is_pvip":false,"replies":[{"id":29181,"content":"单纯监听的话，没有  不过computed可以缓存数据，有些场景是有性能提升的","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553602884,"ip_address":"","comment_id":79505,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"请问老师，watch 和 computed 有性能差距吗？","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444520,"discussion_content":"单纯监听的话，没有  不过computed可以缓存数据，有些场景是有性能提升的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553602884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78809,"user_name":"帆帆","can_delete":false,"product_type":"c3","uid":1374166,"ip_address":"","ucode":"67C11DDCD287C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOyf5BbiaRd5N9SKyoOA3Wv2OLYdnEsXSHaffcSRnvVFx9ibnsq1fYUwYYZszy4sYTibwGWG3D6JqcQ/132","comment_is_top":false,"comment_ctime":1553243993,"is_pvip":false,"replies":[{"id":28675,"content":"会讲的哈，实现形式很多种，都可以看看大家的实现形式，没有最优 只有更优","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553265506,"ip_address":"","comment_id":78809,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师有更好的方法实现吗。后续的视频会讲布置的作业吗？\n防抖作业\n&#47;&#47; 通过闭包的原来实现\n  function delayer(func) {\n    let timer = null\n    return function (newValue) {\n      clearTimeout(timer)\n      timer = setTimeout(() =&gt; {\n        func(newValue, this)\n      }, 1000)\n    }\n}\n\n\n watch: {\n    firstName: delayer((newValue, _this) =&gt; {\n      _this.fullName = newValue\n    })\n  }","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444237,"discussion_content":"会讲的哈，实现形式很多种，都可以看看大家的实现形式，没有最优 只有更优","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553265506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78611,"user_name":"uinging","can_delete":false,"product_type":"c3","uid":1025345,"ip_address":"","ucode":"5D0FDB5EADB756","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/41/9ae89188.jpg","comment_is_top":false,"comment_ctime":1553182916,"is_pvip":false,"replies":[{"id":28622,"content":"如果出现意料之外的bug，那应该是使用方式的不对，可以进一步排查下问题。\n不过，能用computed当然还是尽量用computed","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553223565,"ip_address":"","comment_id":78611,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"我觉得尽量用 computed、事件 等方式达到目的，尽量不用 watch，因为前二者比较容易明白触发时机，后者只要数据更改了就会触发，不容易掌握这个触发时机，有时候容易出现一些意料之外的触发，引起bug。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444164,"discussion_content":"如果出现意料之外的bug，那应该是使用方式的不对，可以进一步排查下问题。\n不过，能用computed当然还是尽量用computed","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553223565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78463,"user_name":"🇨🇳🇨🇳🇨🇳","can_delete":false,"product_type":"c3","uid":1023202,"ip_address":"","ucode":"814DE82B65007E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/e2/368f6734.jpg","comment_is_top":false,"comment_ctime":1553154280,"is_pvip":false,"replies":[{"id":28596,"content":"https:&#47;&#47;github.com&#47;vuejs&#47;vue&#47;blob&#47;dev&#47;src&#47;core&#47;observer&#47;array.js#L27\n通过Object.defineProperty改写了原方法，27行original是改写前记录的数组原方法，然后额外添加了Vue自己的逻辑 ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553181144,"ip_address":"","comment_id":78463,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"vue中监听数组的变化，底层原理就是重写了数组的push等方法，当然并不是直接覆盖Array原型上的方法，而是将声明数组的__proto__改成自己封装的原型","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444103,"discussion_content":"https://github.com/vuejs/vue/blob/dev/src/core/observer/array.js#L27\n通过Object.defineProperty改写了原方法，27行original是改写前记录的数组原方法，然后额外添加了Vue自己的逻辑 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553181144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77820,"user_name":"刘彪","can_delete":false,"product_type":"c3","uid":1381320,"ip_address":"","ucode":"F99AB6EB881FB2","user_header":"https://static001.geekbang.org/account/avatar/00/15/13/c8/c8493a33.jpg","comment_is_top":false,"comment_ctime":1553004260,"is_pvip":false,"replies":[{"id":28410,"content":"不是应该用 Debounce 跟个合理嘛 ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553005558,"ip_address":"","comment_id":77820,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"this.$watch(key, throttle(function() {}, 500))","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443865,"discussion_content":"不是应该用 Debounce 跟个合理嘛 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553005558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77791,"user_name":"yangfeng","can_delete":false,"product_type":"c3","uid":1000647,"ip_address":"","ucode":"05B28F128B7D41","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/c7/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1552999064,"is_pvip":false,"replies":[{"id":28411,"content":"不是应该用 Debounce 更合理吗\n另外，我想直接不用Debounce throttle等，会更简单些吧","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1553005666,"ip_address":"","comment_id":77791,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"酱紫应该可以吧.... 🤔\nconst throttle = function(func,delay){\n  let timer = null;\n  return function(args){\n    let _this = this;\n    if(!timer){\n      func.call(_this,args);\n      timer &amp;&amp; clearTimeout(timer);\n      timer = setTimeout(function(){\n        timer = null\n      },delay)\n    }\n  }\n}\n============================================================\nwatch: {\n    num:throttle.call(this,function(){\n      console.log(&#39;change&#39;);\n    },1000)\n  }","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443854,"discussion_content":"不是应该用 Debounce 更合理吗\n另外，我想直接不用Debounce throttle等，会更简单些吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553005666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191494,"user_name":"Geek.S.","can_delete":false,"product_type":"c3","uid":1899087,"ip_address":"","ucode":"FC8A9FE3300B94","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","comment_is_top":false,"comment_ctime":1584777726,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"计算属性 computed: \n1. 减少模板中的计算逻辑\n2. 数据缓存\n3. 依赖固定的数据类型(响应式数据)\n\n侦听器 watch\n1. 更加灵活, 通用\n2. watch 中可以执行任何逻辑, 如: 函数节流, Ajax 异步获取数据, 甚至操作 DOM\n3. 当需要在数据变化时执行异步或开销较大的操作时使用\n4. 可以嵌套监听, 如: &quot;a.b&quot;\n\ncomputed vs watch:\n1. computed 能做的, watch 都能做, 反之则不行\n2. 优先使用 computed \n","like_count":5},{"had_liked":false,"id":79095,"user_name":"leslee","can_delete":false,"product_type":"c3","uid":1384326,"ip_address":"","ucode":"DB1CBF9F8D16BF","user_header":"https://static001.geekbang.org/account/avatar/00/15/1f/86/3a7eeac4.jpg","comment_is_top":false,"comment_ctime":1553351333,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"```js\nwatch: {\n    firstname: (function () {\n      var timer = null;\n      return function (val) {\n        clearTimeout(timer)\n        timer = setTimeout(() =&gt; this.fullname = val + &#39; &#39; + this.lastname , 500)\n      }\n    })(),\n    lastname: (function(val) {\n      var timer = null;\n      return function () {\n        clearTimeout(timer)\n        timer = setTimeout(() =&gt; this.fullname = this.firstname + &quot; &quot; + val , 500)\n      }\n    })()\n  }\n```","like_count":3,"discussions":[{"author":{"id":2349280,"avatar":"https://static001.geekbang.org/account/avatar/00/23/d8/e0/70c26cee.jpg","nickname":"再见昨天","note":"","ucode":"5C6DA2109C9BE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335363,"discussion_content":"这是在做防抖","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608173212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736720,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/80/10/2406a662.jpg","nickname":"希言自然","note":"","ucode":"8D99A82B05636B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232487,"discussion_content":"这是在干嘛能解释下吗？大佬~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586871033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313282,"user_name":"Blue","can_delete":false,"product_type":"c3","uid":1678103,"ip_address":"","ucode":"88E8D5C8E29FF4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLnr1jHbBVG99MSeicYx6FicWicZaX5qnWrId3iap2WpWtN7movOKfRoQO7BDApHz2kJu294X7tZVe0wg/132","comment_is_top":false,"comment_ctime":1632363247,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"新手建议看这个视频吗","like_count":1,"discussions":[{"author":{"id":1891437,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/dc/6d/03130ea9.jpg","nickname":"JW","note":"","ucode":"7B73FB16B999E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553354,"discussion_content":"不建议，课讲的高不成低不就，没有重点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645859685,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185222,"user_name":"何聪","can_delete":false,"product_type":"c3","uid":1222806,"ip_address":"","ucode":"9542E9F2D016B2","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/96/e265ea52.jpg","comment_is_top":false,"comment_ctime":1583536939,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"唐老师，你的视频每节的代码应该都分开留着，这样开起来能好点","like_count":1},{"had_liked":false,"id":79032,"user_name":"因为了解","can_delete":false,"product_type":"c3","uid":1469774,"ip_address":"","ucode":"08C723D64E6730","user_header":"https://static001.geekbang.org/account/avatar/00/16/6d/4e/26558e76.jpg","comment_is_top":false,"comment_ctime":1553327458,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"function debounce(fn, wait, immediate) {\n    let timer = null;\n    return function() {\n        let args = arguments;\n        let context = this;\n        if(immediate &amp;&amp; !timer) {\n            fn.apply(context, args);\n        }\n        if(timer) clearTimeout(timer);\n        timer = setTimeout(() =&gt; {\n            fn.apply(context, args);\n        }, wait);\n    }\n}","like_count":1},{"had_liked":false,"id":394026,"user_name":"rusky1","can_delete":false,"product_type":"c3","uid":3954489,"ip_address":"广东","ucode":"C0F4F687DFB2AE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibVMv98oXmGMfJASvIbITvCJib12OVSqrSNc2kkhiaSVMibric0Te3BkNjqibjibcvyc1cet0J58yFYQJ9BgkHXYUkIrg/132","comment_is_top":false,"comment_ctime":1725586326,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"babel-eslint 这个依赖还可以用吗，大家是如何把这个依赖从项目中移除的","like_count":0},{"had_liked":false,"id":393948,"user_name":"rusky1","can_delete":false,"product_type":"c3","uid":3954489,"ip_address":"广东","ucode":"C0F4F687DFB2AE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibVMv98oXmGMfJASvIbITvCJib12OVSqrSNc2kkhiaSVMibric0Te3BkNjqibjibcvyc1cet0J58yFYQJ9BgkHXYUkIrg/132","comment_is_top":false,"comment_ctime":1725416166,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"有哪位知道课程源码在哪下载吗","like_count":0},{"had_liked":false,"id":393947,"user_name":"rusky1","can_delete":false,"product_type":"c3","uid":3954489,"ip_address":"广东","ucode":"C0F4F687DFB2AE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibVMv98oXmGMfJASvIbITvCJib12OVSqrSNc2kkhiaSVMibric0Te3BkNjqibjibcvyc1cet0J58yFYQJ9BgkHXYUkIrg/132","comment_is_top":false,"comment_ctime":1725415401,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"哪里看项目源码&#xff0c;能不能发个下载地址","like_count":0},{"had_liked":false,"id":391028,"user_name":"Null","can_delete":false,"product_type":"c3","uid":1382587,"ip_address":"北京","ucode":"A7D4DF2A43C7D8","user_header":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","comment_is_top":false,"comment_ctime":1717087322,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"知道这样不讨人喜欢，不过还是想跟老师说下那个是computed 读作 克母pu提的","like_count":0},{"had_liked":false,"id":303526,"user_name":"AKAmj","can_delete":false,"product_type":"c3","uid":2691757,"ip_address":"","ucode":"8027FC419E91C6","user_header":"https://static001.geekbang.org/account/avatar/00/29/12/ad/77ede36e.jpg","comment_is_top":false,"comment_ctime":1626846043,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"讲computed和watch居然只用7分钟","like_count":0},{"had_liked":false,"id":296067,"user_name":"Fan()","can_delete":false,"product_type":"c3","uid":1069127,"ip_address":"","ucode":"FED79EC7D78E91","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","comment_is_top":false,"comment_ctime":1622728350,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"希望能提供这节课的代码","like_count":0},{"had_liked":false,"id":271986,"user_name":"DB_User","can_delete":false,"product_type":"c3","uid":1444166,"ip_address":"","ucode":"CE7B5AEE47AEB4","user_header":"https://static001.geekbang.org/account/avatar/00/16/09/46/a9c28a12.jpg","comment_is_top":false,"comment_ctime":1609902150,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师reversedMessage2不是在methods方法里面吗，v-model改变message时，计算属性也能执行reversedMessage2吗","like_count":0},{"had_liked":false,"id":266345,"user_name":"OakOwl","can_delete":false,"product_type":"c3","uid":2021621,"ip_address":"","ucode":"3D99A8C5DB92D7","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d8/f5/e851944d.jpg","comment_is_top":false,"comment_ctime":1607308467,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师可以看看App.vue的代码吗？这部分源码配不起来","like_count":0},{"had_liked":false,"id":228418,"user_name":"Geek_cb636c","can_delete":false,"product_type":"c3","uid":1947356,"ip_address":"","ucode":"3B2143CF379015","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/NGib8v9Lml2KjSHick5qMw9Vaibbb5l1qeTKE2BqbNDU8ibyhkhVFbxPmvKrhjKibKesvUYAQxbJ5wEc4aQLibBCfu6A/132","comment_is_top":false,"comment_ctime":1592662968,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，您访问的地址是ip;port&#47;#&#47;1.5，我在是在views&#47;1.5下面建了index.vue文件的，也是这么访问的，怎么还是显示首页啊，这个是少了个什么配置？","like_count":0},{"had_liked":false,"id":195845,"user_name":"刘民剑","can_delete":false,"product_type":"c3","uid":1856095,"ip_address":"","ucode":"7D89FAD1C790B5","user_header":"https://static001.geekbang.org/account/avatar/00/1c/52/5f/e52f58d0.jpg","comment_is_top":false,"comment_ctime":1585219082,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"这块有用，以前有忽略的地方","like_count":0},{"had_liked":false,"id":188048,"user_name":"李娇","can_delete":false,"product_type":"c3","uid":1855832,"ip_address":"","ucode":"48197827F48798","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK4yYkuVgON8h2MyrvVDfMoibwe4akynKu8r0OCvntTzFeFiaUQqmOibxVQDg7aUZ6UxOiadIWEWKJF1A/132","comment_is_top":false,"comment_ctime":1584318650,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，对于监听父组件传过来的prop属性，感觉好像无效。子组件总是监听不到那个prop属性的变化。那个属性是父组件ajax请求回来的一个对象类型","like_count":0,"discussions":[{"author":{"id":1673843,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erXRaa98A3zjLDkOibUJV1254aQ4EYFTbSLJuEvD0nXicMNA8pLoxOfHf5kPTbGLXNicg8CPFH3Tn0mA/132","nickname":"Geek_115bc8","note":"","ucode":"71FBC9F02AFE1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260229,"discussion_content":"官方文档说   最好不要改变props传递的值吗    这样会影响父组件的data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588856030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135677,"user_name":"怀英","can_delete":false,"product_type":"c3","uid":1394143,"ip_address":"","ucode":"E2838AF06FB300","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/df/97a71dc8.jpg","comment_is_top":false,"comment_ctime":1569238611,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024601,"comment_content":"#5W2H#\nWhat：计算属性computer 和 监-听-器watch\nWhy：null\nWho：null\nWhere：数据有变化的是否用\nWhen：null\nHow：监-听-器能做的，计算属性都能做；反之不行\nHow much&#47;how good&#47;how bad：null","like_count":0},{"had_liked":false,"id":129508,"user_name":"jacky","can_delete":false,"product_type":"c3","uid":1049177,"ip_address":"","ucode":"A0BD06E2ABF520","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/59/989f65c8.jpg","comment_is_top":false,"comment_ctime":1567143294,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024601,"comment_content":"请问vue适合做互联网主站？对seo和301的支持成熟吗？","like_count":0},{"had_liked":false,"id":108074,"user_name":"Cris","can_delete":false,"product_type":"c3","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/ccc11dec.jpg","comment_is_top":false,"comment_ctime":1561680090,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024601,"comment_content":"防抖和节流的区别，有什么好的资料推荐下","like_count":0},{"had_liked":false,"id":87809,"user_name":"wendom","can_delete":false,"product_type":"c3","uid":1364998,"ip_address":"","ucode":"0FECEB49DC8F51","user_header":"https://static001.geekbang.org/account/avatar/00/14/d4/06/2adb8e06.jpg","comment_is_top":false,"comment_ctime":1555721491,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100024601,"comment_content":"计算属性底层是怎么做缓存的，麻烦理一下","like_count":0,"discussions":[{"author":{"id":1736720,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/80/10/2406a662.jpg","nickname":"希言自然","note":"","ucode":"8D99A82B05636B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232501,"discussion_content":"其实就是没有变化计算属性中的逻辑就不会被调用执行，这个就是所谓的缓存。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586871280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82744,"user_name":"火云邪神0007","can_delete":false,"product_type":"c3","uid":1390886,"ip_address":"","ucode":"158014211134B1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9YqiaybDPpZMr3ecHDv8P3chyr3dETz5Ljft8s3F47JDN93yOKeOyysxxhaN7MJmXt7ib5X6EgMGQ/132","comment_is_top":false,"comment_ctime":1554294770,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100024601,"comment_content":"这个防抖很实用的","like_count":0}]}
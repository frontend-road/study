{"id":73756,"title":"04丨Python科学计算：用NumPy快速处理数据","content":"<p>上一节我讲了Python的基本语法，今天我来给你讲下Python中一个非常重要的第三方库NumPy。</p><p>它不仅是Python中使用最多的第三方库，而且还是SciPy、Pandas等数据科学的基础库。它所提供的数据结构比Python自身的“更高级、更高效”，可以这么说，NumPy所提供的数据结构是Python数据分析的基础。</p><p>我上次讲到了Python数组结构中的列表list，它实际上相当于一个数组的结构。而NumPy中一个关键数据类型就是关于数组的，那为什么还存在这样一个第三方的数组结构呢？</p><p>实际上，标准的Python中，用列表list保存数组的数值。由于列表中的元素可以是任意的对象，所以列表中list保存的是对象的指针。虽然在Python编程中隐去了指针的概念，但是数组有指针，Python的列表list其实就是数组。这样如果我要保存一个简单的数组[0,1,2]，就需要有3个指针和3个整数的对象，这样对于Python来说是非常不经济的，浪费了内存和计算时间。</p><h2>使用NumPy让你的Python科学计算更高效</h2><p>为什么要用NumPy数组结构而不是Python本身的列表list？这是因为列表list的元素在系统内存中是分散存储的，而NumPy数组存储在一个均匀连续的内存块中。这样数组计算遍历所有的元素，不像列表list还需要对内存地址进行查找，从而节省了计算资源。</p><!-- [[[read_end]]] --><p>另外在内存访问模式中，缓存会直接把字节块从RAM加载到CPU寄存器中。因为数据连续的存储在内存中，NumPy直接利用现代CPU的矢量化指令计算，加载寄存器中的多个连续浮点数。另外NumPy中的矩阵计算可以采用多线程的方式，充分利用多核CPU计算资源，大大提升了计算效率。</p><p>当然除了使用NumPy外，你还需要一些技巧来提升内存和提高计算资源的利用率。一个重要的规则就是：<strong>避免采用隐式拷贝，而是采用就地操作的方式</strong>。举个例子，如果我想让一个数值x是原来的两倍，可以直接写成x*=2，而不要写成y=x*2。</p><p>这样速度能快到2倍甚至更多。</p><p>既然NumPy这么厉害，你该从哪儿入手学习呢？在NumPy里有两个重要的对象：ndarray（N-dimensional array object）解决了多维数组问题，而ufunc（universal function object）则是解决对数组进行处理的函数。下面，我就带你一一来看。</p><p><strong>ndarray对象</strong></p><p>ndarray实际上是多维数组的含义。在NumPy数组中，维数称为秩（rank），一维数组的秩为1，二维数组的秩为2，以此类推。在NumPy中，每一个线性的数组称为一个轴（axes），其实秩就是描述轴的数量。</p><p>下面，你来看ndarray对象是如何创建数组的，又是如何处理结构数组的呢？</p><p><strong>创建数组</strong></p><pre><code>import numpy as np\na = np.array([1, 2, 3])\nb = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\nb[1,1]=10\nprint a.shape\nprint b.shape\nprint a.dtype\nprint b\n</code></pre><p>运行结果：</p><pre><code>(3L,)\n(3L, 3L)\nint32\n[[ 1  2  3]\n [ 4 10  6]\n [ 7  8  9]]\n</code></pre><p>创建数组前，你需要引用NumPy库，可以直接通过array函数创建数组，如果是多重数组，比如示例里的b，那么该怎么做呢？你可以先把一个数组作为一个元素，然后嵌套起来，比如示例b中的[1,2,3]就是一个元素，然后[4,5,6][7,8,9]也是作为元素，然后把三个元素再放到[]数组里，赋值给变量b。</p><p>当然数组也是有属性的，比如你可以通过函数shape属性获得数组的大小，通过dtype获得元素的属性。如果你想对数组里的数值进行修改的话，直接赋值即可，注意下标是从0开始计的，所以如果你想对b数组，九宫格里的中间元素进行修改的话，下标应该是[1,1]。</p><p><strong>结构数组</strong></p><p>如果你想统计一个班级里面学生的姓名、年龄，以及语文、英语、数学成绩该怎么办？当然你可以用数组的下标来代表不同的字段，比如下标为0的是姓名、下标为1的是年龄等，但是这样不显性。</p><p>实际上在C语言里，可以定义结构数组，也就是通过struct定义结构类型，结构中的字段占据连续的内存空间，每个结构体占用的内存大小都相同，那在NumPy中是怎样操作的呢？</p><pre><code>import numpy as np\npersontype = np.dtype({\n    'names':['name', 'age', 'chinese', 'math', 'english'],\n    'formats':['S32','i', 'i', 'i', 'f']})\npeoples = np.array([(&quot;ZhangFei&quot;,32,75,100, 90),(&quot;GuanYu&quot;,24,85,96,88.5),\n       (&quot;ZhaoYun&quot;,28,85,92,96.5),(&quot;HuangZhong&quot;,29,65,85,100)],\n    dtype=persontype)\nages = peoples[:]['age']\nchineses = peoples[:]['chinese']\nmaths = peoples[:]['math']\nenglishs = peoples[:]['english']\nprint np.mean(ages)\nprint np.mean(chineses)\nprint np.mean(maths)\nprint np.mean(englishs)\n</code></pre><p>运行结果：</p><pre><code>28.25\n77.5\n93.25\n93.75\n</code></pre><p>你看下这个例子，首先在NumPy中是用dtype定义的结构类型，然后在定义数组的时候，用array中指定了结构数组的类型dtype=persontype，这样你就可以自由地使用自定义的persontype了。比如想知道每个人的语文成绩，就可以用chineses = peoples[:][‘chinese’]，当然NumPy中还有一些自带的数学运算，比如计算平均值使用np.mean。</p><p><strong>ufunc运算</strong></p><p>ufunc是universal function的缩写，是不是听起来就感觉功能非常强大？确如其名，它能对数组中每个元素进行函数操作。NumPy中很多ufunc函数计算速度非常快，因为都是采用C语言实现的。</p><p><strong>连续数组的创建</strong></p><p>NumPy可以很方便地创建连续数组，比如我使用arange或linspace函数进行创建：</p><pre><code>x1 = np.arange(1,11,2)\nx2 = np.linspace(1,9,5)\n</code></pre><p>np.arange和np.linspace起到的作用是一样的，都是创建等差数组。这两个数组的结果x1,x2都是[1 3 5 7 9]。结果相同，但是你能看出来创建的方式是不同的。</p><p>arange()类似内置函数range()，通过指定<strong>初始值、终值、步长</strong>来创建等差数列的一维数组，默认是不包括终值的。</p><p>linspace是linear space的缩写，代表线性等分向量的含义。linspace()通过指定<strong>初始值、终值、元素个数</strong>来创建等差数列的一维数组，默认是包括终值的。</p><p><strong>算数运算</strong></p><p>通过NumPy可以自由地创建等差数组，同时也可以进行加、减、乘、除、求n次方和取余数。</p><pre><code>x1 = np.arange(1,11,2)\nx2 = np.linspace(1,9,5)\nprint np.add(x1, x2)\nprint np.subtract(x1, x2)\nprint np.multiply(x1, x2)\nprint np.divide(x1, x2)\nprint np.power(x1, x2)\nprint np.remainder(x1, x2)\n</code></pre><p>运行结果：</p><pre><code>[ 2.  6. 10. 14. 18.]\n[0. 0. 0. 0. 0.]\n[ 1.  9. 25. 49. 81.]\n[1. 1. 1. 1. 1.]\n[1.00000000e+00 2.70000000e+01 3.12500000e+03 8.23543000e+05\n 3.87420489e+08]\n[0. 0. 0. 0. 0.]\n</code></pre><p>我还以x1, x2数组为例，求这两个数组之间的加、减、乘、除、求n次方和取余数。在n次方中，x2数组中的元素实际上是次方的次数，x1数组的元素为基数。</p><p>在取余函数里，你既可以用np.remainder(x1, x2)，也可以用np.mod(x1, x2)，结果是一样的。</p><p><strong>统计函数</strong></p><p>如果你想要对一堆数据有更清晰的认识，就需要对这些数据进行描述性的统计分析，比如了解这些数据中的最大值、最小值、平均值，是否符合正态分布，方差、标准差多少等等。它们可以让你更清楚地对这组数据有认知。</p><p>下面我来介绍下在NumPy中如何使用这些统计函数。</p><p><strong>计数组/矩阵中的最大值函数amax()，最小值函数amin()</strong></p><pre><code>import numpy as np\na = np.array([[1,2,3], [4,5,6], [7,8,9]])\nprint np.amin(a)\nprint np.amin(a,0)\nprint np.amin(a,1)\nprint np.amax(a)\nprint np.amax(a,0)\nprint np.amax(a,1)\n</code></pre><p>运行结果：</p><pre><code>1\n[1 2 3]\n[1 4 7]\n9\n[7 8 9]\n[3 6 9]\n</code></pre><p>amin() 用于计算数组中的元素沿指定轴的最小值。对于一个二维数组a，amin(a)指的是数组中全部元素的最小值，amin(a,0)是延着axis=0轴的最小值，axis=0轴是把元素看成了[1,4,7], [2,5,8], [3,6,9]三个元素，所以最小值为[1,2,3]，amin(a,1)是延着axis=1轴的最小值，axis=1轴是把元素看成了[1,2,3], [4,5,6], [7,8,9]三个元素，所以最小值为[1,4,7]。同理amax()是计算数组中元素沿指定轴的最大值。</p><p><strong>统计最大值与最小值之差 ptp()</strong></p><pre><code>a = np.array([[1,2,3], [4,5,6], [7,8,9]])\nprint np.ptp(a)\nprint np.ptp(a,0)\nprint np.ptp(a,1)\n</code></pre><p>运行结果：</p><pre><code>8\n[6 6 6]\n[2 2 2]\n</code></pre><p>对于相同的数组a，np.ptp(a)可以统计数组中最大值与最小值的差，即9-1=8。同样ptp(a,0)统计的是沿着axis=0轴的最大值与最小值之差，即7-1=6（当然8-2=6,9-3=6，第三行减去第一行的ptp差均为6），ptp(a,1)统计的是沿着axis=1轴的最大值与最小值之差，即3-1=2（当然6-4=2, 9-7=2，即第三列与第一列的ptp差均为2）。</p><p><strong>统计数组的百分位数 percentile()</strong></p><pre><code>a = np.array([[1,2,3], [4,5,6], [7,8,9]])\nprint np.percentile(a, 50)\nprint np.percentile(a, 50, axis=0)\nprint np.percentile(a, 50, axis=1)\n</code></pre><p>运行结果：</p><pre><code>5.0\n[4. 5. 6.]\n[2. 5. 8.]\n</code></pre><p>同样，percentile()代表着第 p 个百分位数，这里p的取值范围是0-100，如果p=0，那么就是求最小值，如果p=50就是求平均值，如果p=100就是求最大值。同样你也可以求得在axis=0 和 axis=1两个轴上的p%的百分位数。</p><p><strong>统计数组中的中位数median()、平均数mean()</strong></p><pre><code>a = np.array([[1,2,3], [4,5,6], [7,8,9]])\n#求中位数\nprint np.median(a)\nprint np.median(a, axis=0)\nprint np.median(a, axis=1)\n#求平均数\nprint np.mean(a)\nprint np.mean(a, axis=0)\nprint np.mean(a, axis=1)\n</code></pre><p>运行结果：</p><pre><code>5.0\n[4. 5. 6.]\n[2. 5. 8.]\n5.0\n[4. 5. 6.]\n[2. 5. 8.]\n</code></pre><p>你可以用median()和mean()求数组的中位数、平均值，同样也可以求得在axis=0和1两个轴上的中位数、平均值。你可以自己练习下看看运行结果。</p><p><strong>统计数组中的加权平均值average()</strong></p><pre><code>a = np.array([1,2,3,4])\nwts = np.array([1,2,3,4])\nprint np.average(a)\nprint np.average(a,weights=wts)\n</code></pre><p>运行结果：</p><pre><code>2.5\n3.0\n</code></pre><p>average()函数可以求加权平均，加权平均的意思就是每个元素可以设置个权重，默认情况下每个元素的权重是相同的，所以np.average(a)=(1+2+3+4)/4=2.5，你也可以指定权重数组wts=[1,2,3,4]，这样加权平均np.average(a,weights=wts)=(1*1+2*2+3*3+4*4)/(1+2+3+4)=3.0。</p><p><strong>统计数组中的标准差std()、方差var()</strong></p><pre><code>a = np.array([1,2,3,4])\nprint np.std(a)\nprint np.var(a)\n</code></pre><p>运行结果：</p><pre><code>1.118033988749895\n1.25\n</code></pre><p>方差的计算是指每个数值与平均值之差的平方求和的平均值，即mean((x - x.mean())** 2)。标准差是方差的算术平方根。在数学意义上，代表的是一组数据离平均值的分散程度。所以np.var(a)=1.25, np.std(a)=1.118033988749895。</p><p><strong>NumPy排序</strong></p><p>排序是算法中使用频率最高的一种，也是在数据分析工作中常用的方法，计算机专业的同学会在大学期间的算法课中学习。</p><p>那么这些排序算法在NumPy中实现起来其实非常简单，一条语句就可以搞定。这里你可以使用sort函数，sort(a, axis=-1, kind=‘quicksort’, order=None)，默认情况下使用的是快速排序；在kind里，可以指定quicksort、mergesort、heapsort分别表示快速排序、合并排序、堆排序。同样axis默认是-1，即沿着数组的最后一个轴进行排序，也可以取不同的axis轴，或者axis=None代表采用扁平化的方式作为一个向量进行排序。另外order字段，对于结构化的数组可以指定按照某个字段进行排序。</p><pre><code>a = np.array([[4,3,2],[2,4,1]])\nprint np.sort(a)\nprint np.sort(a, axis=None)\nprint np.sort(a, axis=0)  \nprint np.sort(a, axis=1)  \n</code></pre><p>运行结果：</p><pre><code>[[2 3 4]\n [1 2 4]]\n[1 2 2 3 4 4]\n[[2 3 1]\n [4 4 2]]\n[[2 3 4]\n [1 2 4]]\n</code></pre><p>你可以自己计算下这个运行结果，然后再跑一遍比对下。</p><h2>总结</h2><p>在NumPy学习中，你重点要掌握的就是对数组的使用，因为这是NumPy和标准Python最大的区别。在NumPy中重新对数组进行了定义，同时提供了算术和统计运算，你也可以使用NumPy自带的排序功能，一句话就搞定各种排序算法。</p><p>当然要理解NumPy提供的数据结构为什么比Python自身的“更高级、更高效”，要从对数据指针的引用角度进行理解。</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/66/7ba74ca7776ac29a5dc94c272d72ff66.jpg?wh=1142*564\" alt=\"\"><br>\n我今天重点讲了NumPy的数据结构，你能用自己的话说明一下为什么要用NumPy而不是Python的列表list吗？除此之外，你还知道那些数据结构类型？</p><p><strong>练习题：统计全班的成绩</strong></p><p>假设一个团队里有5名学员，成绩如下表所示。你可以用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。然后把这些人的总成绩排序，得出名次进行成绩输出。</p><p><img src=\"https://static001.geekbang.org/resource/image/44/5c/442a89eed30c13b543e5f717c538325c.jpg?wh=1142*1031\" alt=\"\"></p><p>期待你的答案，也欢迎点击“请朋友读”，把这篇文章分享给你的朋友或者同事。</p><p></p>","neighbors":{"left":{"article_title":"03丨Python基础语法：开始你的Python之旅","id":73574},"right":{"article_title":"05丨Python科学计算：Pandas","id":73971}},"comments":[{"had_liked":false,"id":52374,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":true,"comment_ctime":1545371605,"is_pvip":false,"replies":[{"id":"19132","content":"写的不错，大家都可以看下。这里他用到了Python自带的sorted函数，用cmp函数和lambda按照三科成绩之和进行排序，并且设置 reverse=True 进行降序排序","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545407529,"ip_address":"","comment_id":52374,"utype":1}],"discussion_count":8,"race_medal":0,"score":"9.2233723046880993e+18","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;python<br>#vim: set fileencoding:utf-8<br>import numpy as np<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br>scoretype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>peoples = np.array(<br>        [<br>            (&quot;zhangfei&quot;, 66, 65, 30),<br>            (&quot;guanyu&quot;, 95, 85, 98),<br>            (&quot;zhaoyun&quot;, 93, 92, 96),<br>            (&quot;huangzhong&quot;, 90, 88, 77),<br>            (&quot;dianwei&quot;, 80, 90, 90)<br>        ], dtype=scoretype)<br><br>#print(peoples)<br><br>name = peoples[:][&#39;name&#39;]<br>wuli = peoples[:][&#39;chinese&#39;]<br>zhili = peoples[:][&#39;english&#39;]<br>tili = peoples[:][&#39;math&#39;]<br><br>def show(name,cj):<br>    print name,<br>    print &quot; |&quot;,<br>    print np.mean(cj),<br>    print &quot; | &quot;,<br>    print np.min(cj),<br>    print &quot; | &quot;,<br>    print np.max(cj),<br>    print &quot; | &quot;,<br>    print np.var(cj),<br>    print &quot; | &quot;,<br>    print np.std(cj)<br><br>print(&quot;科目  | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>show(&quot;语文&quot;, wuli)<br>show(&quot;英语&quot;, zhili)<br>show(&quot;数学&quot;, tili)<br><br>print(&quot;排名:&quot;)<br>ranking =sorted(peoples,cmp = lambda x,y: cmp(x[1]+x[2]+x[3],y[1]+y[2]+y[3]), reverse=True)<br>print(ranking)","like_count":62,"discussions":[{"author":{"id":1590155,"avatar":"https://static001.geekbang.org/account/avatar/00/18/43/8b/6af594a6.jpg","nickname":"长大当科学家","note":"","ucode":"AD3E63BB7DD4BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546,"discussion_content":"上来就弄些,python2,3不兼容的东西,初学者表示压力很大,那个sorted,cmp都不兼容","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1561691538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433850,"discussion_content":"写的不错，大家都可以看下。这里他用到了Python自带的sorted函数，用cmp函数和lambda按照三科成绩之和进行排序，并且设置 reverse=True 进行降序排序","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1545407529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2053577,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/55/c9/4c10ddbd.jpg","nickname":"小鬼","note":"","ucode":"A7B6AABFE5F657","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332922,"discussion_content":"我以为这是零基础的课","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607395097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1038023,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d6/c7/7390039f.jpg","nickname":"Jack","note":"","ucode":"057F1327F688B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1001,"discussion_content":"我的name列为什么显示为空，传不进去值啊？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562229164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2648294,"avatar":"https://static001.geekbang.org/account/avatar/00/28/68/e6/bfbf8ba9.jpg","nickname":"张羽","note":"","ucode":"75D267AC2BC013","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379602,"discussion_content":"cj是啥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624007761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2668134,"avatar":"https://static001.geekbang.org/account/avatar/00/28/b6/66/5d2be1ee.jpg","nickname":"东旭","note":"","ucode":"FD3EA3265FD9C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2648294,"avatar":"https://static001.geekbang.org/account/avatar/00/28/68/e6/bfbf8ba9.jpg","nickname":"张羽","note":"","ucode":"75D267AC2BC013","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381220,"discussion_content":"成绩","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624956594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379602,"ip_address":""},"score":381220,"extra":""}]},{"author":{"id":1105436,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/1c/60ff644d.jpg","nickname":"Larwas","note":"","ucode":"AF6BAA7769311A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":194264,"discussion_content":" rank = sorted(lis, cmp=lambda x, y: cmp(x[1]+x[2]+x[3],y[1]+y[2]+y[3]),reverse=True)\nTypeError: &#39;cmp&#39; is an invalid keyword argument for this function","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583202361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2367914,"avatar":"https://static001.geekbang.org/account/avatar/00/24/21/aa/3b1dbca7.jpg","nickname":"坚果","note":"","ucode":"480E112DF49A6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1105436,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/1c/60ff644d.jpg","nickname":"Larwas","note":"","ucode":"AF6BAA7769311A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368766,"discussion_content":"3.0就没有cmp参数了，rank=sorted(lis,key=lambda x:x[1]+x[2]+x[3],reverse=True)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618825417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":194264,"ip_address":""},"score":368766,"extra":""}]}]},{"had_liked":false,"id":62111,"user_name":"么春‮脸小的你了亲并‭","can_delete":false,"product_type":"c1","uid":1363216,"ip_address":"","ucode":"3ED1A33B7343EE","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/10/ea77600b.jpg","comment_is_top":false,"comment_ctime":1547920825,"is_pvip":false,"replies":[{"id":"64689","content":"我让编辑给你加精","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577624239,"ip_address":"","comment_id":62111,"utype":1}],"discussion_count":9,"race_medal":0,"score":"461109421497","product_id":100021701,"comment_content":"排名第一的同学是用 Python 2 的写法，我用 Python 3 也写一遍，供大家参考。<br><br># -*- coding: utf-8 -*-<br>&quot;&quot;&quot;<br>Created on Sun Jan 20 00:51:28 2019<br><br>@author: Dachun Li<br>&quot;&quot;&quot;<br>import numpy as np<br>a = np.array([[4,3,2],[2,4,1]])<br>print(np.sort(a))<br>print(np.sort(a, axis=None))<br>print(np.sort(a, axis=0))<br>print(np.sort(a, axis=1))<br><br>print(&quot;\\npart 6 作业\\n&quot;)<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;,&#39;english&#39;,&#39;math&#39; ],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),<br>       (&quot;DianWei&quot;,80,90,90)],dtype=persontype)<br>#指定的竖列<br>name = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br>#定义函数用于显示每一排的内容<br>def show(name,cj):<br>    print(&#39;{} |   {}  |   {}   |   {}   |   {}    |    {}   &#39;<br>          .format(name,np.mean(cj),np.min(cj),np.max(cj),np.var(cj),np.std(cj)))<br><br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>show(&quot;语文&quot;, chinese)<br>show(&quot;英语&quot;, english)<br>show(&quot;数学&quot;, math)<br><br>print(&quot;排名:&quot;)<br>#用sorted函数进行排序<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)<br><br>","like_count":107,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437099,"discussion_content":"我让编辑给你加精","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577624239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2204095,"avatar":"","nickname":"zyong","note":"","ucode":"86091E4F8A4ED4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310824,"discussion_content":"你好 为什么ranking打印出来之后 姓名前面都会带有b啊 比如b“zhangfei”这样","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602061854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1939770,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8Bdw1UH4CkuDJAycqojRwGavLlxjMOoH6TNUibgyuDT0OZdvEUxPpnV2bSsYnDqMRDictmh5Y3k7e05TWBMpXRibw/132","nickname":"lindemans","note":"","ucode":"D50C3146A12DAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279890,"discussion_content":"请问show里面（name，cj）分别代表什么意思呀，尤其是cj是什么意思？","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1591445703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1239546,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcIVlXYuZ3iaPfSF6vBbg3yUps6LKpsZarftyXufMHYKJmMKzH3bIpVkDAVNXE9q0oOw/132","nickname":"Mr_scx","note":"","ucode":"28B5CE68A5A339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1939770,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8Bdw1UH4CkuDJAycqojRwGavLlxjMOoH6TNUibgyuDT0OZdvEUxPpnV2bSsYnDqMRDictmh5Y3k7e05TWBMpXRibw/132","nickname":"lindemans","note":"","ucode":"D50C3146A12DAA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293471,"discussion_content":"name应该只是一个用于输出显示的字符串，比如指代是“语文”、“英语”还是“数学”；cj就是前面获得的所有同学每一科成绩汇总在一起的一竖列数据，传入show函数计算平均值，最大最小值等。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595553951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":279890,"ip_address":""},"score":293471,"extra":""},{"author":{"id":2672715,"avatar":"https://static001.geekbang.org/account/avatar/00/28/c8/4b/179c8536.jpg","nickname":"🐎呵呵🐉","note":"","ucode":"2C23D6852024C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1939770,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8Bdw1UH4CkuDJAycqojRwGavLlxjMOoH6TNUibgyuDT0OZdvEUxPpnV2bSsYnDqMRDictmh5Y3k7e05TWBMpXRibw/132","nickname":"lindemans","note":"","ucode":"D50C3146A12DAA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381208,"discussion_content":"show是显示 cj是成绩score","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624954178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":279890,"ip_address":""},"score":381208,"extra":""}]},{"author":{"id":2489987,"avatar":"https://static001.geekbang.org/account/avatar/00/25/fe/83/b2e833ff.jpg","nickname":"笨鸟的GPS","note":"","ucode":"62B321A5424FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358751,"discussion_content":"优秀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616044136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2331340,"avatar":"https://static001.geekbang.org/account/avatar/00/23/92/cc/7ef83e78.jpg","nickname":"郭灼彬","note":"","ucode":"445D7158746629","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331955,"discussion_content":"请问，lambda函数里面，x[1]+x[2]+x[3]为什么等于每个人物的分数总和，peoples[1]+peoples[2]....等等不是每个元素相加吗，而且相加不成功。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607011468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258332,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/5c/8ea5d4aa.jpg","nickname":"鲁小鲁","note":"","ucode":"02683A34EA151E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80067,"discussion_content":"牛逼！！！\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576143030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1628619,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWbUlKibZs6Qy1q1SuRfyew09nKownad6JrNicJROsssCdib9hdHpG7vburY5rWdxU6YGrgHg0VVsaA/132","nickname":"Geek_545e3b","note":"","ucode":"9F11D3604EE9D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5511,"discussion_content":"import numpy as np\r\n# 这里创建了一维数组,不是二维\r\npersontype = np.dtype([(&#39;name&#39;,&#39;S32&#39;),(&#39;chinese&#39;,&#39;i&#39;),(&#39;math&#39;,&#39;i&#39;),(&#39;english&#39;,&#39;f&#39;),(&#39;total&#39;,&#39;f&#39;)])\r\npeoples=np.array([(&#39;Zhangfei&#39;,75,100,90,0),(&#39;Guanyu&#39;,85,96,88.5,0),\r\n                  (&#39;Zhaoyun&#39;,85,92,96.5,0),(&#39;Huangzhong&#39;,65,85,100,0)],\r\n                 dtype=persontype)\nfor b in peoples.dtype.names:\r\n    if b ==&#39;name&#39; or b==&#39;total&#39;:\r\n        continue\r\n    print(&#39;mean of {}={}&#39;.format(b,np.mean(peoples[b])))\r\n    # print(&#39;mean of {}={}&#39;.format(b,peoples[b].mean()))\r\n    print(&#39;max of {}={}&#39;.format(b, np.amax(peoples[b])))\r\n    print(&#39;min of {}={}&#39;.format(b, np.mean(peoples[b])))\r\n    print(&#39;var of {}={}&#39;.format(b, np.var(peoples[b])))\r\n    print(&#39;std of {}={}&#39;.format(b, np.std(peoples[b])))\npeoples[&#39;total&#39;]=peoples[&#39;chinese&#39;]+peoples[&#39;math&#39;]+peoples[&#39;english&#39;]\r\nsort_peoples=reversed(np.sort(peoples,order=&#39;total&#39;))\r\n\r\n# print(&#34;名字\\t\\t总成绩&#34;)\r\nfor rank in sort_peoples:\r\n    print(&#39;{}\\t:\\t{}&#39;.format(rank[0],rank[-1]))\n我是用python3写的，初学者，好多东西都不懂，不断尝试了很多，才才大概知道一点语法，也借鉴了别人的东西，最后有点小问题，我最后print的时候，用制表符，为什么第一行没对齐，还要想问一下，如果我创建一个列表，然后往里面放字典的话，字典里面是名字和成绩，能不能有方法排序啊，我试了sorted ,出现了bug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566313817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52200,"user_name":"Zahputor","can_delete":false,"product_type":"c1","uid":1182978,"ip_address":"","ucode":"80BB1D3FEA6F1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/0d/02/4f4484f6.jpg","comment_is_top":false,"comment_ctime":1545350731,"is_pvip":true,"replies":[{"id":"19114","content":"axis=0 是跨行（纵向），axis=1 是跨列（横向）","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545399353,"ip_address":"","comment_id":52200,"utype":1}],"discussion_count":6,"race_medal":1,"score":"293603126859","product_id":100021701,"comment_content":"老师你好，我想问一下axis=0,axis=1,这个应该怎么理解？看得不是很明白","like_count":68,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433778,"discussion_content":"axis=0 是跨行（纵向），axis=1 是跨列（横向）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545399353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312293,"avatar":"https://static001.geekbang.org/account/avatar/00/23/48/65/e8274238.jpg","nickname":"Vim๑ºั","note":"","ucode":"350C87C7AB96DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359634,"discussion_content":"上面回复好像过期了，可以参考这个解释，https://www.jianshu.com/p/f4e9407f9f9d","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616245517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2156508,"avatar":"https://static001.geekbang.org/account/avatar/00/20/e7/dc/d66864b0.jpg","nickname":"宁波","note":"","ucode":"07C1F707162A72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575476,"discussion_content":"axis：排序沿数组的（轴）方向，0表示按列，1表示按行，None表示展开来排序，默认为-1，表示沿最后的轴排序。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654859934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312293,"avatar":"https://static001.geekbang.org/account/avatar/00/23/48/65/e8274238.jpg","nickname":"Vim๑ºั","note":"","ucode":"350C87C7AB96DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359638,"discussion_content":"另外附上axis= -1 时的解释：\nhttps://www.jianshu.com/p/93317c0dca6a","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616245629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2043556,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/2e/a4/51d72aaf.jpg","nickname":"冷忆丶思乡月","note":"","ucode":"4D7493B97A872E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284879,"discussion_content":"可以参考这篇文章：https://www.pianshen.com/article/63047984/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592665904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1388630,"avatar":"","nickname":"jack","note":"","ucode":"DB0489309E949F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225921,"discussion_content":"会不会还有axis=2这种？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586407029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52251,"user_name":"(｡•́︿•̀｡)面团","can_delete":false,"product_type":"c1","uid":1199441,"ip_address":"","ucode":"10D6CF0B5ED4BD","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/51/b6833de8.jpg","comment_is_top":false,"comment_ctime":1545354772,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"190523915796","product_id":100021701,"comment_content":"percentile那里，50是不是应该是中位数而不是平均数啊？","like_count":44,"discussions":[{"author":{"id":2370720,"avatar":"https://static001.geekbang.org/account/avatar/00/24/2c/a0/0f0f4876.jpg","nickname":"Saniarily莹","note":"","ucode":"A360CB340F3F50","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379701,"discussion_content":"是中位数，只是这里刚好和平均数相等了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624084911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312293,"avatar":"https://static001.geekbang.org/account/avatar/00/23/48/65/e8274238.jpg","nickname":"Vim๑ºั","note":"","ucode":"350C87C7AB96DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359633,"discussion_content":"就相当于是最小值到最大值的50%，此时刚好既是中位数，也是平均值。你可以试试80%之类的看看结果。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616245436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2122967,"avatar":"https://static001.geekbang.org/account/avatar/00/20/64/d7/93efa0ed.jpg","nickname":"学习星人","note":"","ucode":"4A31F34058696A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304068,"discussion_content":"50是最大值和最小值的平均数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599461695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2031837,"avatar":"","nickname":"Geek_98d9d2","note":"","ucode":"81970D7D7AB917","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281982,"discussion_content":"我也觉得，50分位应该是中位数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591853572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53086,"user_name":"Kylin","can_delete":false,"product_type":"c1","uid":1352321,"ip_address":"","ucode":"B5C4AD7CB5D911","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/81/1cd7fc02.jpg","comment_is_top":false,"comment_ctime":1545581429,"is_pvip":false,"replies":[{"id":"19413","content":"联系编辑，加微信群，我和你电话沟通下，制定学习计划。你也可以把你的情况和遇到的问题，写在评论区里。这样我解答，更多人可以看到","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545667350,"ip_address":"","comment_id":53086,"utype":1}],"discussion_count":4,"race_medal":0,"score":"186229175157","product_id":100021701,"comment_content":"基本上…没听懂，一脸懵逼的听完了，老师还能抢救一下吗？是缺点什么基础知识？","like_count":43,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434031,"discussion_content":"联系编辑，加微信群，我和你电话沟通下，制定学习计划。你也可以把你的情况和遇到的问题，写在评论区里。这样我解答，更多人可以看到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545667350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1655563,"avatar":"https://static001.geekbang.org/account/avatar/00/19/43/0b/25ff73e0.jpg","nickname":"许智鸿","note":"","ucode":"18E41503CC43C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13810,"discussion_content":"老师，我也想联系下您，相问怎么才能联系到","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568703694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2128416,"avatar":"https://static001.geekbang.org/account/avatar/00/20/7a/20/081982a7.jpg","nickname":"五岛晚邮。","note":"","ucode":"324976235AF41F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299547,"discussion_content":"比较晚的学习，请问在哪里答疑","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597733118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239546,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcIVlXYuZ3iaPfSF6vBbg3yUps6LKpsZarftyXufMHYKJmMKzH3bIpVkDAVNXE9q0oOw/132","nickname":"Mr_scx","note":"","ucode":"28B5CE68A5A339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293472,"discussion_content":"我也想联系老师，请问微信群是在哪","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595554124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52382,"user_name":"超宇宙骇客","can_delete":false,"product_type":"c1","uid":1352392,"ip_address":"","ucode":"5720D21D349E0A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/c8/172e35ed.jpg","comment_is_top":false,"comment_ctime":1545372957,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"96034653469","product_id":100021701,"comment_content":"一、老师问题的回答：<br>1.1 效率比较<br>    Python中的 list 保存的是对象的指针，因此数据量大时很占内存，所以会慢。<br>    NumPy 数组存储在一个均匀连续的内存块中，这样数组计算遍历所有的元素，不像列表 list 还需要对内存地址进行查找，从而节省了计算资源，比较快。<br>1.2 其他数据类型<br>    例如字典dict、树、图、等等<br><br>二、我的云笔记链接（基本所有代码都验证了一遍）：http:&#47;&#47;note.youdao.com&#47;noteshare?id=dc330cd14b6a354f34167f8e33774177&amp;sub=39A110D2D15A47189E2D33C0051A6F0E<br><br>三、就我感觉老师你在amin（）和amax（）那里的解释错了？还是说我理解错了？<br>amin（）时：<br>    axis=0所选元素应该是[1,4,7], [2,5,8], [3,6,9]，然后再选择每一数组中最小的那个值，也即[1,2,3]；<br>    axis=1所选元素应该是[1,2,3], [4,5,6], [7,8,9]，然后再选择每一数组中最小的那个值，也即[1,4,7]；<br>也就是说，axis=0 是列运算；axis=1 是行运算。<br>以下是我的代码验证：<br>------------------------------------------------------------------------------------------------<br>import numpy as np<br><br>a = np.array([[1,6,3], [4,5,6], [100,8,9]])<br><br>print(a,&#39;\\n&#39;)<br>print(np.amin(a))                  # amin(a) 指的是数组中全部元素的最小值<br>print(np.amin(a,axis=0))        # axis=0 轴是把元素看成了 [1,4,100], [6,5,8], [3,6,9] 三个元素<br>print(np.amin(a,axis=1),&#39;\\n&#39;)   # axis=1 轴是把元素看成了 [1,6,3], [4,5,6], [100,8,9] 三个元素<br><br>print(np.amax(a))<br>print(np.amax(a,axis=0))<br>print(np.amax(a,axis=1))<br><br># amin() 用于计算数组中的元素沿指定轴的最小值<br># amax() 用于计算数组中的元素沿指定轴的最大值<br>------------------------------------------------------------------------------------------------<br>结果：<br>[[  1   6   3]<br> [  4   5   6]<br> [100   8   9]] <br><br>1<br>[1 5 3]<br>[1 4 8] <br><br>100<br>[100   8   9]<br>[  6   6 100]<br>------------------------------------------------------------------------------------------------<br><br>作业题我今晚再更新在我的云笔记中，以上。","like_count":23,"discussions":[{"author":{"id":1669804,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7a/ac/ee7067e9.jpg","nickname":"北房有佳人","note":"","ucode":"171A3A1415D392","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48179,"discussion_content":"amin和amax你的理解跟老师讲的是一样的,axis=0 是以一列一列数的，axis=1是一行一行数的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573457531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52321,"user_name":"何楚","can_delete":false,"product_type":"c1","uid":1355689,"ip_address":"","ucode":"51C8258A3EAF11","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/a9/e24380a0.jpg","comment_is_top":false,"comment_ctime":1545362341,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"96034642853","product_id":100021701,"comment_content":"老师你的课程示范代码是 Python 2.x 的，可能有些新手同学用了 Python 3 环境，所以你的 print 导致运行错误，然后他们就卡住了，不知道如何解决。","like_count":22,"discussions":[{"author":{"id":1466567,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/c7/7c3fd235.jpg","nickname":"so young","note":"","ucode":"26E787E39289E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377367,"discussion_content":"同上，但要注意用英文的括弧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622618417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1587401,"avatar":"","nickname":"Han","note":"","ucode":"FAD504B1DC15FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203982,"discussion_content":"在Python 3里面，print后面加上括号（）就可以了。比如：print（“hello world”）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584107860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53281,"user_name":"Jie","can_delete":false,"product_type":"c1","uid":1355892,"ip_address":"","ucode":"B251D8EB7BCEE1","user_header":"https://static001.geekbang.org/account/avatar/00/14/b0/74/5e8b277b.jpg","comment_is_top":false,"comment_ctime":1545621906,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65970131346","product_id":100021701,"comment_content":"import sys<br>import numpy as np<br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&quot;zhanyun&quot;,93,92,96,0),(&#39;huanghzong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],dtype = persontype)<br>peoples[:][&#39;total&#39;]= peoples[:][&#39;chinese&#39;] +peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print (peoples)<br>print(peoples.dtype.names)<br>for col in peoples.dtype.names:<br>\tif col ==&#39;name&#39; or col == &#39;total&#39; :<br>\t\tcontinue<br>\tprint (&quot;mean of {}:{}&quot;.format(col,np.mean(peoples[:][col])))<br>\tprint (&quot;amax of {}:{}&quot;.format(col,np.amax(peoples[:][col])))<br>\tprint (&quot;amin of {}:{}&quot;.format(col,np.amin(peoples[:][col])))<br>\tprint (&quot;std of {}:{}&quot;.format(col,np.std(peoples[:][col])))<br>\tprint (&quot;var of {}:{}&quot;.format(col,np.var(peoples[:][col])))<br><br>print(np.sort(peoples,order =&#39;total&#39;))","like_count":15},{"had_liked":false,"id":52363,"user_name":"何楚","can_delete":false,"product_type":"c1","uid":1355689,"ip_address":"","ucode":"51C8258A3EAF11","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/a9/e24380a0.jpg","comment_is_top":false,"comment_ctime":1545368012,"is_pvip":false,"replies":[{"id":"19131","content":"你在求三科成绩的各种统计指标的时候，写的不错<br>你提到的如何在numpy中求和，其实在定义结构数组的时候，可以多定义一列total<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>然后按照total进行排序即可<br>print np.sort(peoples, order=&#39;total&#39;)","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545406532,"ip_address":"","comment_id":52363,"utype":1}],"discussion_count":7,"race_medal":0,"score":"53084975564","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;env python3<br># -*- coding: utf-8 -*-<br><br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;,  &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;, 66, 65, 30), (&quot;GuanYu&quot;, 95, 85, 98),<br>                    (&quot;ZhaoYun&quot;, 93, 92, 96), (&quot;HuangZhong&quot;, 90, 88, 77),<br>                    (&quot;DianWei&quot;, 80, 90, 90)],<br>                   dtype=persontype)<br>for col in peoples.dtype.names:<br>#    print(col)<br>    if col is &quot;name&quot;:<br>        continue<br>    print(&quot;mean of {}: {}&quot;.format(col, peoples[col].mean()))<br>    print(&quot;min of {}: {}&quot;.format(col, peoples[col].min()))<br>    print(&quot;max of {}: {}&quot;.format(col, peoples[col].max()))<br>    print(&quot;var of {}: {}&quot;.format(col, peoples[col].var()))<br>    print(&quot;std of {}: {}&quot;.format(col, peoples[col].std()))<br><br>report = np.empty([0, 0])<br>for i in range(peoples.size):<br>    sum_score = peoples[&#39;chinese&#39;][i] + peoples[&#39;english&#39;][i] + peoples[&#39;math&#39;][i]<br>    #print(sum_score)<br>    report = np.append(report, [ sum_score])<br>report = -np.sort(-report)<br>print(&quot;sorted score:&quot;)<br>print(report)<br><br>怎么在 numpy 里作成绩求和还不是很清楚。另外，想把成绩和名字按排序后打印出来，要用索引，赶时间没研究，等看别人的结果。","like_count":12,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433846,"discussion_content":"你在求三科成绩的各种统计指标的时候，写的不错\n你提到的如何在numpy中求和，其实在定义结构数组的时候，可以多定义一列total\npeoples[:][&amp;#39;total&amp;#39;] = peoples[:][&amp;#39;chinese&amp;#39;]+peoples[:][&amp;#39;english&amp;#39;]+peoples[:][&amp;#39;math&amp;#39;]\n然后按照total进行排序即可\nprint np.sort(peoples, order=&amp;#39;total&amp;#39;)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545406532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1567493,"avatar":"https://static001.geekbang.org/account/avatar/00/17/eb/05/472f10ac.jpg","nickname":"我就是我","note":"","ucode":"4A608C238355AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":248,"discussion_content":"如果是降序排序呢？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561357683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2716133,"avatar":"","nickname":"唐沐","note":"","ucode":"7748251F53E3AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1567493,"avatar":"https://static001.geekbang.org/account/avatar/00/17/eb/05/472f10ac.jpg","nickname":"我就是我","note":"","ucode":"4A608C238355AA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388227,"discussion_content":"第二个列子ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)   True改成False就时降序排列","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628662241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":248,"ip_address":""},"score":388227,"extra":""}]},{"author":{"id":1261228,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3e/ac/ac66ac8b.jpg","nickname":"Walter","note":"","ucode":"E4C673D5F0CA59","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402829,"discussion_content":"sums = np.add(chineses,englishs,maths)\narrIndex = np.array(sums).argsort()\nranking = names[arrIndex]\nprint(ranking)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633955098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1898478,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/ee/f7f45ca9.jpg","nickname":"吃鱼","note":"","ucode":"C4EF2036F36000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365643,"discussion_content":"为啥按老师说的方式，无法直接定义新的一列，报错是“no field of name total”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617857737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1579253,"avatar":"https://static001.geekbang.org/account/avatar/00/18/18/f5/fb1bfb53.jpg","nickname":"吴聪","note":"","ucode":"C00C27BB5ABE8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2616,"discussion_content":"老师，先定义total的时候，输入数值的时候total没有值，就会报错了，怎么解决啊，错误如下：could not assign tuple of length 4 to structure with 5 fields.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563788016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1763991,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ea/97/ff47713c.jpg","nickname":"丞","note":"","ucode":"9926B4B10F0AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1579253,"avatar":"https://static001.geekbang.org/account/avatar/00/18/18/f5/fb1bfb53.jpg","nickname":"吴聪","note":"","ucode":"C00C27BB5ABE8A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70418,"discussion_content":"(&#34;ZhangFei&#34;,32,75,100, 90, 0)\n我在后面加0就可以了，但是既然是tuple，为什么可以修改呢？希望老师解答","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575354949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2616,"ip_address":""},"score":70418,"extra":""}]}]},{"had_liked":false,"id":52491,"user_name":"齐福聪","can_delete":false,"product_type":"c1","uid":1186529,"ip_address":"","ucode":"0E541C0B59C96F","user_header":"https://static001.geekbang.org/account/avatar/00/12/1a/e1/5c727608.jpg","comment_is_top":false,"comment_ctime":1545394710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48790034966","product_id":100021701,"comment_content":"老师 percentile参数为50的时候 应该取的是中位数而不是平均值 对么","like_count":11},{"had_liked":false,"id":54862,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1353126,"ip_address":"","ucode":"0B9DA7403A907B","user_header":"https://static001.geekbang.org/account/avatar/00/14/a5/a6/90f26b2e.jpg","comment_is_top":false,"comment_ctime":1545972566,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44495645526","product_id":100021701,"comment_content":"中文名字的格式写S32时报错","like_count":10,"discussions":[{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3719,"discussion_content":"S只支持 ascii 编码，用 U32","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1564733644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79320,"user_name":"蜉蝣","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1553434412,"is_pvip":false,"replies":[{"id":"64371","content":"多谢蜉蝣分享","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577617906,"ip_address":"","comment_id":79320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40208140076","product_id":100021701,"comment_content":"关于axis参数的问题，我也有点模糊，后来知乎上看到这篇文章，思路清晰多了，也推荐大家看一下：https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;30960190","like_count":10,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444451,"discussion_content":"多谢蜉蝣分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52461,"user_name":"从未在此","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1545386486,"is_pvip":false,"replies":[{"id":"19110","content":"对的 理解正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545398987,"ip_address":"","comment_id":52461,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40200092150","product_id":100021701,"comment_content":"根据我在网上找的学习资料，axis＝0，代表跨行；=1代表跨列，这样很容易理解。","like_count":9,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433886,"discussion_content":"对的 理解正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545398987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258332,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/5c/8ea5d4aa.jpg","nickname":"鲁小鲁","note":"","ucode":"02683A34EA151E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80078,"discussion_content":"有点像行列式 和行列式的转置行列式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576144028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52351,"user_name":"杨延平","can_delete":false,"product_type":"c1","uid":1352068,"ip_address":"","ucode":"6D2E2B8420A352","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLqxsyXLIu0UoDiafKM3NE7Khibg9sR4RYZbnq5hZwLHv0cXLHtj6EDRCN5sWYsQJcyUpWC7Y2MxIsA/132","comment_is_top":false,"comment_ctime":1545365614,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40200071278","product_id":100021701,"comment_content":"axis: 沿着它排序数组的轴，如果没有数组会被展开，沿着最后的轴排序， axis=0 按列排序，axis=1 按行排序","like_count":9},{"had_liked":false,"id":109115,"user_name":"Ben","can_delete":false,"product_type":"c1","uid":1252353,"ip_address":"","ucode":"70351D4FAE47F7","user_header":"https://static001.geekbang.org/account/avatar/00/13/1c/01/5aaaf5b6.jpg","comment_is_top":false,"comment_ctime":1561965204,"is_pvip":false,"replies":[{"id":"63937","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577605531,"ip_address":"","comment_id":109115,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31626736276","product_id":100021701,"comment_content":"scoretype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>                      &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array(<br>    [<br>        (&quot;zhangfei&quot;, 66, 65, 30),<br>        (&quot;guanyu&quot;, 95, 85, 98),<br>        (&quot;zhaoyun&quot;, 93, 92, 96),<br>        (&quot;huangzhong&quot;, 90, 88, 77),<br>        (&quot;dianwei&quot;, 80, 90, 90)<br>    ], dtype=scoretype)<br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>courses = {&#39;语文&#39;: peoples[:][&#39;chinese&#39;],<br>           &#39;英文&#39;: peoples[:][&#39;english&#39;], &#39;数学&#39;: peoples[:][&#39;math&#39;]}<br>for course, scores in courses.items():<br>    print(course, np.mean(scores), np.amin(scores), np.amax(scores), np.std(scores),<br>          np.var(scores))<br>print(&#39;Ranking&#39;)<br>ranking = sorted(peoples, key=lambda x: x[1]+x[2]+x[3], reverse=True)<br>print(ranking)","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456250,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577605531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52172,"user_name":"Alexander","can_delete":false,"product_type":"c1","uid":1187008,"ip_address":"","ucode":"40226A2A3BCBC3","user_header":"https://static001.geekbang.org/account/avatar/00/12/1c/c0/25c15f45.jpg","comment_is_top":false,"comment_ctime":1545323729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31610094801","product_id":100021701,"comment_content":"看来需要去老师推荐的课学下Python了。。。","like_count":7},{"had_liked":false,"id":191562,"user_name":"夕子","can_delete":false,"product_type":"c1","uid":1916066,"ip_address":"","ucode":"4115ABE599B2F4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3c/a2/09a2215c.jpg","comment_is_top":false,"comment_ctime":1584781543,"is_pvip":false,"replies":[{"id":"104356","content":"总结的不错！Good Job!!!","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617904645,"ip_address":"","comment_id":191562,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23059618023","product_id":100021701,"comment_content":"一、为什么用numpy而不用list？<br>①存储上，list需要同时存储元素和指针，而numpy数组只存储元素，节省内存和计算时间。<br>②list的元素在系统内存中分散存储，而numpy数组存储在一个均匀连续的内存块中，遍历元素时不需要查找内存地址，节省计算资源。<br>③在内存访问模式中，缓存会直接把子节块从RAM加载到CPU寄存器中。因为数据连续的存储在内存中，numpy直接利用现代CPU的矢量化指令计算，加载寄存器中的多个连续浮点数。另外numpy中的矩阵计算可以采用多线程的方式，充分利用多核CPU计算资源，大大提升了计算效率。<br><br>二、其他数据结构类型：字典、元组、字符串<br><br>三、练习题<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;], &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&#39;ZhangFei&#39;,66,65,30,0),(&#39;GuanYu&#39;,95,85,98,0),(&#39;ZhaoYun&#39;,93,92,96,0),(&#39;HuangZhong&#39;,90,88,77,0),(&#39;DianWei&#39;,80,90,90,0)], dtype=scoretype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishes = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>print(&#39;语文成绩：&#39;)<br>print(&#39;平均成绩&#39;,np.mean(chineses))<br>print(&#39;最小成绩&#39;,np.amin(chineses))<br>print(&#39;最大成绩&#39;,np.amax(chineses))<br>print(&#39;方差&#39;,np.var(chineses))<br>print(&#39;标准差&#39;,np.std(chineses))<br>print(&#39;-&#39;*30)<br>print(&#39;英语成绩：&#39;)<br>print(&#39;平均成绩&#39;,np.mean(englishes))<br>print(&#39;最小成绩&#39;,np.amin(englishes))<br>print(&#39;最大成绩&#39;,np.amax(englishes))<br>print(&#39;方差&#39;,np.var(englishes))<br>print(&#39;标准差&#39;,np.std(englishes))<br>print(&#39;-&#39;*30)<br>print(&#39;数学成绩：&#39;)<br>print(&#39;平均成绩&#39;,np.mean(maths))<br>print(&#39;最小成绩&#39;,np.amin(maths))<br>print(&#39;最大成绩&#39;,np.amax(maths))<br>print(&#39;方差&#39;,np.var(maths))<br>print(&#39;标准差&#39;,np.std(maths))<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print(np.sort(peoples,order=&#39;total&#39;))<br><br>输出结果为：<br>语文成绩：<br>平均成绩 84.8<br>最小成绩 66<br>最大成绩 95<br>方差 114.96000000000001<br>标准差 10.721940122944169<br>------------------------------<br>英语成绩：<br>平均成绩 84.0<br>最小成绩 65<br>最大成绩 92<br>方差 95.6<br>标准差 9.777525249264253<br>------------------------------<br>数学成绩：<br>平均成绩 78.2<br>最小成绩 30<br>最大成绩 98<br>方差 634.56<br>标准差 25.19047439013406<br><br>[(b&#39;ZhangFei&#39;, 66, 65, 30, 161) (b&#39;HuangZhong&#39;, 90, 88, 77, 255)<br> (b&#39;DianWei&#39;, 80, 90, 90, 260) (b&#39;GuanYu&#39;, 95, 85, 98, 278)<br> (b&#39;ZhaoYun&#39;, 93, 92, 96, 281)]<br><br>我对结构数组不太熟悉，求总分那里试了对切片求和报错了，看了评论里老师的解答才知道在定义里做，这个要注意多练习。","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488206,"discussion_content":"总结的不错！Good Job!!!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617904645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"聪少 Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575772,"discussion_content":"非常棒！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655103007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53533,"user_name":"离忧","can_delete":false,"product_type":"c1","uid":1045429,"ip_address":"","ucode":"8EC8CBF4830019","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/b5/5db57375.jpg","comment_is_top":false,"comment_ctime":1545664704,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23020501184","product_id":100021701,"comment_content":"老师定义结构数组，那个s32 是什么意思呢？","like_count":5,"discussions":[{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3720,"discussion_content":"数据类型，第一个S是字符简写，32表示占用空间字节数。https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.dtype.html","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564733801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52372,"user_name":"JingZ","can_delete":false,"product_type":"c1","uid":1023464,"ip_address":"","ucode":"6F97895B2CC375","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wJphZ3HcvhjVUyTWCIsCugzfQY5NAy6VJ0XoPLibDlcHWMswFmFe678zd0lUjFETia80NQhyQcVnGDlKgKPcRGyw/132","comment_is_top":false,"comment_ctime":1545370569,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23020207049","product_id":100021701,"comment_content":"(1)NumPy相对Python更高级和更高效，数组存储在均匀连续的内存块，节约计算资源；矢量化的指针指令和多线程矩阵计算提升计算效率；避免隐氏拷贝，采取就地操作。<br><br>(2)数据结构，Python常用应是array,tuple,list,dictionary,set,其他听过的有stack,graph,hash,heap,tree等~理论待老师深入<br><br>(3)练习题代码，最后一点还需要想一想怎么按总成绩排名输出？感觉代码重复性有点高，有更更简洁的代码？<br><br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br><br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98), (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;DianWei&quot;,80,90,90)],dtype=persontype)<br><br>#语文、英语、数学<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>#平均成绩<br>print(np.mean(chineses))<br>print(np.mean(englishs))<br>print(np.mean(maths))<br><br>#最小成绩<br>print(np.amin(chineses))<br>print(np.amin(englishs))<br>print(np.amin(maths))<br><br>#最大成绩<br>print(np.amax(chineses))<br>print(np.amax(englishs))<br>print(np.amax(maths))<br><br>#方差<br>print(np.std(chineses))<br>print(np.std(englishs))<br>print(np.std(maths))<br><br>#标准差<br>print(np.var(chineses))<br>print(np.var(englishs))<br>print(np.var(maths))<br><br>#总成绩排序<br>print(np.sort(chineses+englishs+maths))<br><br>#按姓名排序<br>print(np.sort(peoples,order=&#39;name&#39;))","like_count":5,"discussions":[{"author":{"id":2033016,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIVy4eB1Ncz4Ic8b8cU1hXqbMVx0yhTo5sgDzjRuZFzbPvswyqAR0y7BgvFLpIIfD5jI7cEG8NtCQ/132","nickname":"Geek_27b89c","note":"","ucode":"8B498923AF2088","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281110,"discussion_content":"如何将成绩由大到小排列呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591673215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52610,"user_name":"抢地瓜的阿姨","can_delete":false,"product_type":"c1","uid":1234840,"ip_address":"","ucode":"93691D54BB8908","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/98/630fa899.jpg","comment_is_top":false,"comment_ctime":1545452348,"is_pvip":false,"replies":[{"id":"19427","content":"哈哈哈 是的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545668856,"ip_address":"","comment_id":52610,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18725321532","product_id":100021701,"comment_content":"Dataframe 即将登场！哈哈哈","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433921,"discussion_content":"哈哈哈 是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545668856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52307,"user_name":"ZHen","can_delete":false,"product_type":"c1","uid":1234297,"ip_address":"","ucode":"4DB20D9A55593D","user_header":"https://static001.geekbang.org/account/avatar/00/12/d5/79/bee5da0e.jpg","comment_is_top":false,"comment_ctime":1545360758,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18725229942","product_id":100021701,"comment_content":"轴的那里，把数组按行列写在纸上，axis=0就是按行来取元素，axis=1就是沿着第一列取元素<br>1，2，3<br>4，5，6<br>7，8，9<br>axis=1时，取的元素组合就是[1,4,7],[2,5,8],[3,6,9]","like_count":4,"discussions":[{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3721,"discussion_content":"错了，axis 是聚合压缩方向，1代表按列就是横向压缩，[rows, 1] 数组，  试下这个 np.mean(np.arange(1, 10).reshape((3, 3)), axis=1)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564734076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115550,"user_name":"王张","can_delete":false,"product_type":"c1","uid":1526391,"ip_address":"","ucode":"8153B5532B2C62","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/77/754a127b.jpg","comment_is_top":false,"comment_ctime":1563618943,"is_pvip":false,"replies":[{"id":"63661","content":"代表数据类型，S是String字符串，i是integer整数，f是float浮点型","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577527262,"ip_address":"","comment_id":115550,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14448520831","product_id":100021701,"comment_content":" &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;] 是什么意思？","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459156,"discussion_content":"代表数据类型，S是String字符串，i是integer整数，f是float浮点型","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577527262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3724,"discussion_content":"字段类型，看下 numpy 官网","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564734261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62016,"user_name":"FORWARD―MOUNT","can_delete":false,"product_type":"c1","uid":1357857,"ip_address":"","ucode":"CD8E9ECF882980","user_header":"https://static001.geekbang.org/account/avatar/00/14/b8/21/c03839f1.jpg","comment_is_top":false,"comment_ctime":1547883155,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14432785043","product_id":100021701,"comment_content":"我用的是Python3，按照老师的方法在定义np.dtyp时报错，在网上也没查到有用的信息，经摸索后，可以改写为：<br>new_type = np.dtype([(&#39;name&#39;, np.str_, 16), (&#39;chinese&#39;, np.int32), (&#39;english&#39;, np.int32), (&#39;math&#39;, np.int32)])<br><br>供大家参考。","like_count":3},{"had_liked":false,"id":52842,"user_name":"擎天","can_delete":false,"product_type":"c1","uid":1357069,"ip_address":"","ucode":"6861669DF24EB7","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/0d/b299671b.jpg","comment_is_top":false,"comment_ctime":1545538652,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14430440540","product_id":100021701,"comment_content":"老师，我们这个课程有没有知识星球？能否建立一个知识星球，让大家自由发言，在这里留言，无法互动。如果建立一个知识星球，有的同学把疑问发到知识星球里，其余同学对其有不一样的理解的话，就会去评论。疑问有了互动交流，才能产生思维的升级，否则仅仅是提出疑问，没有答案的话，思维还是停留在原地。<br><br>而且知识星球可以产生知识的沉淀，也是一笔宝贵的知识财富。","like_count":3,"discussions":[{"author":{"id":1044967,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f1/e7/c055e0e9.jpg","nickname":"WZ","note":"","ucode":"2E87ED270A39EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286959,"discussion_content":"强烈建议建立一个知识星球","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593333551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52218,"user_name":"小葱拌豆腐","can_delete":false,"product_type":"c1","uid":1352081,"ip_address":"","ucode":"AD5B93332715A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/91/207f88b5.jpg","comment_is_top":false,"comment_ctime":1545352749,"is_pvip":false,"replies":[{"id":"19143","content":"我更推荐把我文章里的代码都跑一遍，不明白的地方就留言，效率更高","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545408341,"ip_address":"","comment_id":52218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14430254637","product_id":100021701,"comment_content":"老师，请问一下您，没学过高数，没接触过计算机语言，要提前去把各种函数搞清楚吗？有没有推荐的办法，书籍，课程？","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433788,"discussion_content":"我更推荐把我文章里的代码都跑一遍，不明白的地方就留言，效率更高","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545408341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169495,"user_name":"GeekWhite","can_delete":false,"product_type":"c1","uid":1371206,"ip_address":"","ucode":"3F2D04CB8F4021","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/46/9b0aad47.jpg","comment_is_top":false,"comment_ctime":1578365627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10168300219","product_id":100021701,"comment_content":"class Numpy:<br><br>    def __init__(self):<br>        self.persontype = np.dtype(<br>            {<br>                &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>                &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>            }<br>        )<br>        self.people = np.array(<br>            [(&#39;zhangfei&#39;, 66, 65, 30), (&#39;guanyu&#39;, 95, 85, 98), (&#39;zhaoyun&#39;, 93, 92, 96),<br>             (&#39;huangzhong&#39;, 90, 88, 77), (&#39;dianwei&#39;, 80, 90, 90)], dtype=self.persontype<br>        )<br><br>    @staticmethod<br>    def stdout(subject, person_arr):<br>        print(&#39;科目&#39;, subject)<br>        print(&#39;平均值&#39;, np.mean(person_arr))<br>        print(&#39;最小&#39;, np.min(person_arr))<br>        print(&#39;最大&#39;, np.max(person_arr))<br>        print(&#39;方差&#39;, np.var(person_arr))<br>        print(&#39;标准差&#39;, np.std(person_arr), &#39;\\n&#39;)<br><br><br>model_init = Numpy()<br><br>if __name__ == &#39;__main__&#39;:<br>    name = model_init.people[:][&#39;name&#39;]<br>    chinese = model_init.people[:][&#39;chinese&#39;]<br>    english = model_init.people[:][&#39;english&#39;]<br>    math = model_init.people[:][&#39;math&#39;]<br><br>    Numpy().stdout(&#39;语文&#39;, chinese)<br>    Numpy().stdout(&#39;英语&#39;, english)<br>    Numpy().stdout(&#39;数学&#39;, math)<br>    ranking = sorted(model_init.people, key=lambda x: x[1] + x[2] + x[3], reverse=True)<br>    print(ranking)","like_count":2},{"had_liked":false,"id":146207,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1572457130,"is_pvip":false,"replies":[{"id":"63769","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577540887,"ip_address":"","comment_id":146207,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10162391722","product_id":100021701,"comment_content":"import numpy as np<br><br>people_type = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],<br>                        &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;, &#39;f&#39;]})<br>peoples = np.array([(&#39;ZhangFei&#39;, 60, 65, 30, 0), (&#39;GuanYu&#39;, 95, 85, 98, 0),<br>                    (&#39;ZhaoYun&#39;, 93, 92, 96, 0), (&#39;HuangZhong&#39;, 90, 88, 77, 0),<br>                    (&#39;DianWei&#39;, 80, 90, 90, 0)], dtype=people_type)<br><br>chinese = peoples[:][&#39;chinese&#39;]<br>math = peoples[:][&#39;math&#39;]<br>english = peoples[:][&#39;english&#39;]<br><br>peoples[:][&#39;total&#39;] = chinese + math + english<br>print(&quot;rank of total scores is \\n %s&quot; % np.sort(peoples, order=&#39;total&#39;))<br>print(&quot;\\n&quot;)<br><br>for key in list(people_type.fields.keys())[1:4]:<br>    print(&quot;mean of %s is %s&quot; % (key, np.mean(peoples[:][key])))<br>    print(&quot;max of %s is %s&quot; % (key, np.amax(peoples[:][key])))<br>    print(&quot;min of %s is %s&quot; % (key, np.amin(peoples[:][key])))<br>    print(&quot;std of %s is %s&quot; % (key, np.std(peoples[:][key])))<br>    print(&quot;var of %s is %s&quot; % (key, np.var(peoples[:][key])))<br>    print(&quot;\\n&quot;)","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472751,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577540887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251536,"avatar":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","nickname":"qinggeouye","note":"","ucode":"5B53EEDD7BEC9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42630,"discussion_content":"https://github.com/qinggeouye/GeekTime/blob/master/DataAnalysis/04_numpy.py","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572717700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104013,"user_name":"建强","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1560589619,"is_pvip":false,"replies":[{"id":"64108","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577609740,"ip_address":"","comment_id":104013,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10150524211","product_id":100021701,"comment_content":"#简易学生成绩档案管理<br>import numpy as np<br>student_type = np.dtype({&#39;names&#39;:[&#39;studentname&#39;,&#39;Chinese&#39;,&#39;English&#39;,&#39;Math&#39;,&#39;Total&#39;],&#39;formats&#39;:[&#39;U10&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]})<br>students = np.array([ (&quot;张飞&quot;,66,65,30,None),(&quot;关羽&quot;,95,85,98,None),(&quot;赵云&quot;,93,92,96,None),(&quot;黄忠&quot;,90,88,77,None),(&quot;典韦&quot;,80,90,90,None)]<br>                    ,dtype = student_type)<br>Chinese = students[:][&#39;Chinese&#39;]<br>English = students[:][&#39;English&#39;]<br>Math = students[:][&#39;Math&#39;]<br><br>#指标分析<br>score_analy={&#39;平均成绩&#39;:{&#39;语文&#39;:np.mean(Chinese),&#39;英语&#39;: np.mean(English),&#39;数学&#39;:np.mean(Math)}<br>            ,&#39;最小成绩&#39;:{&#39;语文&#39;:np.amin(Chinese),&#39;英语&#39;: np.amin(English),&#39;数学&#39;:np.amin(Math)}<br>            ,&#39;最大成绩&#39;:{&#39;语文&#39;:np.amax(Chinese),&#39;英语&#39;: np.amax(English),&#39;数学&#39;:np.amax(Math)}<br>            ,&#39;标准差&#39;  :{&#39;语文&#39;:np.std(Chinese) ,&#39;英语&#39;: np.std(English) ,&#39;数学&#39;: np.std(Math)}<br>            ,&#39;方差&#39;    :{&#39;语文&#39;:np.var(Chinese) ,&#39;英语&#39;: np.var(English) ,&#39;数学&#39;: np.var(Math)}}<br><br>#统计总成绩<br>for i in range(len(students)):<br>    students[i][&#39;Total&#39;] = sum(list(students[i])[1:-1])<br><br>#输出分析指标<br>print(&quot;  指标项  \\t\\t   语文   \\t\\t   英语   \\t\\t   数学   &quot;)<br>print((&quot;-&quot; * 10 +&quot;\\t\\t&quot;)*4)<br>for index in score_analy:<br>    report = f&quot;{index:10}&quot;.format(index) + &quot;\\t\\t{语文:&gt;10.2f}\\t\\t{英语:&gt;10.2f}\\t\\t{数学:&gt;10.2f}&quot;<br>    print(report.format_map(score_analy[index]))<br><br>print((&quot;-&quot; * 82))<br><br>#按总成绩输出排名<br>print(&quot;名次\\t\\t姓名\\t\\t总分&quot;)<br>print((&quot;-&quot; * 4 +&quot;\\t\\t&quot;)*3)<br>    <br>s = np.sort(students,order=&#39;Total&#39;)<br>for i in range(len(s)):<br>    k=-1 * (i+1)<br>    print(&#39;{rank:4}\\t\\t{name:4}\\t\\t{score:&gt;4}&#39;.format(rank=i+1,name=s[k][&#39;studentname&#39;],score=s[k][&#39;Total&#39;]))<br>","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454090,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577609740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100666,"user_name":"bingo","can_delete":false,"product_type":"c1","uid":1341276,"ip_address":"","ucode":"DD96820EC8871D","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/5c/8d53165e.jpg","comment_is_top":false,"comment_ctime":1559613339,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10149547931","product_id":100021701,"comment_content":"个人对axis的理解：<br>对课里的二维数组举例，np.min(arr, axis=0)。<br><br>是将[  arr[0][0], arr[1][0], arr[2][0], arr[3][0]...  ]作为一个参数传递给min函数，会得到一个最小值；<br><br>再将[  arr[0][1], arr[1][1], arr[2][1], arr[3][1]...  ]作为一个参数传递给min函数，又会得到一个最小值；<br><br>......<br><br>最后将这些最小值合并成一个数组输出<br><br>总结一下：axis=0就是优先变化第一个维度，axis=1就是优先变化第二个维度，更高维度的数组以此类推。<br><br>","like_count":2},{"had_liked":false,"id":74896,"user_name":"Geek_ce3c1f","can_delete":false,"product_type":"c1","uid":1452721,"ip_address":"","ucode":"31A9F00D01FE2D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqmqDPzn9q0YM0CgSicVD215GibbOpyC52vJ5LUbDicwoI7n3biapWls4qd7ENwH4tJyJibgGcyrM5kCzQ/132","comment_is_top":false,"comment_ctime":1552310535,"is_pvip":false,"replies":[{"id":"64439","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577619297,"ip_address":"","comment_id":74896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10142245127","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,90),<br>                    (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),<br>                    (&quot;Dianwei&quot;,80,90,90)],dtype=persontype)<br><br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br><br>print(&quot;语文平均分%.2f，最小成绩%d，最大成绩%d，方差%.2f，标准差%.2f&quot; %(np.mean(chineses),np.amin(chineses),np.amax(chineses),np.var(chineses),np.std(chineses)))<br>print(&quot;数学平均分%d, 最小成绩%d，最大成绩%d，方差%d，标准差%d&quot; %(np.mean(maths),np.amin(maths),np.amax(maths),np.var(maths),np.std(maths)))<br>print(&quot;英语平均分%d, 最小成绩%d，最大成绩%d，方差%d，标准差%d&quot; %(np.mean(englishs),np.amin(englishs),np.amax(englishs),np.var(englishs),np.std(englishs)))<br><br># chengji = np.array([[66,65,30],[95,85,90],[93,92,96],[90,88,77],[80,90,90]])<br><br>rank = np.sort(peoples, axis=None, kind=&#39;mergesort&#39;, order=(&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;))<br>print(rank)","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442725,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64858,"user_name":"Blaise","can_delete":false,"product_type":"c1","uid":1394417,"ip_address":"","ucode":"C31E52984ED044","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYDCC8ZjLrfbdn6UdDLdfia3059dOicfHjnia5ib8uPwjibyRfJuyfj8ibtmndsSibGbMWnuM2k0gFOq7KQ/132","comment_is_top":false,"comment_ctime":1548927051,"is_pvip":false,"replies":[{"id":"64618","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622503,"ip_address":"","comment_id":64858,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138861643","product_id":100021701,"comment_content":"subjects = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;],                     <br>                     &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>                    })<br><br>people = np.array([(&#39;ZhangFei&#39;,66,65,30), (&#39;GuanYu&#39;,95,85,98),<br>                   (&#39;ZhaoYun&#39;,93,92,96), (&#39;HuangZhong&#39;,90,88,77),<br>                   (&#39;DianWei&#39;,80,90,90), <br>                  ], dtype=subjects)<br><br>print(np.mean(people[:][&#39;Chinese&#39;]))<br>print(np.mean(people[:][&#39;English&#39;]))<br>print(np.mean(people[:][&#39;Math&#39;]))<br><br><br>print(np.amin(people[:][&#39;Chinese&#39;]))<br>print(np.amin(people[:][&#39;English&#39;]))<br>print(np.amin(people[:][&#39;Math&#39;]))<br><br>print(np.amax(people[:][&#39;Chinese&#39;]))<br>print(np.amax(people[:][&#39;English&#39;]))<br>print(np.amax(people[:][&#39;Math&#39;]))<br><br>print(np.std(people[:][&#39;Chinese&#39;]))<br>print(np.std(people[:][&#39;English&#39;]))<br>print(np.std(people[:][&#39;Math&#39;]))<br><br>print(np.var(people[:][&#39;Chinese&#39;]))<br>print(np.var(people[:][&#39;English&#39;]))<br>print(np.var(people[:][&#39;Math&#39;]))<br><br># summarytype = np.dtype({&#39;names&#39;: [&#39;ZhangFei&#39;, &#39;GuanYu&#39;, &#39;ZhaoYun&#39;, &#39;HuangZhong&#39;, &#39;DianWei&#39;], &#39;formats&#39;: [&#39;i&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;],})<br>summary = np.array([], dtype=np.int32)<br><br>for i, person in enumerate(people):<br>    person = list(person)<br>    print(person[:])<br>    total = (np.sum(person[1:]))<br>    print(total)<br>    summary = np.append(summary, [total], axis=0)<br><br># 每人的总成绩<br>print(summary)<br><br># 对每人的总成绩排序<br>print(np.sort(summary))<br><br>本来还想在总成绩数组上标明是谁的成绩，还没弄出来。","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438209,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61774,"user_name":"老友@极客时间","can_delete":false,"product_type":"c1","uid":1006312,"ip_address":"","ucode":"BA96C0D6200590","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/e8/6a73208c.jpg","comment_is_top":false,"comment_ctime":1547797515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10137732107","product_id":100021701,"comment_content":"percentile那里，50是不是应该是中位数而不是平均数啊？上面有两个同学说到了 个人也认为是中位数","like_count":2},{"had_liked":false,"id":53016,"user_name":"晴天小雨","can_delete":false,"product_type":"c1","uid":1206263,"ip_address":"","ucode":"F092237C15BAD2","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/f7/1ca42972.jpg","comment_is_top":false,"comment_ctime":1545570418,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135505010","product_id":100021701,"comment_content":"# 我感觉他们写得好复杂！！！<br>import numpy as np<br><br># 将学员的各科成绩抽象成数组<br>dtype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;], &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>students_score_info = np.array([(&#39;ZhangFei&#39;, 66, 65, 30), (&#39;GuanYu&#39;, 95, 85, 98),<br>                                (&#39;ZhaoYun&#39;, 93, 92, 96), (&#39;HuangZhong&#39;, 90, 88, 77),<br>                                (&#39;DianWei&#39;, 80, 90, 90)], dtype=dtype)<br><br># 去除名字项,并将结构化数组转换为矩阵<br>students_score = np.array([list(score) for score in np.array(students_score_info[[&#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;]])])<br><br># 平均成绩<br>Chiese_mean, Enlish_mean, Math_mean = np.mean(students_score, axis=0)<br>print(&#39;语文、英语、数学平均成绩分别为{}、{}、{}&#39;.format(Chiese_mean, Enlish_mean, Math_mean))<br><br># 最小成绩<br>Chiese_min, Enlish_min, Math_min = np.min(students_score, axis=0)<br>print(&#39;语文、英语、数学最小成绩分别为{}、{}、{}&#39;.format(Chiese_min, Enlish_min, Math_min))<br><br># 最大成绩<br>Chiese_max, Enlish_max, Math_max = np.max(students_score, axis=0)<br>print(&#39;语文、英语、数学最大成绩分别为{}、{}、{}&#39;.format(Chiese_max, Enlish_max, Math_max))<br><br># 方差<br>Chiese_var, Enlish_var, Math_var = np.var(students_score, axis=0)<br>print(&#39;语文、英语、数学成绩方差分别为{}、{}、{}&#39;.format(Chiese_var, Enlish_var, Math_var))<br><br># 标准差<br>Chiese_std, Enlish_std, Math_std = np.std(students_score, axis=0)<br>print(&#39;语文、英语、数学成绩标准差分别为{}、{}、{}&#39;.format(Chiese_std, Enlish_std, Math_std))<br><br># 总成绩排名<br>rank_lists = sorted(np.sum(students_score, axis=1),reverse=True)<br>print(&#39;语文、英语、数学总成绩排名为{}&#39;.format(rank_lists))","like_count":2},{"had_liked":false,"id":52173,"user_name":"Key.","can_delete":false,"product_type":"c1","uid":1308561,"ip_address":"","ucode":"9B2C009090CBBA","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/91/c5073dbe.jpg","comment_is_top":false,"comment_ctime":1545324384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135258976","product_id":100021701,"comment_content":"python的list在内存的中的存储是离散的(相较于Numpy查找花费更多的时间复杂度)，而Numpy在内存中的存储是连续的。了解的第三方库主要是Numpy和matplotlib，也了解过sklearn的一些方法。","like_count":2},{"had_liked":false,"id":311011,"user_name":"国国","can_delete":false,"product_type":"c1","uid":2677621,"ip_address":"","ucode":"AAA4EBC7C56C96","user_header":"https://static001.geekbang.org/account/avatar/00/28/db/75/c299d645.jpg","comment_is_top":false,"comment_ctime":1631017317,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5925984613","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;张飞&quot;,66,65,30),(&quot;关羽&quot;,95,85,98),<br>       (&quot;赵云&quot;,93,92,96),(&quot;黄忠&quot;,90,88,77),(&quot;韦典&quot;,80,90,90)],<br>    dtype=persontype)<br>name = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>total=chineses + maths + englishs<br>print(&quot;成绩表：&quot;,peoples)<br>print (&quot;语文平均分：&quot;,np.mean(chineses ))<br>print (&quot;数学平均分：&quot;,np.mean(maths ))<br>print (&quot;英语平均分：&quot;,np.mean(englishs))<br>print (&quot;语文最低分：&quot;,np.amin(chineses ))<br>print (&quot;数学最低分：&quot;,np.amin(maths ))<br>print (&quot;英语最低分：&quot;,np.amin(englishs))<br>print (&quot;语文最高分：&quot;,np.amax(chineses ))<br>print (&quot;数学最高分：&quot;,np.amax(maths ))<br>print (&quot;英语最高分：&quot;,np.amax(englishs))<br>print (&quot;语文标准差：&quot;,np.std(chineses ))<br>print (&quot;数学标准差：&quot;,np.std(maths ))<br>print (&quot;英语标准差：&quot;,np.std(englishs))<br>print (&quot;语文方差：&quot;,np.var(chineses ))<br>print (&quot;数学方差：&quot;,np.var(maths ))<br>print (&quot;英语方差：&quot;,np.var(englishs))<br>print(&quot;总分：&quot;,np.sort(total))<br><br>说下完成作业中的小插曲，在创建数组的时候name这个字段，老师的文稿用的S32类型就跟着用，结果一直报错，加了#-*- coding: utf-8-*-也没有用，而且我的ide直接print中文没问题，找同事看来一眼，定位问题是python中numpy的类型要用U32，完美解决。这个小错给我的启发还挺大的，就是程序员解决问题的思路，会去换角度思考，而我一个产品想转数据分析，一直在百度错误报错，需要学习的还很多","like_count":1},{"had_liked":false,"id":294227,"user_name":"阳光小孩","can_delete":false,"product_type":"c1","uid":2266618,"ip_address":"","ucode":"4EBABC9990E2AC","user_header":"https://static001.geekbang.org/account/avatar/00/22/95/fa/bc723edd.jpg","comment_is_top":false,"comment_ctime":1621841649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5916808945","product_id":100021701,"comment_content":"# -*- coding: utf-8-*-<br>import numpy as np<br>scoretype=np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;Chinese&#39;,&#39;English&#39;,&#39;Math&#39;],<br>                     &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]})<br>peoples=np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),<br>                  (&#39;zhaoyun&#39;,93,92,96),(&#39;hunagzhong&#39;,90,88,77),<br>                  (&#39;dianwei&#39;,80,90,90)],dtype=scoretype)<br>Names=peoples[:][&#39;name&#39;]<br>Chineses=peoples[:][&#39;Chinese&#39;]<br>Englishs=peoples[:][&#39;English&#39;]<br>Maths=peoples[:][&#39;Math&#39;]<br><br>#统计平均成绩<br>print(np.mean(Chineses))<br>print(np.mean(Englishs))<br>print(np.mean(Maths))<br>#统计最小成绩<br>print(np.amin(Chineses))<br>print(np.amin(Englishs))<br>print(np.amin(Maths))<br>#统计最大成绩<br>print(np.amax(Chineses))<br>print(np.amax(Englishs))<br>print(np.amax(Maths))<br>#方差<br>print(np.std(Chineses))<br>print(np.std(Englishs))<br>print(np.std(Maths))<br>#标准差<br>print(np.var(Chineses))<br>print(np.var(Englishs))<br>print(np.var(Maths))<br><br>#定义函数用于显示每一排的内容<br>def show(name,cj):<br>    print(&#39;{} | {} | {} | {} | {} | {} &#39;<br>          .format(name,np.mean(cj),np.min(cj),np.max(cj),np.var(cj),np.std(cj)))<br><br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>show(&quot;语文&quot;, Chineses)<br>show(&quot;英语&quot;, Englishs)<br>show(&quot;数学&quot;, Maths)<br>#排序<br>ranking =sorted(peoples,key=lambda x:(x[1]+x[2]+x[3]),reverse=True)<br>print(ranking)","like_count":1},{"had_liked":false,"id":287255,"user_name":"吃鱼","can_delete":false,"product_type":"c1","uid":1898478,"ip_address":"","ucode":"C4EF2036F36000","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/ee/f7f45ca9.jpg","comment_is_top":false,"comment_ctime":1617857968,"is_pvip":false,"replies":[{"id":"104311","content":"数组擅长的是科学运算，不适合改变形状。如果有改变形状的需求，可以使用pandas中的表格结构DataFrame","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617890793,"ip_address":"","comment_id":287255,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5912825264","product_id":100021701,"comment_content":"想问一下，练习题中用结构数组表示成绩，之后如果想把总成绩添加进该列表，应该怎么操作呢？<br>尝试直接用people[:][&quot;total&quot;] = people[:][&quot;chinese&quot;]+people[:][&quot;english&quot;]+people[:][&quot;math&quot;]，结果报错了，“no field of name total&quot;","like_count":1,"discussions":[{"author":{"id":1898478,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/ee/f7f45ca9.jpg","nickname":"吃鱼","note":"","ucode":"C4EF2036F36000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365859,"discussion_content":"谢谢老师解答！刚继续看您的下一讲就正好讲了Dataframe，两种数据结构比较起来学习，理解更深入了😘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617892788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284398,"user_name":"笨鸟的GPS","can_delete":false,"product_type":"c1","uid":2489987,"ip_address":"","ucode":"62B321A5424FD9","user_header":"https://static001.geekbang.org/account/avatar/00/25/fe/83/b2e833ff.jpg","comment_is_top":false,"comment_ctime":1616227037,"is_pvip":false,"replies":[{"id":"103480","content":"如果你print(type(peoples[0]))你会看到类型为：numpy.void，如果想计算每个人的平均成绩，需要先转为numpy.ndarray类型。<br>以在numpy中计算每个人的平均成绩为例：<br># 先将3门成绩转为数组<br>scores = np.array(peoples[[&#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;]].tolist())<br># 计算每个人的平均成绩<br>print(scores.mean(axis=1))<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616677153,"ip_address":"","comment_id":284398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5911194333","product_id":100021701,"comment_content":"# 对于每门课来说，最高最低成绩、平均成绩、方差、标准差¶<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&#39;zhaoyun&#39;,93,92,96,0),(&#39;huangzhong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],dtype=persontype)<br># 指定的竖列<br>name = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br># 定义函数用于显示每一排的内容<br>def show(name,cj):<br>    print(&#39;{}|{}|{}|{}|{}|{}&#39;.format(name,np.mean(cj),np.min(cj),np.max(cj),np.var(cj),np.std(cj)))<br>print(&quot;科目|平均成绩|最小成绩|最大成绩|方差|标准差&quot;)<br>show(&quot;语文&quot;,chinese)<br>show(&quot;英语&quot;,english)<br>show(&quot;数学&quot;,math)<br><br>peoples[:][&#39;total&#39;]=peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print(&#39;每个按三科总分排序：&#39;,np.sort(peoples,order=&#39;total&#39;))<br><br><br>但是对于每个人来说解法还没思路","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517333,"discussion_content":"如果你print(type(peoples[0]))你会看到类型为：numpy.void，如果想计算每个人的平均成绩，需要先转为numpy.ndarray类型。\n以在numpy中计算每个人的平均成绩为例：\n# 先将3门成绩转为数组\nscores = np.array(peoples[[&amp;#39;chinese&amp;#39;, &amp;#39;english&amp;#39;, &amp;#39;math&amp;#39;]].tolist())\n# 计算每个人的平均成绩\nprint(scores.mean(axis=1))\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616677153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205558,"user_name":"RM","can_delete":false,"product_type":"c1","uid":1829632,"ip_address":"","ucode":"0C48265A17E12F","user_header":"","comment_is_top":false,"comment_ctime":1586673294,"is_pvip":false,"replies":[{"id":"104219","content":"这是由于数据容器的特性所导致的。在Python中，列表属于可变有序容器，而元组属于不可变有序容器。由于这一特性，元组可以作为字典的键，而列表不可以。我们使用dtype=persontype构建的数组，传入的每个元组构成的是是数组中的一个numpy.void元素，该元素不可增减元素内的子元素，而列表不满足这一特性。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617731102,"ip_address":"","comment_id":205558,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881640590","product_id":100021701,"comment_content":"您好，麻烦问一下 把（）改为[]加上,dtype=persontype为什么会报错呢？如下：<br>peoples = np.array([[&quot;ZhangFei&quot;,75,100,90],[&quot;GuanYu&quot;,85,96,88], [&quot;ZhaoYun&quot;,85,92,96],[&quot;HuangZhong&quot;,65,85,100]],dtype=persontype)<br>print(peoples)<br>ValueError: invalid literal for int() with base 10: &#39;ZhangFei&#39;","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491511,"discussion_content":"这是由于数据容器的特性所导致的。在Python中，列表属于可变有序容器，而元组属于不可变有序容器。由于这一特性，元组可以作为字典的键，而列表不可以。我们使用dtype=persontype构建的数组，传入的每个元组构成的是是数组中的一个numpy.void元素，该元素不可增减元素内的子元素，而列表不满足这一特性。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617731102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195677,"user_name":"十六。","can_delete":false,"product_type":"c1","uid":1935100,"ip_address":"","ucode":"DD4A02E3D904D5","user_header":"","comment_is_top":false,"comment_ctime":1585211300,"is_pvip":false,"replies":[{"id":"104350","content":"在本节中numpy求单个同学成绩的结果较为繁琐。可以使用下节课的DataFrame来实现，会简单很多。<br>sort和sorted区别总结的不错！继续加油！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617904375,"ip_address":"","comment_id":195677,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5880178596","product_id":100021701,"comment_content":"当我做到求所有同学成绩和时，我卡主了，我想到了sum，到老师教程看发现没有提到，我也为没有，上网搜了一下numpy中有sum的用法也是用来求和的，但在这里好像很难做到将每一个同学的语数外成绩取出来，暂时还没有想到方法，如果有同学老师知道的，还望指教！！！谢谢<br>留言第一名同学的输出总成绩排序使用sorted方法，让我受益匪浅<br>sort 与 sorted 区别：<br>sort 是应用在 list 上的方法，sorted 可以对所有可迭代的对象进行排序操作。<br>list 的 sort 方法返回的是对已经存在的列表进行操作，无返回值，而内建函数 sorted 方法返回的是一个新的 list，而不是在原来的基础上进行的操作。key -- 主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。摘自菜鸟教程中sorted的用法<br><br>我写的代码较low就不发了","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489145,"discussion_content":"在本节中numpy求单个同学成绩的结果较为繁琐。可以使用下节课的DataFrame来实现，会简单很多。\nsort和sorted区别总结的不错！继续加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617904375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127631,"user_name":"Helen","can_delete":false,"product_type":"c1","uid":1579384,"ip_address":"","ucode":"EFA05021DAD582","user_header":"https://static001.geekbang.org/account/avatar/00/18/19/78/e5b3c009.jpg","comment_is_top":false,"comment_ctime":1566754613,"is_pvip":false,"replies":[{"id":"63513","content":"dtype就是Numpy数据类型对象<br>比如 print(a.dtype) 显示 int32，说明a的数据类型是 int32<br>sorted(key=lambda)，这里用到了参数key，也就是关键词，lambda是个隐函数，<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>这里就是按照参数x中的x[1]+x[2]+x[3]之和进行排序","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577516039,"ip_address":"","comment_id":127631,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861721909","product_id":100021701,"comment_content":"请问老师能不能详细讲下dtype和key=lambda是什么意思，怎么用。谢谢。","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464586,"discussion_content":"dtype就是Numpy数据类型对象\n比如 print(a.dtype) 显示 int32，说明a的数据类型是 int32\nsorted(key=lambda)，这里用到了参数key，也就是关键词，lambda是个隐函数，\nranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)\n这里就是按照参数x中的x[1]+x[2]+x[3]之和进行排序","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94167,"user_name":"rex_zhong","can_delete":false,"product_type":"c1","uid":1528068,"ip_address":"","ucode":"DFC38815E8F758","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/04/5ae116c1.jpg","comment_is_top":false,"comment_ctime":1557736106,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5852703402","product_id":100021701,"comment_content":"a = np.array([[1,2,3], [3,4,5], [7,8,9]])<br> print np.percentile(a, 70)<br><br>输出：6.199999999999999<br>可否解释一下这个原理，尤其是percentile的参数为除了0 50 100以外的其他数的含义，以及当他等于70的时候的演算过程，为啥等于6.1999","like_count":1,"discussions":[{"author":{"id":1560486,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLs1FRrgeeEYvfZLvGqqgIS1bZamyMvUFsIr0qG4vV3nLDnUc7VGlNq2Rm3AHN7MHFDm8s88fvpcA/132","nickname":"Geek_ab1278","note":"","ucode":"BEFF06D7759A89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":980,"discussion_content":"找到一个数需要小于等于数组中70%的数字，同时要大于30%的数字","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562220453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72574,"user_name":"不知道","can_delete":false,"product_type":"c1","uid":1371460,"ip_address":"","ucode":"9052F6F0D72383","user_header":"https://static001.geekbang.org/account/avatar/00/14/ed/44/1b4a63dd.jpg","comment_is_top":false,"comment_ctime":1551670186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846637482","product_id":100021701,"comment_content":"当ndarray的秩大于2的时候怎么表示，还有就是各种求最大最小或排序的时候，把axis=2的时候该怎么理解","like_count":1},{"had_liked":false,"id":61616,"user_name":"柚子","can_delete":false,"product_type":"c1","uid":1382672,"ip_address":"","ucode":"721F6C7F5DD303","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI45zO9GOMquk9JymTibN9sC25Sy4WtsDGRQzIRVIoIzPnaJGKmGe3jXqxP0zKZyTYazrXHBGYjBzw/132","comment_is_top":false,"comment_ctime":1547736045,"is_pvip":false,"replies":[{"id":"64721","content":"很好的笔记和作业","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577624697,"ip_address":"","comment_id":61616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842703341","product_id":100021701,"comment_content":"学习笔记：https:&#47;&#47;blog.csdn.net&#47;hahaha66888&#47;article&#47;details&#47;86523526<br>练习题代码如下<br>import numpy as np<br>dt = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>             &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>person = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype = dt)<br><br>chinese = person[:][&#39;chinese&#39;]<br>english = person[:][&#39;english&#39;]<br>maths = person[:][&#39;math&#39;]<br><br>#平均成绩<br>print(np.mean(chinese))<br>print(np.mean(english))<br>print(np.mean(maths))<br><br>#最大成绩<br>print(np.amax(chinese))<br>print(np.amax(english))<br>print(np.amax(maths))<br><br>#最小成绩<br>print(np.amin(chinese))<br>print(np.amin(english))<br>print(np.amin(maths))<br><br>#方差<br>print(np.std(chinese))<br>print(np.std(english))<br>print(np.std(maths))<br><br>#标准差<br>print(np.var(chinese))<br>print(np.var(english))<br>print(np.var(maths))<br><br>成绩之和排序：<br>def fun(a):<br>    return a[1]+a[2]+a[3]<br>print(sorted(person,key = fun,reverse=True))","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436929,"discussion_content":"很好的笔记和作业","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577624697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55005,"user_name":"修.","can_delete":false,"product_type":"c1","uid":1361856,"ip_address":"","ucode":"4016EC7746D3AC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epDFniaeaP8cGKfMic9pFlOOyUQpISjaHGEoBQWjiae2zZhzhgQNfST3K9zeQicajSdFs11nMhfuQB4ibQ/132","comment_is_top":false,"comment_ctime":1545999850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840967146","product_id":100021701,"comment_content":"懵逼的听完了，数学小白啊！感觉够呛啊！如何补救啊？","like_count":1},{"had_liked":false,"id":52462,"user_name":"从未在此","can_delete":false,"product_type":"c1","uid":1354589,"ip_address":"","ucode":"5A4AA275D8EE9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/5d/430ed3b6.jpg","comment_is_top":false,"comment_ctime":1545386615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840353911","product_id":100021701,"comment_content":"跟大家说下，axis＝0代表跨行计算，＝1代表跨列。这样就很容易理解了。我当初百度找的，一下子就通了","like_count":1},{"had_liked":false,"id":52210,"user_name":"小葱拌豆腐","can_delete":false,"product_type":"c1","uid":1352081,"ip_address":"","ucode":"AD5B93332715A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/91/207f88b5.jpg","comment_is_top":false,"comment_ctime":1545352460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840319756","product_id":100021701,"comment_content":"老师，请问一下您，对于没学过高数的，又是第一次接触计算机语言的，该如何入门呢？","like_count":1},{"had_liked":false,"id":52182,"user_name":"中国梦","can_delete":false,"product_type":"c1","uid":1151239,"ip_address":"","ucode":"A0F87F106C5BED","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/07/f270f35f.jpg","comment_is_top":false,"comment_ctime":1545329290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840296586","product_id":100021701,"comment_content":"占楼，明天练习一下","like_count":1},{"had_liked":false,"id":358258,"user_name":"德德","can_delete":false,"product_type":"c1","uid":2183104,"ip_address":"上海","ucode":"336B587D2D8F1D","user_header":"https://static001.geekbang.org/account/avatar/00/21/4f/c0/9179ed42.jpg","comment_is_top":false,"comment_ctime":1664148742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664148742","product_id":100021701,"comment_content":"建议举例增加男朋友身高特征，因为读者有很多是妹子","like_count":0},{"had_liked":false,"id":356084,"user_name":"Geek_889ca5","can_delete":false,"product_type":"c1","uid":2028412,"ip_address":"广东","ucode":"B960CE6930C198","user_header":"","comment_is_top":false,"comment_ctime":1661955688,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661955688","product_id":100021701,"comment_content":"import numpy as np<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;]<br>\t, &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>#score = np.array([(&#39;张飞&#39;,66,65,30),(&#39;关羽&#39;,95,85,98),(&#39;赵云&#39;,93,92,96),(&#39;黄忠&#39;,90,88,77),(&#39;典韦&#39;,80,90,90)]<br>#\t, dtype=scoretype)<br><br>score = np.array([(&#39;zf&#39;,66,65,30,0),(&#39;gy&#39;,95,85,98,0),(&#39;zy&#39;,93,92,96,0),(&#39;hz&#39;,90,88,77,0),(&#39;dw&#39;,80,90,90,0)]<br>\t, dtype=scoretype)<br><br>print(&quot;语文平均成绩为：&quot;,np.average(score[:][&#39;chinese&#39;]))<br>print(&quot;语文最小成绩为：&quot;,np.amin(score[:][&#39;chinese&#39;]))<br>print(&quot;语文最大成绩为：&quot;,np.amax(score[:][&#39;chinese&#39;]))<br>print(&quot;语文方差成绩为：&quot;,np.var(score[:][&#39;chinese&#39;]))<br>print(&quot;语文标准差成绩为：&quot;,np.std(score[:][&#39;chinese&#39;]))<br><br><br>print(&quot;数学平均成绩为：&quot;,np.average(score[:][&#39;math&#39;]))<br>print(&quot;数学最小成绩为：&quot;,np.amin(score[:][&#39;math&#39;]))<br>print(&quot;数学最大成绩为：&quot;,np.amax(score[:][&#39;math&#39;]))<br>print(&quot;数学方差成绩为：&quot;,np.var(score[:][&#39;math&#39;]))<br>print(&quot;数学标准差成绩为：&quot;,np.std(score[:][&#39;math&#39;]))<br><br><br>print(&quot;英语平均成绩为：&quot;,np.average(score[:][&#39;english&#39;]))<br>print(&quot;英语最小成绩为：&quot;,np.amin(score[:][&#39;english&#39;]))<br>print(&quot;英语最大成绩为：&quot;,np.amax(score[:][&#39;english&#39;]))<br>print(&quot;英语方差成绩为：&quot;,np.var(score[:][&#39;english&#39;]))<br>print(&quot;英语标准差成绩为：&quot;,np.std(score[:][&#39;english&#39;]))<br><br><br>for x in range(len(score)):<br>\tscore[x][&#39;total&#39;] = score[x][1]+score[x][2]+score[x][3]<br><br>order = np.sort(score, order=&#39;total&#39;)<br>for x in range(len(order)):<br>\tprint(order[x][&#39;name&#39;],order[x][&#39;total&#39;],x+1)","like_count":0},{"had_liked":false,"id":350427,"user_name":"Geek_3794ca","can_delete":false,"product_type":"c1","uid":3045446,"ip_address":"","ucode":"B98A3285541C5C","user_header":"","comment_is_top":false,"comment_ctime":1656907017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656907017","product_id":100021701,"comment_content":"NumPy, Tensorflow, Pandas这些都是什么关系 ","like_count":0},{"had_liked":false,"id":349076,"user_name":"zong","can_delete":false,"product_type":"c1","uid":2414187,"ip_address":"","ucode":"B245DA27DED469","user_header":"https://static001.geekbang.org/account/avatar/00/24/d6/6b/69544084.jpg","comment_is_top":false,"comment_ctime":1655715158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655715158","product_id":100021701,"comment_content":"轴的定义不理解，axis=0,axis=1,怎么去看的","like_count":0},{"had_liked":false,"id":345588,"user_name":"小陌白","can_delete":false,"product_type":"c1","uid":2930368,"ip_address":"","ucode":"DC380CC0F47835","user_header":"https://static001.geekbang.org/account/avatar/00/2c/b6/c0/5dad741f.jpg","comment_is_top":false,"comment_ctime":1652415436,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652415436","product_id":100021701,"comment_content":"import numpy as np<br>def printScore(name, container):<br>    print(&#39;%s | %f | %d | %d | %f | %f&#39; %(name, np.mean(container), np.amin(container), np.amax(container), np.var(container), np.std(container)))<br>    <br>studenttype = np.dtype({&#39;names&#39; : [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;], &#39;formats&#39; : [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]}) # 中文类型不能用S32，S只支持ascii编码<br>students = np.array([(&#39;张飞&#39;, 66, 65, 30, 0), (&#39;关羽&#39;, 95, 85, 98, 0), (&#39;赵云&#39;, 93, 92, 96, 0), (&#39;黄忠&#39;, 90, 88, 77, 0), (&#39;典韦&#39;, 80, 90, 90, 0)], dtype = studenttype)<br>students[&#39;total&#39;] = students[&#39;chinese&#39;] + students[&#39;math&#39;] + students[&#39;english&#39;]<br>chinese = students[&#39;chinese&#39;]<br>english = students[&#39;english&#39;]<br>math = students[&#39;math&#39;]<br><br>print(&#39;----------成绩统计----------&#39;)<br>print(&#39;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&#39;)<br>printScore(&#39;语文&#39;, chinese)<br>printScore(&#39;英语&#39;, english)<br>printScore(&#39;数学&#39;, math)<br>print(&#39;未按总成绩排序前：%s&#39; %students)<br>print(&#39;按总成绩排序后：%s&#39; %np.sort(students, order = &#39;total&#39;)[::-1]) # 按总分先从小到大排序后再反转数组<br>","like_count":0},{"had_liked":false,"id":341892,"user_name":"Ling","can_delete":false,"product_type":"c1","uid":1763758,"ip_address":"","ucode":"BD2EED14EBE421","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e9/ae/cd440ff5.jpg","comment_is_top":false,"comment_ctime":1649904874,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649904874","product_id":100021701,"comment_content":"老师，这段是不是写错了？<br>“axis=0 轴是把元素看成了[1,4,7], [2,5,8], [3,6,9]三个元素，所以最小值为[1,2,3]，amin(a,1) 是延着 axis=1 轴的最小值，axis=1 轴是把元素看成了[1,2,3], [4,5,6], [7,8,9]三个元素，所以最小值为[1,4,7]。”","like_count":0},{"had_liked":false,"id":331778,"user_name":"lhs","can_delete":false,"product_type":"c1","uid":1252206,"ip_address":"","ucode":"41178CC21337FB","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/6e/1bc87ac8.jpg","comment_is_top":false,"comment_ctime":1642756747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642756747","product_id":100021701,"comment_content":"python3实现，输出格式参考了排名第一和第二的同学<br>#!&#47;usr&#47;bin&#47;env python3<br># -*- coding: utf-8 -*-<br>import numpy as np<br>#定义学生结构体<br>persontype = np.dtype({<br> &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br> &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br> })<br><br>#初始化成绩<br>peoples = np.array([<br>     (&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),(&quot;zhaoyun&quot;,93,92,96,0),(&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)   <br> ],dtype=persontype)<br><br>#计算函数<br>def show(name,cj =[]):<br> print(&#39;{} | {} | {} | {} |{}&#39;.format(name,np.mean(cj),np.amin(cj),np.amax(cj),np.std(cj),np.var(cj)))<br><br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 标准差 | 方差&quot;)<br>show(&#39;语文&#39;,chineses)<br>show(&#39;英语&#39;,englishs)<br>show(&#39;数学&#39;,maths)<br><br>#利用sort进行排序，从大到小排序技巧：给总成绩加个负数，输出时再变为正值<br>peoples[&#39;total&#39;] = -(peoples[&#39;chinese&#39;] +  peoples[&#39;english&#39;] + peoples[&#39;math&#39;])<br>peoples = np.sort(peoples,order = &#39;total&#39;)<br><br>#打印成绩排行榜<br>print(&quot;姓名 | 总成绩 | 排行&quot;)<br>rank = 1<br>for people in peoples:<br>\tprint(&#39;{} | {} | {}&#39;.format(people[&#39;name&#39;],-people[&#39;total&#39;],rank))<br>\trank += 1","like_count":0},{"had_liked":false,"id":320487,"user_name":"Lynn","can_delete":false,"product_type":"c1","uid":2838636,"ip_address":"","ucode":"99F75F49ACA266","user_header":"https://static001.geekbang.org/account/avatar/00/2b/50/6c/cb774ec3.jpg","comment_is_top":false,"comment_ctime":1636351974,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636351974","product_id":100021701,"comment_content":"写中文的时候报错，是不能用S32吗？","like_count":0},{"had_liked":false,"id":315728,"user_name":"Walter","can_delete":false,"product_type":"c1","uid":1261228,"ip_address":"","ucode":"E4C673D5F0CA59","user_header":"https://static001.geekbang.org/account/avatar/00/13/3e/ac/ac66ac8b.jpg","comment_is_top":false,"comment_ctime":1633955040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633955040","product_id":100021701,"comment_content":"sums = np.add(chineses,englishs,maths)<br>arrIndex = np.array(sums).argsort()<br>ranking = names[arrIndex]<br>print(ranking)","like_count":0},{"had_liked":false,"id":313525,"user_name":"picoasis","can_delete":false,"product_type":"c1","uid":1217329,"ip_address":"","ucode":"D5113416FF2B14","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/31/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1632474103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632474103","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-<br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br>import numpy as np<br><br> #初始化<br>score_dtype = np.dtype({<br> \t&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;,&#39;rank&#39;],<br> \t&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>scores = np.array([<br>\t(&#39;ZhangFei&#39;,66,65,30,0,0),<br>\t(&#39;GuanYu&#39;,95,85,98,0,0),<br>\t(&#39;ZhaoYun&#39;,93,92,96,0,0),<br>\t(&#39;HuangZhong&#39;,90,88,77,0,0),<br>\t(&#39;DianWei&#39;,80,90,90,0,0)<br>\t],dtype = score_dtype)<br><br>cn_sc = scores[&#39;chinese&#39;]<br>en_sc = scores[&#39;english&#39;]<br>mt_sc = scores[&#39;math&#39;]<br>scores[&#39;total&#39;]= cn_sc + en_sc + mt_sc  #??? 引用字段名称产生的数组，是原始数组的视图，会改变原始数组呀<br># ranking = np.sort(scores, order=&#39;total&#39; )<br>ranking= sorted(scores,reverse=True,key = lambda x:x[&#39;total&#39;])<br><br>i = 1<br>N = len(scores)<br>ranks=np.zeros(N)<br>while i &lt;= N:<br>\tranks[i-1]=i<br>\ti+=1<br><br>scores[&#39;rank&#39;] = ranks<br>print(scores)<br><br><br>def show(xkname,xkscore):<br>\tprint(&#39;{} | {} | {} | {} | {:.2f} | {:.2f}&#39;<br>\t\t.format(xkname,np.mean(xkscore),np.min(xkscore),np.max(xkscore),np.var(xkscore),np.std(xkscore)))<br><br>print(&quot;科目|平均成绩|最小成绩|最大成绩|方差|标准差&quot;)<br>show(&#39;语文&#39;,cn_sc )<br>show(&#39;数学&#39;,mt_sc)<br>show(&#39;英语&#39;,en_sc)","like_count":0},{"had_liked":false,"id":309722,"user_name":"俯瞰风景.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1630314040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630314040","product_id":100021701,"comment_content":"import numpy as np<br><br>张飞 = np.array([66, 65, 30])<br>关羽 = np.array([95, 85, 98])<br>赵云 = np.array([93, 92, 96])<br>黄忠 = np.array([90, 88, 77])<br>典韦 = np.array([80, 90, 90])<br><br>grades = np.array([张飞, 关羽, 赵云, 黄忠, 典韦])<br><br># 平均成绩<br>print(np.mean(grades, axis=1))<br># 最小成绩<br>print(np.min(grades, axis=1))<br># 最大成绩<br>print(np.max(grades, axis=1))<br># 方差<br>print(np.var(grades, axis=1))<br># 标准差<br>print(np.std(grades, axis=1))<br># 总成绩排序<br>print(np.sort(np.sum(grades, axis=1), axis=0))","like_count":0},{"had_liked":false,"id":306653,"user_name":"唐沐","can_delete":false,"product_type":"c1","uid":2716133,"ip_address":"","ucode":"7748251F53E3AD","user_header":"","comment_is_top":false,"comment_ctime":1628657925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628657925","product_id":100021701,"comment_content":"<br>a = np.array([[4,3,2],[2,4,1]])<br>print np.sort(a)<br>print np.sort(a, axis=None)<br>print np.sort(a, axis=0)  <br>print np.sort(a, axis=1)  <br>这个列子里面，axis=0时按什么排序的","like_count":0},{"had_liked":false,"id":305972,"user_name":"longMe","can_delete":false,"product_type":"c1","uid":2181772,"ip_address":"","ucode":"A02210EDB2E163","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM0FXOlmrpMx1WjuXYWEVA7GyRms1l6UhH5ggKm3e5ibIW2F7bHN43OQKdUYF7KQkyBg/132","comment_is_top":false,"comment_ctime":1628252046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628252046","product_id":100021701,"comment_content":"感觉接触的有点晚了啊","like_count":0},{"had_liked":false,"id":303629,"user_name":"CarlTheG","can_delete":false,"product_type":"c1","uid":2702782,"ip_address":"","ucode":"0E95122010BC96","user_header":"","comment_is_top":false,"comment_ctime":1626883620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626883620","product_id":100021701,"comment_content":"import numpy as np <br><br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;Chinese&#39;,&#39;Math&#39;,&#39;English&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br><br>people = np.array([(&#39;Zhang Fei&#39;,66,65,30),(&#39;Guan Yu&#39;,95,85,98),(&#39;Zhao Yun&#39;,93,92,96),(&#39;Huang Zhong&#39;,90,88,77),<br>                   (&#39;Dian Wei&#39;,80,90,90)],dtype=persontype)<br>names = people[:][&#39;name&#39;]<br>chinese_scores = people[:][&#39;Chinese&#39;]<br>math_scores = people[:][&#39;Math&#39;]<br>english_scores = people[:][&#39;English&#39;]<br><br>#各科平均分<br>avg_scores = np.average(chinese_scores),np.average(math_scores),np.average(english_scores)<br>#各科最高分<br>highest_scores = {&#39;Chinese&#39;:np.max(chinese_scores),&#39;Math&#39;:np.max(math_scores),&#39;English&#39;:np.max(english_scores)}<br>#各科最低分<br>lowest_scores = {&#39;Chinese&#39;:np.min(chinese_scores),&#39;Math&#39;:np.min(math_scores),&#39;English&#39;:np.min(english_scores)}<br>#各科成绩方差<br>var_scores = {&#39;Chinese&#39;:np.var(chinese_scores),&#39;Math&#39;:np.var(math_scores),&#39;English&#39;:np.var(english_scores)}<br>#各科成绩标准差<br>std_scores = {&#39;Chinese&#39;:np.std(chinese_scores),&#39;Math&#39;:np.std(math_scores),&#39;English&#39;:np.std(english_scores)}<br><br>print(avg_scores)<br>print(highest_scores)<br>print(lowest_scores)<br>print(var_scores)<br>print(std_scores)<br><br>def calculate_total_score():<br>    total_scores = {} <br>    for i in range(len(chinese_scores)):<br>        total_scores[names[i]] = chinese_scores[i]+ math_scores[i] + english_scores[i]<br>    return total_scores   <br><br>calculate_total_score()<br><br>ranked_scores = sorted(total_scores.items(), key = lambda item:item[1])<br><br>ranked_scores","like_count":0},{"had_liked":false,"id":300905,"user_name":"Geek1185","can_delete":false,"product_type":"c1","uid":2028954,"ip_address":"","ucode":"47BEE492EF4C1A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/9a/63dc81a2.jpg","comment_is_top":false,"comment_ctime":1625449060,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625449060","product_id":100021701,"comment_content":"没有python基础，怎样加微信群","like_count":0},{"had_liked":false,"id":298202,"user_name":"沙","can_delete":false,"product_type":"c1","uid":2641625,"ip_address":"","ucode":"E8749E3999CBE6","user_header":"https://static001.geekbang.org/account/avatar/00/28/4e/d9/426c5bc0.jpg","comment_is_top":false,"comment_ctime":1623944281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623944281","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;DianWei&quot;,80,90,90)],<br>    dtype=persontype)<br>name = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>total = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br><br>print(&#39;语文成绩&#39;)<br>print(&#39;平均成绩&#39;,np.mean(chineses))<br>print(&#39;最小成绩&#39;,np.min(chineses))<br>print(&#39;最大成绩&#39;,np.max(chineses))<br>print(&#39;方差&#39;,round(np.var(chineses),2))<br>print(&#39;标准差&#39;,round(np.std(chineses),2))<br><br>print(&#39;数学成绩&#39;)<br>print(&#39;平均成绩&#39;,np.mean(maths))<br>print(&#39;最小成绩&#39;,np.min(maths))<br>print(&#39;最大成绩&#39;,np.max(maths))<br>print(&#39;方差&#39;,round(np.var(maths),2))<br>print(&#39;标准差&#39;,round(np.std(maths),2))<br><br>print(&#39;英语成绩&#39;)<br>print(&#39;平均成绩&#39;,np.mean(englishs))<br>print(&#39;最小成绩&#39;,np.min(englishs))<br>print(&#39;最大成绩&#39;,np.max(englishs))<br>print(&#39;方差&#39;,round(np.var(englishs),2))<br>print(&#39;标准差&#39;,round(np.std(englishs),2))<br><br>print(np.sort(total))<br>print(np.sort(peoples,order=&#39;name&#39;))","like_count":0},{"had_liked":false,"id":297283,"user_name":"Yakir","can_delete":false,"product_type":"c1","uid":1462651,"ip_address":"","ucode":"7589D7A03C24C9","user_header":"https://static001.geekbang.org/account/avatar/00/16/51/7b/e3f2ab3d.jpg","comment_is_top":false,"comment_ctime":1623404186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623404186","product_id":100021701,"comment_content":"#假设一个团队里有 5 名学员，成绩如下表所示。<br>#你可以用 NumPy 统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>#然后把这些人的总成绩排序，得出名次进行成绩输出。<br><br><br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;:[&#39;U32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>peoples = np.array([(&quot;张飞&quot;,66,65,30),(&quot;关羽&quot;,95,85,98),<br>       (&quot;赵云&quot;,93,92,96),(&quot;黄忠&quot;,90,88,77),(&quot;典韦&quot;,80,90,90)],<br>    dtype=persontype)<br><br>chineses = peoples[:][&#39;chinese&#39;]#语文<br>englishs = peoples[:][&#39;english&#39;]#英语<br>maths = peoples[:][&#39;math&#39;]#数学<br><br><br>print (&quot;语文平均成绩&quot; , np.mean(chineses))<br>print (&quot;语文最小成绩&quot; , np.amin(chineses))<br>print (&quot;语文最大成绩&quot; , np.amax(chineses))<br>print (&quot;语文方差&quot; , np.var(chineses))<br>print (&quot;语文标准差&quot; , np.std(chineses))<br><br>print ()<br><br>print (&quot;英语平均成绩&quot; , np.mean(englishs))<br>print (&quot;英语最小成绩&quot; , np.amin(englishs))<br>print (&quot;英语最大成绩&quot; , np.amax(englishs))<br>print (&quot;英语方差&quot; , np.var(englishs))<br>print (&quot;英语标准差&quot; , np.std(englishs))<br><br>print ()<br><br>print (&quot;数学平均成绩&quot; , np.mean(maths))<br>print (&quot;数学最小成绩&quot; , np.amin(maths))<br>print (&quot;数学最大成绩&quot; , np.amax(maths))<br>print (&quot;数学方差&quot; , np.var(maths))<br>print (&quot;数学标准差&quot; , np.std(maths))<br><br>print ()<br><br>names = peoples[:][&#39;name&#39;]#名字<br>grades = {}<br><br>for name in names:<br>\tfor people in peoples:<br>\t\tif people[&#39;name&#39;] == name:<br>\t\t\tgrades[name] =  people[&#39;chinese&#39;] + people[&#39;english&#39;] + people[&#39;math&#39;]<br>\t\t\tbreak<br><br>gradesArr = sorted(grades.items(), key=lambda item:item[1], reverse=True)<br><br>print (&#39;成绩按顺序排列：&#39; , gradesArr)<br><br>for number in range(len(gradesArr)):<br>\tprint( &#39;第&#39;, number ,&#39;名:&#39; , gradesArr[number][0], &quot;总分：&quot;, gradesArr[number][1])<br>","like_count":0},{"had_liked":false,"id":296172,"user_name":"曾少年","can_delete":false,"product_type":"c1","uid":1639155,"ip_address":"","ucode":"786F9C96779ABC","user_header":"https://static001.geekbang.org/account/avatar/00/19/02/f3/21436806.jpg","comment_is_top":false,"comment_ctime":1622791918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622791918","product_id":100021701,"comment_content":" 没了解到“sorted”这个函数的时候自己要把每个人的总成绩先算出来塞到一个新list中再排序，python有不少内置函数还不错，要写出简洁的代码还是要多食用python提供的函数。","like_count":0},{"had_liked":false,"id":295846,"user_name":"so young","can_delete":false,"product_type":"c1","uid":1466567,"ip_address":"","ucode":"26E787E39289E0","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/c7/7c3fd235.jpg","comment_is_top":false,"comment_ctime":1622618656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622618656","product_id":100021701,"comment_content":"老师很用心，受益匪浅","like_count":0},{"had_liked":false,"id":295018,"user_name":"春和景明","can_delete":false,"product_type":"c1","uid":1272482,"ip_address":"","ucode":"A27970A276ECD6","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/a2/f9efd9dc.jpg","comment_is_top":false,"comment_ctime":1622186273,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1622186273","product_id":100021701,"comment_content":"import numpy as np<br><br>person_type = np.dtype({&quot;names&quot;: [&quot;name&quot;, &quot;Chinese&quot;,  &quot;English&quot;, &quot;math&quot;], &quot;formats&quot;: [<br>                       &quot;S32&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;]})<br><br>persons = np.array([(&quot;ZhangFei&quot;, 66, 65, 30), (&quot;GuanYu&quot;, 95, 85, 98), (<br>    &quot;ZhaoYun&quot;, 93, 92, 96), (&quot;HuangZhong&quot;, 90, 88, 77), (&quot;DianWei&quot;, 80, 90, 90)], dtype=person_type)<br><br>print(persons[:][&#39;Chinese&#39;], persons[:][&#39;English&#39;], persons[:][&#39;math&#39;])<br><br>Chinese = np.mean(persons[:][&#39;Chinese&#39;])<br>English = np.mean(persons[:][&#39;English&#39;])<br>math = np.mean(persons[:][&#39;math&#39;])<br>print(Chinese, English, math)<br><br>Chinese = np.amin(persons[:][&#39;Chinese&#39;])<br>English = np.amin(persons[:][&#39;English&#39;])<br>math = np.amin(persons[:][&#39;math&#39;])<br>print(Chinese, English, math)<br><br>Chinese = np.amax(persons[:][&#39;Chinese&#39;])<br>English = np.amax(persons[:][&#39;English&#39;])<br>math = np.amax(persons[:][&#39;math&#39;])<br>print(Chinese, English, math)<br><br>Chinese = np.var(persons[:][&#39;Chinese&#39;])<br>English = np.var(persons[:][&#39;English&#39;])<br>math = np.var(persons[:][&#39;math&#39;])<br>print(Chinese, English, math)<br><br><br>Chinese = np.std(persons[:][&#39;Chinese&#39;])<br>English = np.std(persons[:][&#39;English&#39;])<br>math = np.std(persons[:][&#39;math&#39;])<br>print(Chinese, English, math)","like_count":0},{"had_liked":false,"id":290941,"user_name":"maktub","can_delete":false,"product_type":"c1","uid":2609120,"ip_address":"","ucode":"6BFA296EC2DB0F","user_header":"https://static001.geekbang.org/account/avatar/00/27/cf/e0/21ed0b3a.jpg","comment_is_top":false,"comment_ctime":1619867601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619867601","product_id":100021701,"comment_content":"y2 = np.array([1, 3, 8])<br>print(np.percentile(y2, 50), np.mean(y2))<br>这里取50应该是中位数不是平均数<br>（可验证）","like_count":0},{"had_liked":false,"id":287308,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1617875386,"is_pvip":false,"replies":[{"id":"104308","content":"巧妙使用了DataFrame的agg方法，非常棒！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617887085,"ip_address":"","comment_id":287308,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617875386","product_id":100021701,"comment_content":"import numpy as np<br>import pandas as pd<br>score = pd.DataFrame({<br>    &#39;chinese&#39;:[66,95,93,90,80],<br>    &#39;math&#39;:[65,85,92,90,90],<br>    &#39;english&#39;:[30,98,96,77,90]<br>}, index=[&#39;张飞&#39;, &#39;关羽&#39;, &#39;赵云&#39;,&#39;黄忠&#39;,&#39;典韦&#39;],)<br>func = [&#39;min&#39;,&#39;max&#39;,&#39;mean&#39;,&#39;var&#39;,&#39;std&#39;]<br>table = np.round(score.agg(func),1)<br>sort = np.sum(score, axis=1).sort_values()","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518265,"discussion_content":"巧妙使用了DataFrame的agg方法，非常棒！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617887085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287262,"user_name":"薛倩斐","can_delete":false,"product_type":"c1","uid":2368820,"ip_address":"","ucode":"14E572BF45A31E","user_header":"","comment_is_top":false,"comment_ctime":1617860640,"is_pvip":false,"replies":[{"id":"104310","content":"int在numpy数据类型中默认等价于np.int64, 但str在numpy数据类型中没有等价的类型，所以会显示为空字符串。可以改成&#39;S32&#39;, S代表numpy中的字符串类型，32代表32字节，还有8、16、64等字节。<br>数组中的数据类型可以查看官网：https:&#47;&#47;numpy.org&#47;devdocs&#47;reference&#47;c-api&#47;dtype.html","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617890442,"ip_address":"","comment_id":287262,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617860640","product_id":100021701,"comment_content":"import numpy as np<br>performance = np.dtype([(&quot;name&quot;,str),(&quot;yuwen&quot;,int),(&quot;yingyu&quot;,int),(&quot;shuxue&quot;,int)])<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>        (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=performance)<br>print (&quot;      平均  最大  最小   方差   标准差&quot;)<br>def show(name1):<br>    print (name1,end=&#39;:&#39;)<br>    print (&#39;%4.2f&#39;%np.mean(peoples[name1]),end=&#39; &#39;)<br>    print (&#39;%4.2f&#39;%np.amax(peoples[name1]),end=&#39; &#39;)<br>    print (&#39;%4.2f&#39;%np.amin(peoples[name1]),end=&#39; &#39;)<br>    print (&#39;%4.2f&#39;%np.std(peoples[name1]),end=&#39; &#39;)<br>    print (&#39;%4.2f&#39;%np.var(peoples[name1]))<br>show (&#39;yuwen&#39;)<br>show (&#39;yingyu&#39;)<br>show (&#39;shuxue&#39;)<br>ranking = sorted(peoples,key=lambda x: x[1]+x[2]+x[3],reverse=True)<br>print (ranking)<br><br>请问一下，为何这段代码在最后排序输出不了name，显示都是空","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518251,"discussion_content":"int在numpy数据类型中默认等价于np.int64, 但str在numpy数据类型中没有等价的类型，所以会显示为空字符串。可以改成&amp;#39;S32&amp;#39;, S代表numpy中的字符串类型，32代表32字节，还有8、16、64等字节。\n数组中的数据类型可以查看官网：https://numpy.org/devdocs/reference/c-api/dtype.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617890442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286636,"user_name":"Boom clap!!!","can_delete":false,"product_type":"c1","uid":2443427,"ip_address":"","ucode":"E9AF8ECB963239","user_header":"https://static001.geekbang.org/account/avatar/00/25/48/a3/2df11999.jpg","comment_is_top":false,"comment_ctime":1617440632,"is_pvip":true,"replies":[{"id":"104198","content":"是的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617722661,"ip_address":"","comment_id":286636,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617440632","product_id":100021701,"comment_content":"numpy里有许多自带的函数库，帮助我们简化代码。<br>这是list所不具备的。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518050,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617722661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284028,"user_name":"笨鸟的GPS","can_delete":false,"product_type":"c1","uid":2489987,"ip_address":"","ucode":"62B321A5424FD9","user_header":"https://static001.geekbang.org/account/avatar/00/25/fe/83/b2e833ff.jpg","comment_is_top":false,"comment_ctime":1616044275,"is_pvip":false,"replies":[{"id":"103051","content":"没错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616080492,"ip_address":"","comment_id":284028,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616044275","product_id":100021701,"comment_content":"其实课后题看起来有两种理解:一种是对于人，三门课程的最大最小平均成绩；另一种是对于科目来说，哪个人的最大最小平均成绩。等我回去把两种都写一下","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517207,"discussion_content":"没错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616080492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280499,"user_name":"Runing","can_delete":false,"product_type":"c1","uid":2455215,"ip_address":"","ucode":"ABCCD50DFE6572","user_header":"","comment_is_top":false,"comment_ctime":1614235961,"is_pvip":false,"replies":[{"id":"101917","content":"比如：数组arr = np.arange(2*4*8, 0, -1).reshape(2, 4, 8)<br>arr.shape返回的代表数组形状的元组是(2, 4, 8)，2，4，8分别对应数组中最外侧中括号、中间中括号、最内层中括号；所以你可以理解为对最后一轴排序时，代表对数组最内侧中括号中的元素进行排序。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1614355269,"ip_address":"","comment_id":280499,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1614235961","product_id":100021701,"comment_content":"在“同样 axis 默认是 -1，即沿着数组的最后一个轴进行排序”中，请问数组的最后一个轴是指哪个轴？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516116,"discussion_content":"比如：数组arr = np.arange(2*4*8, 0, -1).reshape(2, 4, 8)\narr.shape返回的代表数组形状的元组是(2, 4, 8)，2，4，8分别对应数组中最外侧中括号、中间中括号、最内层中括号；所以你可以理解为对最后一轴排序时，代表对数组最内侧中括号中的元素进行排序。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614355269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1369916,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e7/3c/738e4363.jpg","nickname":"ljh","note":"","ucode":"4668C641E6D107","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":536818,"discussion_content":"这个说的太复杂了。。。。有更通俗的版本吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638874938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":516116,"ip_address":""},"score":536818,"extra":""}]}]},{"had_liked":false,"id":275630,"user_name":"小晨","can_delete":false,"product_type":"c1","uid":1935063,"ip_address":"","ucode":"B7ADDC309C0D19","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/d7/46842f90.jpg","comment_is_top":false,"comment_ctime":1611625808,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611625808","product_id":100021701,"comment_content":"#encoding=utf-8<br>import numpy as np<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br><br>team = np.array([(&quot;zhangfei&quot;,100,65,30),<br>                 (&quot;guanyu&quot;,76,95,98),<br>                 (&quot;zhaoyun&quot;,93,79,56),<br>                 (&quot;huangzhong&quot;,90,88,77),<br>                 (&quot;dianwei&quot;,80,65,90),<br>                 ],dtype=persontype)<br><br>chinese = team[:][&#39;chinese&#39;]<br>math = team[:][&#39;math&#39;]<br>english = team[:][&#39;english&#39;]<br>print(&#39;语文: AVG:&#39;,np.mean(chinese),&#39; MIN:&#39;,np.min(chinese),&#39; MAX:&#39;,np.max(chinese),&#39; 标准差:&#39;,np.std(chinese),&#39; 方差:&#39;,np.var(chinese))<br>print(&#39;英语: AVG:&#39;,np.mean(english),&#39; MIN:&#39;,np.min(english),&#39; MAX:&#39;,np.max(english),&#39; 标准差:&#39;,np.std(english),&#39; 方差:&#39;,np.var(english))<br>print(&#39;数学: AVG:&#39;,np.mean(math),&#39; MIN:&#39;,np.min(math),&#39; MAX:&#39;,np.max(math),&#39; 标准差:&#39;,np.std(math),&#39; 方差:&#39;,np.var(math))<br><br># 排序方法1<br>print(&#39;按语文成绩排序：&#39;)<br>print(np.sort(team,order=&#39;chinese&#39;))<br>print(&#39;按英语成绩排序：&#39;)<br>print(np.sort(team,order=&#39;english&#39;))<br>print(&#39;按数学成绩排序：&#39;)<br>print(np.sort(team,order=&#39;math&#39;))<br><br><br># 排序方法2<br>print(&#39;按语文成绩排序：&#39;)<br>ranking_chinese = sorted(team,key=lambda x:x[1], reverse=False)<br>print(ranking_chinese)<br>print(&#39;按英语成绩排序：&#39;)<br>ranking_english = sorted(team,key=lambda x:x[2], reverse=False)<br>print(ranking_english)<br>print(&#39;按数学成绩排序：&#39;)<br>ranking_math = sorted(team,key=lambda x:x[3], reverse=False)<br>print(ranking_math)<br><br><br><br><br># reverse = True 降序，False 升序<br># lambda 匿名函数，对三科成绩之和进行排序<br>ranking = sorted(team,key=lambda x:x[1]+x[2]+x[3], reverse=False)<br>","like_count":0},{"had_liked":false,"id":274357,"user_name":"泡泡跑吧","can_delete":false,"product_type":"c1","uid":2388846,"ip_address":"","ucode":"FFFBB1E2B7C73A","user_header":"https://static001.geekbang.org/account/avatar/00/24/73/6e/5ba988a6.jpg","comment_is_top":false,"comment_ctime":1610977362,"is_pvip":false,"replies":[{"id":"100865","content":"希望平台能出个倍速吧哈哈","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1612705099,"ip_address":"","comment_id":274357,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610977362","product_id":100021701,"comment_content":"讲的挺好的，语速要是能自行调整就好了，听着稍微有点快，有压力感。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513988,"discussion_content":"希望平台能出个倍速吧哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612705099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274125,"user_name":"野比浣熊","can_delete":false,"product_type":"c1","uid":2416500,"ip_address":"","ucode":"D1AE4397B20910","user_header":"https://static001.geekbang.org/account/avatar/00/24/df/74/a8bba941.jpg","comment_is_top":false,"comment_ctime":1610864381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610864381","product_id":100021701,"comment_content":"import numpy as np<br><br>persontype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>                     &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;, &#39;66&#39;, &#39;65&#39;, &#39;30&#39;), (&#39;guanyu&#39;, &#39;95&#39;, &#39;85&#39;, &#39;98&#39;),<br>                  (&#39;zhaoyun&#39;, &#39;93&#39;, &#39;92&#39;, &#39;96&#39;), (&#39;huangzhong&#39;, &#39;90&#39;, &#39;88&#39;, &#39;77&#39;),<br>                  (&#39;dianwei&#39;, &#39;80&#39;, &#39;90&#39;, &#39;90&#39;)], <br>                    dtype = persontype)<br># print(peoples)<br>names = peoples[:][&#39;name&#39;]<br># 各科成绩<br>ch = peoples[:][&#39;chinese&#39;]<br>en = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>def show_score(subject, score):<br>    print(&#39;%s|%.8d|%d|%d|%.2f|%f&#39; % (subject, np.mean(score), np.amin(score), <br>                                np.amax(score), np.var(score), np.std(score)))<br><br>print(&#39;科目|平均成绩|最小成绩|最大成绩|方差|标准差&#39;)<br>show_score(&#39;语文&#39;, ch)<br>show_score(&#39;英语&#39;, en)<br>show_score(&#39;数学&#39;, maths)<br>print(&#39;--------------------------------&#39;)<br><br>scores = np.array([ch, <br>                   en, <br>                   maths])<br>one_sum_score = np.sort(np.sum(scores, axis = 0))<br>print(&#39;升序排名：&#39;)<br>print(one_sum_score)<br>print(&#39;降序排名：&#39;)<br>print(-np.sort(-one_sum_score))","like_count":0},{"had_liked":false,"id":273982,"user_name":"要瘦的胖子👋🏼","can_delete":false,"product_type":"c1","uid":1527884,"ip_address":"","ucode":"598037BF56563C","user_header":"https://static001.geekbang.org/account/avatar/00/17/50/4c/22e7b5bf.jpg","comment_is_top":false,"comment_ctime":1610775639,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610775639","product_id":100021701,"comment_content":"# -*- coding:utf-8 -*-<br>&quot;&quot;&quot;<br>作者：Jzkuan<br>日期：2021年01月16日<br>&quot;&quot;&quot;<br><br>import numpy as np<br>import pandas as pd<br><br>peopletype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;sum&#39;], &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array(<br>    [(&#39;zhangfei&#39;, 66, 65, 30, 0), (&#39;guanyu&#39;, 95, 85, 98, 0),<br>     (&#39;zhaoyun&#39;, 93, 92, 96, 0), (&#39;huangzhong&#39;, 90, 88, 77, 0),<br>     (&#39;dianwei&#39;, 80, 90, 90, 0)], dtype=peopletype)<br>name = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br>sum = peoples[:][&#39;sum&#39;]<br><br>def Show(Name, subject):<br>    print(&#39;%s的平均成绩：&#39; % Name, np.mean(subject),<br>          &#39;\\n%s的最小成绩：&#39; % Name, np.min(subject),<br>          &#39;\\n%s的最大成绩：&#39; % Name, np.max(subject),<br>          &#39;\\n%s的方差：&#39; % Name, np.var(subject),<br>          &#39;\\n%s的标准差：&#39; % Name, np.std(subject))<br><br><br>Show(&#39;语文&#39;, chinese)<br>Show(&#39;英语&#39;, english)<br>Show(&#39;数学&#39;, math)<br><br><br># print(np.sum(peoples[:][1:], axis=None))<br>peoples[:][&#39;sum&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>print(pd.Series(sum, index=[&#39;zhangfei&#39;, &#39;guanyu&#39;, &#39;zhaoyun&#39;, &#39;huangzhong&#39;, &#39;dianwei&#39;]).sort_values())<br><br><br>输出结果：<br>语文的平均成绩： 84.8 <br>语文的最小成绩： 66 <br>语文的最大成绩： 95 <br>语文的方差： 114.96000000000001 <br>语文的标准差： 10.721940122944169<br>英语的平均成绩： 84.0 <br>英语的最小成绩： 65 <br>英语的最大成绩： 92 <br>英语的方差： 95.6 <br>英语的标准差： 9.777525249264253<br>数学的平均成绩： 78.2 <br>数学的最小成绩： 30 <br>数学的最大成绩： 98 <br>数学的方差： 634.56 <br>数学的标准差： 25.19047439013406<br>zhangfei      161<br>huangzhong    255<br>dianwei       260<br>guanyu        278<br>zhaoyun       281<br>dtype: int32","like_count":0},{"had_liked":false,"id":268935,"user_name":"健身咸鱼","can_delete":false,"product_type":"c1","uid":1528176,"ip_address":"","ucode":"415CBFF3F158F3","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/70/68b3f0e6.jpg","comment_is_top":false,"comment_ctime":1608437555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608437555","product_id":100021701,"comment_content":"# 练习题代码：按照这篇文章中的方法<br><br># 练习题目: 统计全班成绩<br>import numpy as np<br><br>persontype = np.dtype({<br>    &quot;names&quot;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &quot;formats&quot;: [&#39;S32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br><br>people = np.array([<br>    (&quot;ZhangFei&quot;, 66, 65, 30),<br>    (&quot;GuanYu&quot;, 95, 85, 98),<br>    (&quot;ZhaoYun&quot;, 93, 92, 96),<br>    (&quot;HuangZhong&quot;, 90, 88, 77),<br>    (&quot;DianWei&quot;, 80, 90, 90)],<br>    dtype=persontype)<br><br>chineses = people[:][&#39;chinese&#39;]<br>english = people[:][&#39;english&#39;]<br>maths = people[:][&#39;math&#39;]<br><br>def statistic_func(**kargs: list) -&gt; float:<br>    for k, v in zip(kargs.keys(), kargs.values()):<br>        print(f&quot;the mean value of {k} is {np.mean(v)}&quot; + &#39;\\n&#39;)<br>        print(f&quot;the min value of {k} is {np.amin(v)}&quot; + &#39;\\n&#39;)<br>        print(f&quot;the max value of {k} is {np.amax(v)}&quot; + &#39;\\n&#39;)<br>        print(f&quot;the var value of {k} is {np.var(v)}&quot; + &#39;\\n&#39;)<br>        print(f&quot;the std value of {k} if {np.std(v)}&quot; + &#39;\\n&#39;)<br>    <br><br><br>data = {<br>    &#39;chineses&#39;: chineses,<br>    &#39;english&#39;: english,<br>    &#39;maths&#39;: maths<br>}<br><br><br>statistic_func(**data)<br><br><br>","like_count":0},{"had_liked":false,"id":267500,"user_name":"LXX","can_delete":false,"product_type":"c1","uid":2349160,"ip_address":"","ucode":"6BBE9967406E0F","user_header":"https://static001.geekbang.org/account/avatar/00/23/d8/68/89770b8b.jpg","comment_is_top":false,"comment_ctime":1607773537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607773537","product_id":100021701,"comment_content":"import numpy as np<br><br>personType=np.dtype({<br>    &#39;names&#39;: [&#39;Name&#39;,&#39;Chinese&#39;,&#39;Math&#39;,&#39;English&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br>persons=np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhangyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=personType)<br>print(persons)<br>chinese=persons[:][&#39;Chinese&#39;]<br>math=persons[:][&#39;Math&#39;]<br>english=persons[:][&#39;English&#39;]<br>print(&#39;语文平均成绩：{0}，数学平均成绩：{1}，英语平均成绩：{2}&#39;.format(np.mean(chinese),np.mean(math),np.mean(english)))<br>print(&#39;语文最大值：{0}，数学最大值：{1}，英语最大值：{2}&#39;.format(np.amax(chinese),np.max(math),np.max(english)))<br>print(&#39;语文最小值：{0}，数学最小值：{1}，英语最小值：{2}&#39;.format(np.amin(chinese),np.min(math),np.min(english)))<br>print(&#39;语文标准差：{0}，数学标准差：{1}，英语标准差：{2}&#39;.format(np.std(chinese),np.std(math),np.std(english)))<br>print(&#39;语文方差：{0}，数学方差：{1}，英语方差：{2}&#39;.format(np.var(chinese),np.var(math),np.var(english)))<br><br><br>ranks = sorted(persons,key=lambda s:s[1]+s[2]+s[3])<br>print(ranks)<br>","like_count":0},{"had_liked":false,"id":266084,"user_name":"lhs","can_delete":false,"product_type":"c1","uid":1252206,"ip_address":"","ucode":"41178CC21337FB","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/6e/1bc87ac8.jpg","comment_is_top":false,"comment_ctime":1607161046,"is_pvip":false,"replies":[{"id":"102999","content":"是的哦，在numpy中，这2个方式均可以。老师之所以这样写，是为pandas中DataFrame这个数据格式的索引做铺垫。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1615994062,"ip_address":"","comment_id":266084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607161046","product_id":100021701,"comment_content":"老师，在结构数组的例子中，为什么要用切片的方式取元素呢？试了一下peoples[:][&#39;age&#39;]和peoples[&#39;age&#39;]结果是一样的，结果返回的都是一个列表，老师使用切片方式的原因是什么呢？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511145,"discussion_content":"是的哦，在numpy中，这2个方式均可以。老师之所以这样写，是为pandas中DataFrame这个数据格式的索引做铺垫。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615994062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265275,"user_name":"frango","can_delete":false,"product_type":"c1","uid":2220559,"ip_address":"","ucode":"356D4C152500F7","user_header":"https://static001.geekbang.org/account/avatar/00/21/e2/0f/19520317.jpg","comment_is_top":false,"comment_ctime":1606836575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606836575","product_id":100021701,"comment_content":"import numpy as np<br>a=np.array([i+1 for i in range(98)]<br>print(np.sum(a))","like_count":0},{"had_liked":false,"id":264680,"user_name":"Xxπ。","can_delete":false,"product_type":"c1","uid":2331309,"ip_address":"","ucode":"A6CB7FD4F2D4CC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5CLFE8TnCzSib3XUFsZ3Frh0QD5nSQkAbcslbPgzACjSz83pD8Uf6LqLwfBEqqw8iauMYC3lh3B12g/132","comment_is_top":false,"comment_ctime":1606574351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606574351","product_id":100021701,"comment_content":"import numpy as np<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>                     &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),<br>                    (&quot;GuanYu&quot;,95,85,86),<br>                    (&quot;ZhaoYun&quot;,86,99,89),<br>                    (&quot;HuangZhong&quot;,45,89,48),<br>                    (&quot;DianWei&quot;,86,98,78)],dtype = scoretype)<br>names = peoples[:][&quot;name&quot;]<br>chineses = peoples[:][&quot;chinese&quot;]<br>englishs = peoples[:][&quot;english&quot;]<br>maths = peoples[:][&quot;math&quot;]<br><br>def show(lesson,score):<br>    <br>    print(&quot;科目&quot;,lesson,&quot;平均成绩:&quot;,np.mean(score),<br>          &quot;最低成绩:&quot;,np.amin(score),&quot;最高成绩:&quot;,np.amax(score),<br>          &quot;方差:&quot;,np.var(score),&quot;平均差:&quot;,np.std(score))<br>show(&quot;语文&quot;,chineses)<br>show(&quot;英语&quot;,englishs)<br>show(&quot;数学&quot;,maths)<br>print(&quot;排名：&quot;)<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)<br><br>最后排名的写法借鉴的的留言排第二位的同学，有点搞不清这里x:x[1]+x[2]+x[3]的用法","like_count":0},{"had_liked":false,"id":263932,"user_name":"Geek_Chain","can_delete":false,"product_type":"c1","uid":1615565,"ip_address":"","ucode":"94A23FE0B6929C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL4j3xXIeQr2lFrbG6icUj1L9ibSqEgzCMa76v6wboTTSibyPYSCbjIJZp76O51H3XODg80IAsfJgVzw/132","comment_is_top":false,"comment_ctime":1606297139,"is_pvip":false,"replies":[{"id":"100881","content":"是中位数","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1612706182,"ip_address":"","comment_id":263932,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606297139","product_id":100021701,"comment_content":"同样，percentile() 代表着第 p 个百分位数，这里 p 的取值范围是 0-100，如果 p=0，那么就是求最小值，如果 p=50 就是求平均值，如果 p=100 就是求最大值。同样你也可以求得在 axis=0 和 axis=1 两个轴上的 p% 的百分位数。<br>50分位的意思不是中位数吗？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510354,"discussion_content":"是中位数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612706182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":262447,"user_name":"VictorWu","can_delete":false,"product_type":"c1","uid":1505907,"ip_address":"","ucode":"94AA2A957CFA85","user_header":"https://static001.geekbang.org/account/avatar/00/16/fa/73/3b9cbc69.jpg","comment_is_top":false,"comment_ctime":1605741651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605741651","product_id":100021701,"comment_content":"python3 作业：<br>import numpy as np<br><br># 初始化数据<br>student_score_type = np.dtype([(&quot;name&quot;, np.str_, 16),<br>                               (&quot;chinese&quot;, np.int32),<br>                               (&quot;english&quot;, np.int32),<br>                               (&quot;math&quot;, np.int32)])<br><br>student_score = np.array([(&quot;ZhangFei&quot;,66,65,30), <br>                          (&quot;GuanYu&quot;,95,85,98), <br>                          (&quot;ZhaoYun&quot;,93,92,96), <br>                          (&quot;HuangZhong&quot;,90,88,77), <br>                          (&quot;DianWei&quot;,80,90,90)], dtype=student_score_type)<br><br>def statistics(score: np.ndarray, subject_str: str) -&gt; None:<br>    # assert `score` and `subject_str` is vaild<br>    subject = score[:][subject_str]<br>    subject_mean = np.mean(subject)<br>    subject_amin = np.amin(subject)<br>    subject_amax = np.amax(subject)<br>    subject_var = np.var(subject)<br>    subject_std = np.std(subject)<br>    print(f&quot;{subject_str}成绩\\n平均值为{subject_mean}， 最小值为{subject_amin}，最大值为{subject_amax}，方差为{subject_var}，标准差为{subject_std}\\n\\n&quot;)<br><br># 统计语文数据<br>statistics(student_score, &quot;chinese&quot;)<br><br># 统计英语数据<br>statistics(student_score, &quot;english&quot;)<br><br># 统计数学数据<br>statistics(student_score, &quot;math&quot;)<br><br># 根据总成绩排序<br>student_score_ordered = sorted(student_score, key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>for i, e in enumerate(student_score):<br>    print(f&quot;第{i+1}名为{str(e[0])}。 各科成绩: 语文为{e[1]}，英语为{e[2]}，数学为{e[3]}。&quot;)<br>","like_count":0},{"had_liked":false,"id":251803,"user_name":"璞玉","can_delete":false,"product_type":"c1","uid":2218998,"ip_address":"","ucode":"755CBC52FC3CFA","user_header":"https://static001.geekbang.org/account/avatar/00/21/db/f6/1bed40bb.jpg","comment_is_top":false,"comment_ctime":1601882471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601882471","product_id":100021701,"comment_content":"python的list本质是存储指针和指针指向的变量 操作要对指针进行操作 占用算数资源 所以选用Numpy<br>","like_count":0},{"had_liked":false,"id":251756,"user_name":"咕叽咕叽","can_delete":false,"product_type":"c1","uid":2219371,"ip_address":"","ucode":"0258FF994A5B22","user_header":"https://static001.geekbang.org/account/avatar/00/21/dd/6b/015f66dc.jpg","comment_is_top":false,"comment_ctime":1601828569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601828569","product_id":100021701,"comment_content":"1. 避免指针寻址，直接利用numpy的连续内存存储结构，同时节省了存储指针占用的内存空间；多线程方式的指令计算，充分利用多核cpu计算资源，提升计算效率<br>2.<br>import numpy as np<br>store_type = np.dtype({&quot;name&quot;:[&quot;name&quot;,&quot;chinese&quot;, &quot;english&quot;, &quot;math&quot;], &quot;format&quot;:[&quot;S32&quot;, &quot;f&quot; &quot;f&quot;,&quot;f&quot;]})<br>np.array([(&quot;zhangfei&quot;, 66, 65, 30), (&quot;guanyu&quot;, 95, 85, 98), (&quot;zhaoyun&quot;, 93, 92, 96), (&quot;huangzhong&quot;, 90, 88, 77), (&quot;dianwei&quot;, 80, 90, 90)], dtype=store_type)<br>for lesson in [&#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;]:<br>    print lesson<br>    s = store[:][lesson]<br>    print &quot;mean&quot;, np.mean(s)<br>    print &quot;amax&quot;, np.amax(s)<br>    print &quot;amin&quot;, np.amin(s)<br>    print &quot;std&quot;,  np.std(s)<br>    print &quot;var&quot;, np.var(s)<br>sorted(store, key=lambda x: sum(list(x)[1:]), reverse=True)","like_count":0},{"had_liked":false,"id":249232,"user_name":"跳出溫水的🐸","can_delete":false,"product_type":"c1","uid":1525121,"ip_address":"","ucode":"DCFD1B690955A5","user_header":"https://static001.geekbang.org/account/avatar/00/17/45/81/37599d0d.jpg","comment_is_top":false,"comment_ctime":1600514091,"is_pvip":false,"replies":[{"id":"103054","content":"很棒","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616081514,"ip_address":"","comment_id":249232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600514091","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;python<br>import numpy as np<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br>scoreType = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>peoples = np.array(<br>    [<br>        (&quot;zhangfei&quot;, 66, 65, 30),<br>        (&quot;guanyu&quot;, 95, 85, 98),<br>        (&quot;zhaoyun&quot;, 93, 92, 96),<br>        (&quot;huangzhong&quot;, 90, 88, 77),<br>        (&quot;dianwei&quot;, 80, 90, 90)<br>    ], dtype=scoreType)<br><br>print(peoples)<br><br>names = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br><br><br>def show(name, grade):<br>    log(name)<br>    log(&#39; | &#39;)<br>    log(np.mean(grade))<br>    log(&#39; | &#39;)<br>    log(np.min(grade))<br>    log(&#39; | &#39;)<br>    log(np.max(grade))<br>    log(&#39; | &#39;)<br>    log(np.var(grade))<br>    log(&#39; | &#39;)<br>    log(np.std(grade))<br>    log(&#39; | &#39;, True)<br><br><br>def log(content, is_new_line=False):<br>    if is_new_line is True:<br>        print(content)<br>    else:<br>        print(content, end=&#39;&#39;)<br><br><br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差 |&quot;)<br><br>show(&#39;数学&#39;, math)<br>show(&#39;英语&#39;, english)<br>show(&#39;语文&#39;, chinese)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505874,"discussion_content":"很棒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616081514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249162,"user_name":"李泽南","can_delete":false,"product_type":"c1","uid":1887446,"ip_address":"","ucode":"E60721C0424938","user_header":"","comment_is_top":false,"comment_ctime":1600487608,"is_pvip":false,"replies":[{"id":"103055","content":"很棒，感谢泽南同学的分享","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616081548,"ip_address":"","comment_id":249162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600487608","product_id":100021701,"comment_content":"将S32替换为U32可以设置成为中文列 <br>persontype = np.dtype({<br>        &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>        &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505853,"discussion_content":"很棒，感谢泽南同学的分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616081548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246847,"user_name":"GeekWhite","can_delete":false,"product_type":"c1","uid":1371206,"ip_address":"","ucode":"3F2D04CB8F4021","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/46/9b0aad47.jpg","comment_is_top":false,"comment_ctime":1599491072,"is_pvip":false,"replies":[{"id":"103493","content":"类的定义的代码没有问题。<br>一般类的实例化不建议赋值给原类名，以免出现不必要的错误。可以使用小写字母的变量。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616687081,"ip_address":"","comment_id":246847,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599491072","product_id":100021701,"comment_content":"import numpy as np<br><br><br>class ClassScore:<br>    result_list = []<br><br>    def math_deal(self, peoples):<br>        name_list = peoples.dtype.names<br>        loop = len(name_list)<br>        for index in range(1, loop):<br>            self.formats_deal(name_list[index], peoples[:][name_list[index]])<br><br>    def formats_deal(self, name, subject):<br>        formats = &#39;{} | {} | {} | {} | {}&#39;.format(name, np.min(subject), np.max(subject), np.var(subject),<br>                                                  np.std(subject))<br>        self.result_list.append(formats)<br><br>    def make_serializer(self):<br>        score_type = np.dtype({<br>            &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>            &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>        })<br><br>        peoples = np.array([(&#39;S1&#39;, 66, 30, 65), (&#39;S2&#39;, 95, 98, 85), (&#39;S3&#39;, 93, 92, 96), (&#39;S4&#39;, 90, 88, 77)],<br>                           dtype=score_type)<br>        print(sorted(peoples, key=lambda x: x[1] + x[2] + x[3], reverse=True))<br>        self.math_deal(peoples)<br><br><br>ClassScore = ClassScore()<br><br>if __name__ == &#39;__main__&#39;:<br>    ClassScore.make_serializer()<br>    print(ClassScore.result_list)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505241,"discussion_content":"类的定义的代码没有问题。\n一般类的实例化不建议赋值给原类名，以免出现不必要的错误。可以使用小写字母的变量。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616687081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243859,"user_name":"Adorkable🍧","can_delete":false,"product_type":"c1","uid":1516738,"ip_address":"","ucode":"B2742905093B21","user_header":"https://static001.geekbang.org/account/avatar/00/17/24/c2/5223e43e.jpg","comment_is_top":false,"comment_ctime":1598315158,"is_pvip":false,"replies":[{"id":"103502","content":"正确。还可以思考如何通过for循环来简化代码","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616689574,"ip_address":"","comment_id":243859,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598315158","product_id":100021701,"comment_content":"import numpy as np<br><br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>                       &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;zhangfei&quot;,66,65,30),<br>                    (&quot;guanyu&quot;,95,85,98),<br>                    (&quot;zhaoyun&quot;,93,92,96),<br>                    (&quot;huangzong&quot;,90,88,77),<br>                    (&quot;dianwei&quot;,80,90,90)],dtype=persontype)<br>print  peoples<br>##平均成绩, 最小成绩, 最大成绩, 方差, 标准差、总成绩 <br>#print  np.average(peoples, axis=1)<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br>print &quot;chinese平均分: &quot;, np.average(chinese)<br>print &quot;english平均分: &quot;, np.average(english)<br>print &quot;math平均分: &quot;, np.average(math)<br>print &quot;chinese最大分: &quot;, np.amax(chinese)<br>print &quot;english最大分: &quot;, np.amax(english)<br>print &quot;math最大分: &quot;, np.amax(math)<br>print &quot;chinese最小分: &quot;, np.amin(chinese)<br>print &quot;english最小分: &quot;, np.amin(english)<br>print &quot;math最小分: &quot;, np.amin(math)<br>print &quot;chinese方差: &quot;, np.var(chinese)<br>print &quot;english方差: &quot;, np.var(english)<br>print &quot;math方差: &quot;, np.var(math)<br>print &quot;chinese标准差: &quot;, np.std(chinese)<br>print &quot;english标准差: &quot;, np.std(english)<br>print &quot;math标准差: &quot;, np.std(math)<br>print &quot;成绩综合&quot;, np.add(chinese,english,math)<br>print &quot;人员&quot; , peoples[:][&#39;name&#39;]<br><br>print(&quot;排名:&quot;)<br>ranking =sorted(peoples,cmp = lambda x,y: cmp(x[1]+x[2]+x[3],y[1]+y[2]+y[3]), reverse=True)<br>print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504416,"discussion_content":"正确。还可以思考如何通过for循环来简化代码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616689574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240495,"user_name":"天雪","can_delete":false,"product_type":"c1","uid":2113187,"ip_address":"","ucode":"6A8F3F11EC7D63","user_header":"https://static001.geekbang.org/account/avatar/00/20/3e/a3/f2cdedc8.jpg","comment_is_top":false,"comment_ctime":1596946947,"is_pvip":false,"replies":[{"id":"103074","content":"大部分都相同。print a.shape改成print(a.shape)即可","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616086239,"ip_address":"","comment_id":240495,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596946947","product_id":100021701,"comment_content":"我就想知道 这些代码换成Python3.7的应该怎么写","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503467,"discussion_content":"大部分都相同。print a.shape改成print(a.shape)即可","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616086239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235590,"user_name":"fish","can_delete":false,"product_type":"c1","uid":1096768,"ip_address":"","ucode":"B5FC04A69E0E64","user_header":"https://static001.geekbang.org/account/avatar/00/10/bc/40/12086a85.jpg","comment_is_top":false,"comment_ctime":1595119072,"is_pvip":false,"replies":[{"id":"103510","content":"初学时，对轴的理解确实不太容易。<br>二维数组的轴分为0轴和1轴，你可以把它和df.shape属性得到元组的index对应起来。如：df.shape得到的是(100, 4)，则代表该DataFrame形状是100行4列，axis=0，代表在垂直方向（行间）进行操作，axis=1，代表在水平方向（列间）进行操作。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1616692657,"ip_address":"","comment_id":235590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595119072","product_id":100021701,"comment_content":"二维数组的x  和 y  轴在解释时可否加上配图？ 理解起来有点抽象，要自己画图","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501776,"discussion_content":"初学时，对轴的理解确实不太容易。\n二维数组的轴分为0轴和1轴，你可以把它和df.shape属性得到元组的index对应起来。如：df.shape得到的是(100, 4)，则代表该DataFrame形状是100行4列，axis=0，代表在垂直方向（行间）进行操作，axis=1，代表在水平方向（列间）进行操作。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616692657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231845,"user_name":"小鬼","can_delete":false,"product_type":"c1","uid":2053577,"ip_address":"","ucode":"A7B6AABFE5F657","user_header":"https://static001.geekbang.org/account/avatar/00/1f/55/c9/4c10ddbd.jpg","comment_is_top":false,"comment_ctime":1593786860,"is_pvip":false,"replies":[{"id":"103706","content":"在Python中，小括号括起来多个元素，代表元组。<br>这里在创建的数组时使用元组，生成的数组中子元素是numpy.void类型，这样可以给每列定义不同的数据类型。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617030794,"ip_address":"","comment_id":231845,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593786860","product_id":100021701,"comment_content":"请问老师，这一块<br>peoples = np.array([(&quot;ZhangFei&quot;,32,75,100, 90),(&quot;GuanYu&quot;,24,85,96,88.5), (&quot;ZhaoYun&quot;,28,85,92,96.5),(&quot;HuangZhong&quot;,29,65,85,100)], dtype=persontype)<br>中为什么用小括号？我改成中括号后会报错但是不明白是什么原因，请老师解释，谢谢老师","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500453,"discussion_content":"在Python中，小括号括起来多个元素，代表元组。\n这里在创建的数组时使用元组，生成的数组中子元素是numpy.void类型，这样可以给每列定义不同的数据类型。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617030794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229684,"user_name":"杨桥境","can_delete":false,"product_type":"c1","uid":2043538,"ip_address":"","ucode":"27D1809BDB17AC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/2e/92/a3402b66.jpg","comment_is_top":false,"comment_ctime":1593097774,"is_pvip":false,"replies":[{"id":"103715","content":"np.sort(chineses+englishs+maths)只对求和结果进行排序，但没有实现对peoples数组进行排序。可以参考下置顶同学的代码。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617036004,"ip_address":"","comment_id":229684,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593097774","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,95),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;DianWei&quot;,80,90,90)],<br>    dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>print np.mean(chineses)<br>print np.mean(maths)<br>print np.mean(englishs)<br>print np.min(chineses)<br>print np.max(chineses)<br>print np.std(chineses)<br>print np.var(chineses)<br>print np.sort(chineses+englishs+maths)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499590,"discussion_content":"np.sort(chineses+englishs+maths)只对求和结果进行排序，但没有实现对peoples数组进行排序。可以参考下置顶同学的代码。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617036004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229625,"user_name":"A君","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1593076544,"is_pvip":true,"replies":[{"id":"103716","content":"不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617036091,"ip_address":"","comment_id":229625,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593076544","product_id":100021701,"comment_content":"列表里存的原来只是每个元素对象的指针，读取时无法享受到连续读写的红利，而numpy则是将数据连续存储，因此，它在操作上比列表要快的多","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499568,"discussion_content":"不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617036091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229101,"user_name":"林伊","can_delete":false,"product_type":"c1","uid":1068957,"ip_address":"","ucode":"09ADBE454FE6E3","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/9d/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1592896870,"is_pvip":false,"replies":[{"id":"103719","content":"Python中变量名不能使用python的函数名或关键字，而min、max是Python中的函数名，所以不建议把它们作为变量名。","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617036626,"ip_address":"","comment_id":229101,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592896870","product_id":100021701,"comment_content":"# -- coding: utf-8 --<br>import numpy as np<br>import pandas as pd<br>import csv<br>matetype=np.dtype({&quot;names&quot;:[&quot;name&quot;,&quot;chinese&quot;,&quot;english&quot;,&quot;math&quot;],&quot;formats&quot;:[&quot;S32&quot;,&quot;i&quot;,&quot;i&quot;,&quot;i&quot;,&quot;f&quot;]})<br>score=np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;gunayu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),<br>                (&quot;weidian&quot;,80,90,90)],dtype=matetype )<br><br>course = [&quot;chinese&quot;, &quot;english&quot;, &quot;math&quot;]<br>def result(arr):#得出各科成绩的平均分、最低分、最高分、标准差、方差<br>    ana ={}<br>    for i in range(0,len(arr)):<br>        cour=arr[i]<br>        value=[]<br>        mean=&quot;%.2f&quot;%(np.mean(score[:][cour]))<br>        value.append(mean)<br>        min=&quot;%.2f&quot;%(np.min(score[:][cour]))<br>        value.append(min)<br>        max =&quot;%.2f&quot;%(np.max(score[:][cour]))<br>        value.append(max)<br>        std_course=&quot;%.2f&quot;%(np.std(score[:][cour]))<br>        value.append(std_course)<br>        var_course=&quot;%.2f&quot;%(np.var(score[:][cour]))<br>        value.append(var_course)<br>        ana[cour]=(value)<br>    print(&quot;科目%s的全班平均分、最低分、最高分、标准差、方差为%s&quot;%(cour,ana))<br>def sort_stu(score):#计算每名同学的总分数并且进行排序<br>    totle_score = {}<br>    rank = []<br>    for j in range(0,len(score)):<br>        totle_score[score[j][0]]=0<br>        for k in range(1,len(score[j])):<br>            totle_score[score[j][0]]+=score[j][k]<br>        rank.append(totle_score[score[j][0]])<br>    sort_totlescore=sorted(totle_score.items(),key=lambda x:x[1],reverse=True)#reverse为True就是从大到小，False就是从小到大<br>    print(&quot;所有同学的总分从高到低顺序及总分依次是%s&quot;%sort_totlescore)<br>    return(rank)<br><br>def Csv(rank):<br>    id=[1,2,3,4,5]<br>    a=score[:][&quot;name&quot;]<br>    b=score[:][&quot;chinese&quot;]<br>    c=score[:][&quot;english&quot;]<br>    d=score[:][&quot;math&quot;]<br>    dataframe=pd.DataFrame({&quot;name&quot;:a,&quot;chinese&quot;:b,&quot;english&quot;:c,&quot;math&quot;:d,&quot;totle&quot;:rank})<br>    dataframe.to_csv(r&quot;C:&#47;Users&#47;linyi&#47;PycharmProjects&#47;untitled1&#47;classscore_csv&quot;,sep=&quot;,&quot;)<br>result(course)<br>sort_stu(score)<br>Csv(sort_stu(score))<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499334,"discussion_content":"Python中变量名不能使用python的函数名或关键字，而min、max是Python中的函数名，所以不建议把它们作为变量名。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617036626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225668,"user_name":"Geeky_Ben","can_delete":false,"product_type":"c1","uid":1981878,"ip_address":"","ucode":"4889BFC8BF6EB3","user_header":"https://static001.geekbang.org/account/avatar/00/1e/3d/b6/e4a72acc.jpg","comment_is_top":false,"comment_ctime":1591811791,"is_pvip":false,"replies":[{"id":"103733","content":"numpy中定义数据类型的写法：第一个字符指定数据的类型，其余字符指定每个项目的字节数，但Unicode除外，Unicode将其解释为字符数。其他可以参考官网：https:&#47;&#47;numpy.org&#47;doc&#47;stable&#47;reference&#47;arrays.dtypes.html","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617038919,"ip_address":"","comment_id":225668,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591811791","product_id":100021701,"comment_content":"&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>老师，你的案例中，上面这段是什么意思， S32, i， f 都代表了什么?","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497937,"discussion_content":"numpy中定义数据类型的写法：第一个字符指定数据的类型，其余字符指定每个项目的字节数，但Unicode除外，Unicode将其解释为字符数。其他可以参考官网：https://numpy.org/doc/stable/reference/arrays.dtypes.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617038919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222869,"user_name":"清风","can_delete":false,"product_type":"c1","uid":1987801,"ip_address":"","ucode":"5F99A1442E0390","user_header":"https://static001.geekbang.org/account/avatar/00/1e/54/d9/76a53118.jpg","comment_is_top":false,"comment_ctime":1590935073,"is_pvip":false,"replies":[{"id":"103849","content":"打印结果中考虑了排名的显示，非常棒！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617118454,"ip_address":"","comment_id":222869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590935073","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;sum&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>persontype<br>peoples = np.array([(&quot;ZhangFei&quot;, 66, 65, 30,0), (&quot;GuanYu&quot;, 95, 85, 98,0),<br>                   (&quot;ZhaoYun&quot;, 93, 92, 96,0), (&quot;HuangZhong&quot;, 90, 88, 77,0),<br>                   (&quot;DianWei&quot;, 80, 90, 90, 0)],<br>                  dtype=persontype)<br>peoples[:][&#39;sum&#39;] = peoples[:][&quot;chinese&quot;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>for col in persontype.names:<br>    if col is &#39;name&#39; or col is &#39;sum&#39;:<br>        continue<br>    print(&quot;Mean of {}:  {}&quot;.format(col, peoples[col].mean()))<br>    print(&quot;Min of {}:  {}&quot;.format(col, peoples[col].min()))<br>    print(&quot;Max of {}:  {}&quot;.format(col, peoples[col].max()))<br>    print(&quot;Var of {}:  {}&quot;.format(col, peoples[col].var()))<br>    print(&quot;Std of {}:  {}&quot;.format(col, peoples[col].std()))<br>    print(&quot;\\n&quot;)<br><br><br>print(&quot;总成绩排序如下:\\n&quot;)<br>id = 1<br>for name in np.sort(peoples, order=&#39;sum&#39;)[&#39;name&#39;]:<br>    print(&quot;排名: {} 姓名: {}&quot;.format(id, name))<br>    id += 1","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496942,"discussion_content":"打印结果中考虑了排名的显示，非常棒！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617118454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222250,"user_name":"张凯","can_delete":false,"product_type":"c1","uid":1859960,"ip_address":"","ucode":"DCD2088C190666","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIQz0Micjv7w7zTY44G0rD7QiaeicFX03SOuuhwysP1xQSW5u3BfRiac5Hc3lMlq9KfSd8me3hAuRibrBg/132","comment_is_top":false,"comment_ctime":1590725439,"is_pvip":false,"replies":[{"id":"103848","content":"代码正确！很棒","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617117822,"ip_address":"","comment_id":222250,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590725439","product_id":100021701,"comment_content":"import numpy as np<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chiness&#39;,&#39;math&#39;,&#39;english&#39;,&#39;total&#39;],<br>              &#39;formats&#39;:[&#39;U10&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>score = np.array([(&quot;张飞&quot;,66,30,65,0),(&quot;关羽&quot;,95,98,85,0),(&quot;赵云&quot;,93,96,92,0),<br>         (&quot;黄忠&quot;,90,77,88,0),(&quot;典韦&quot;,80,90,90,0)]<br>                  ,dtype = scoretype)<br>names = score[:][&#39;name&#39;]<br>chineses = score[:][&#39;chiness&#39;]<br>maths = score[:][&#39;math&#39;]<br>englishs = score[:][&#39;english&#39;]<br>score[:][&#39;total&#39;] = score[:][&#39;chiness&#39;]+score[:][&#39;math&#39;]+score[:][&#39;english&#39;]<br><br>print({&#39;语文平均成绩&#39;:np.mean(chineses),&#39;数学平均成绩&#39;:np.mean(maths),&#39;英语平均成绩&#39;:np.mean(englishs)})<br>print({&#39;语文最大成绩&#39;:np.amax(chineses),&#39;数学最大成绩&#39;:np.amax(maths),&#39;英语最大成绩&#39;:np.amax(englishs)})<br>print({&#39;语文最小成绩&#39;:np.amin(chineses),&#39;数学最小成绩&#39;:np.amin(maths),&#39;英语最小成绩&#39;:np.amin(englishs)})<br>print({&#39;语文方差&#39;:np.var(chineses),&#39;数学方差&#39;:np.var(maths),&#39;英语方差&#39;:np.var(englishs)})<br>print({&#39;语文标准差&#39;:np.std(chineses),&#39;数学标准差&#39;:np.std(maths),&#39;英语标准差&#39;:np.std(englishs)})<br><br>print(&#39;总成绩排名：&#39;,np.sort(score,order=&#39;total&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496726,"discussion_content":"代码正确！很棒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617117822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221282,"user_name":"赵雍","can_delete":false,"product_type":"c1","uid":1316657,"ip_address":"","ucode":"5AAA284B1DA4F2","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/31/de25a65d.jpg","comment_is_top":false,"comment_ctime":1590462415,"is_pvip":false,"replies":[{"id":"103948","content":"代码正确！很棒！！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617285678,"ip_address":"","comment_id":221282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590462415","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;python<br># -*- coding: UTF-8 -*-<br>import numpy as np<br><br>data = [<br>\t(&#39;zhangfei&#39;, 66,65,30, 0),<br>\t(&#39;guanyu&#39;, 95,85,98,0), <br>\t(&#39;zhaoyun&#39;, 93,92,96,0), <br>\t(&#39;huangzhong&#39;,90,88,77,0),<br>\t(&#39;dianwei&#39;,80,90,90,0)<br>]<br><br>stype = np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;], &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>peoples = np.array(data, dtype=stype)<br><br>#print(students)<br><br><br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br>name = peoples[:][&#39;name&#39;]<br><br>#print(name, chinese, english, math)<br><br>print(&quot;============平均值==========&quot;)<br>print(np.mean(chinese))<br>print(np.mean(english))<br>print(np.mean(math))<br><br>print(&quot;============最小值==========&quot;)<br>print(np.amin(chinese))<br>print(np.amin(english))<br>print(np.amin(math))<br><br>print(&quot;============最大值==========&quot;)<br>print(np.amax(chinese))<br>print(np.amax(english))<br>print(np.amax(math))<br><br><br>print(&quot;============方差==========&quot;)<br>print(np.var(chinese))<br>print(np.var(english))<br>print(np.var(math))<br><br><br>print(&quot;============标准差==========&quot;)<br>print(np.std(chinese))<br>print(np.std(english))<br>print(np.std(math))<br><br><br>print(&quot;===========总分===========&quot;)<br><br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br><br>print(np.sort(peoples, order=&#39;total&#39;))<br><br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496411,"discussion_content":"代码正确！很棒！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617285678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220869,"user_name":"栗子","can_delete":false,"product_type":"c1","uid":2011313,"ip_address":"","ucode":"3085265B70C051","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI5iaJ2fRhUKBB6V9Q7KCib0orY1icD72A4JmVSOSib6Tia5KhQMKSicoOcOibPV97WjyUIxMqXH6FlJNXJg/132","comment_is_top":false,"comment_ctime":1590331968,"is_pvip":false,"replies":[{"id":"103742","content":"需要具备些Python基础语法知识","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617040270,"ip_address":"","comment_id":220869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590331968","product_id":100021701,"comment_content":"我可以说什么都没听懂么……已经很努力去理解了、是不是学这个课程之前缺了什么","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496257,"discussion_content":"需要具备些Python基础语法知识","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617040270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214423,"user_name":"Geek_de4b18","can_delete":false,"product_type":"c1","uid":1986636,"ip_address":"","ucode":"B13E2B0AB72675","user_header":"https://static001.geekbang.org/account/avatar/00/1e/50/4c/4e2de47d.jpg","comment_is_top":false,"comment_ctime":1588745159,"is_pvip":false,"replies":[{"id":"103954","content":"代码正确！继续加油！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617287085,"ip_address":"","comment_id":214423,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588745159","product_id":100021701,"comment_content":"import numpy as np<br>datatype = np.dtype([(&#39;Name&#39;,&#39;S20&#39;),(&#39;Chinese&#39;,&#39;i&#39;),(&#39;Math&#39;,&#39;i&#39;),(&#39;English&#39;,&#39;i&#39;)])<br>a = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=datatype)<br>print(np.mean(a[&#39;Chinese&#39;]),np.mean(a[&#39;Math&#39;]),np.mean(a[&#39;English&#39;]))<br>print(np.amin(a[&#39;Chinese&#39;]),np.amin(a[&#39;Math&#39;]),np.amin(a[&#39;English&#39;]))<br>print(np.amax(a[&#39;Chinese&#39;]),np.amax(a[&#39;Math&#39;]),np.amax(a[&#39;English&#39;]))<br>print(np.std(a[&#39;Chinese&#39;]),np.std(a[&#39;Math&#39;]),np.std(a[&#39;English&#39;]))<br>print(np.var(a[&#39;Chinese&#39;]),np.var(a[&#39;Math&#39;]),np.var(a[&#39;English&#39;]))<br>ranking = sorted(a,key=lambda x:x[1]+x[2]+x[3], reverse=True)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494049,"discussion_content":"代码正确！继续加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617287085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205033,"user_name":"Oreo0206:)","can_delete":false,"product_type":"c1","uid":1028558,"ip_address":"","ucode":"2EA4965506E23C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b1/ce/3d7f253c.jpg","comment_is_top":false,"comment_ctime":1586511851,"is_pvip":false,"replies":[{"id":"104321","content":"Good Job!!!","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617894428,"ip_address":"","comment_id":205033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586511851","product_id":100021701,"comment_content":"刚开始学Python，站在1，2楼肩膀上改了一些<br><br>import numpy as np<br><br># 结构化数组<br>resulttype = np.dtype({<br>    &#39;names&#39;: [&#39;Name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br># 赋值<br>results = np.array(<br>    [(&quot;ZhangFei&quot;, 66, 65, 30), (&quot;GuanYu&quot;, 95, 85, 98), (&quot;ZhaoYun&quot;, 93, 92, 96), (&quot;HuangZhong&quot;, 90, 88, 77),<br>     (&quot;DianWei&quot;, 80, 90, 90)], dtype=resulttype)<br><br># 取每一数列的值<br>Name = results[&#39;Name&#39;][:]<br>Chinese = results[&#39;Chinese&#39;][:]<br>Math = results[&#39;Math&#39;][:]<br>English = results[&#39;English&#39;][:]<br><br># 定义输出函数<br>def func(subject, name):<br>    print(&#39;{}|{}|{}|{}|{}|{}&#39;<br>          .format(subject, np.mean(name), np.min(name), np.max(name), np.var(name), np.std(name)))  # 格式化输出<br><br># 执行结果<br>print(&#39;科目|平均成绩|最小成绩|最大成绩|方差|标准差&#39;)<br>func(&#39;语文&#39;, Chinese)<br>func(&#39;数学&#39;, Math)<br>func(&#39;英语&#39;, English)<br><br># 总分排序<br>ranking =sorted(results,key=lambda x:x[1]+x[2]+x[3], reverse=1)     # sorted(result, key, reverse):排序函数<br>print(&#39;名字|总分&#39;)<br>for i in range(0,len(results)):<br>    m = ranking[i][0]<br>    s = ranking[i][1] + ranking[i][2] + ranking[i][3]<br>    print(&#39;{0}|{1}&#39;.format(m,s))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491358,"discussion_content":"Good Job!!!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617894428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199220,"user_name":"🌻","can_delete":false,"product_type":"c1","uid":1509651,"ip_address":"","ucode":"9B4D8CA8C09A70","user_header":"https://static001.geekbang.org/account/avatar/00/17/09/13/d762ce74.jpg","comment_is_top":false,"comment_ctime":1585482970,"is_pvip":false,"replies":[{"id":"104336","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617903624,"ip_address":"","comment_id":199220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585482970","product_id":100021701,"comment_content":"score_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;Chinese&#39;, &#39;Math&#39;, &#39;English&#39;],<br>    &#39;formats&#39;: [&#39;S36&#39;, &#39;i&#39; ,&#39;i&#39;, &#39;i&#39;]<br>})<br>score = np.array([(&#39;zhangfei&#39;, 66, 65, 30), <br>          (&#39;guanyu&#39;, 95,85, 98),<br>          (&#39;zhaoyun&#39;, 93, 92, 96),<br>          (&#39;huangzhong&#39;, 90, 88, 77),<br>          (&#39;dianwei&#39;, 80, 90, 90)<br>         ], dtype=score_type)<br><br># 语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差<br>mean = [np.mean(score[subject]) for subject in score.dtype.names[1:]]<br>mean.insert(0, &#39;mean&#39;)<br><br>min_score = [np.amin(score[subject]) for subject in score.dtype.names[1:]]<br>min_score.insert(0, &#39;min&#39;)<br><br>max_score = [np.amax(score[subject]) for subject in score.dtype.names[1:]]<br>max_score.insert(0, &#39;max&#39;)<br><br>s2 = [np.var(score[subject]) for subject in score.dtype.names[1:]]<br>s2.insert(0, &#39;fangcha&#39;)<br><br>s = [np.std(score[subject]) for subject in score.dtype.names[1:]]<br>s.insert(0, &#39;biaozhuncha&#39;)<br><br>data = np.array([mean, min_score, max_score, s2, s])<br>print(data)<br><br># 总成绩<br>data2 = score[&#39;Chinese&#39;] + score[&#39;Math&#39;] + score[&#39;English&#39;]<br>print(data2)<br><br># 排名<br>data2.sort()<br>print(data2)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489804,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617903624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198271,"user_name":"timeng27","can_delete":false,"product_type":"c1","uid":1914163,"ip_address":"","ucode":"C92D7484F7FF35","user_header":"","comment_is_top":false,"comment_ctime":1585440024,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585440024","product_id":100021701,"comment_content":"numpy远比想象中的强大的呀，都习惯直接使用pandas了。","like_count":0},{"had_liked":false,"id":197678,"user_name":"叮当喵","can_delete":false,"product_type":"c1","uid":1236607,"ip_address":"","ucode":"60E6EA076932CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/7f/079356c2.jpg","comment_is_top":false,"comment_ctime":1585391460,"is_pvip":false,"replies":[{"id":"101190","content":"good！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1613032614,"ip_address":"","comment_id":197678,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585391460","product_id":100021701,"comment_content":"绕了一个大圈圈这回真的明白啥叫按列排序了，我的天呐!","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489579,"discussion_content":"good！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613032614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197669,"user_name":"叮当喵","can_delete":false,"product_type":"c1","uid":1236607,"ip_address":"","ucode":"60E6EA076932CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/7f/079356c2.jpg","comment_is_top":false,"comment_ctime":1585390741,"is_pvip":false,"replies":[{"id":"101191","content":"good~","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1613032623,"ip_address":"","comment_id":197669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585390741","product_id":100021701,"comment_content":"numpy排序 axis=0搞明白了，原来跨行按列排完是什么就是什么了，不需要再瞎折腾了呜呜呜","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489575,"discussion_content":"good~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613032623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197611,"user_name":"叮当喵","can_delete":false,"product_type":"c1","uid":1236607,"ip_address":"","ucode":"60E6EA076932CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/7f/079356c2.jpg","comment_is_top":false,"comment_ctime":1585387728,"is_pvip":false,"replies":[{"id":"104338","content":"np.sort()中<br>axis=0，一般我会把它当成在数组的垂直方向进行排序；<br>axis=1，则是把它当成在数组的水平方向进行排序。<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617903913,"ip_address":"","comment_id":197611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585387728","product_id":100021701,"comment_content":"NumPy 排序这里的axis取值就有点看不懂了，呜呜呜","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489559,"discussion_content":"np.sort()中\naxis=0，一般我会把它当成在数组的垂直方向进行排序；\naxis=1，则是把它当成在数组的水平方向进行排序。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617903913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197590,"user_name":"叮当喵","can_delete":false,"product_type":"c1","uid":1236607,"ip_address":"","ucode":"60E6EA076932CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/7f/079356c2.jpg","comment_is_top":false,"comment_ctime":1585386898,"is_pvip":false,"replies":[{"id":"104339","content":"是的。np.percentile(a, 50) 代表求的是中位数，又称为50%分位数<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617904000,"ip_address":"","comment_id":197590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585386898","product_id":100021701,"comment_content":"如果 p=50 就是求&quot;平均值&quot;，准确说是中位数吧。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489554,"discussion_content":"是的。np.percentile(a, 50) 代表求的是中位数，又称为50%分位数\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617904000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196773,"user_name":"叮当喵","can_delete":false,"product_type":"c1","uid":1236607,"ip_address":"","ucode":"60E6EA076932CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/7f/079356c2.jpg","comment_is_top":false,"comment_ctime":1585312042,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585312042","product_id":100021701,"comment_content":"https:&#47;&#47;mubu.com&#47;doc4ydGd0LiMJh<br>练习题后面补上","like_count":0},{"had_liked":false,"id":192060,"user_name":"Gary_","can_delete":false,"product_type":"c1","uid":1918181,"ip_address":"","ucode":"E65AA3BEEB9916","user_header":"https://static001.geekbang.org/account/avatar/00/1d/44/e5/66a4855c.jpg","comment_is_top":false,"comment_ctime":1584835018,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1584835018","product_id":100021701,"comment_content":"numpy类导不进怎么办？","like_count":0,"discussions":[{"author":{"id":1466567,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/c7/7c3fd235.jpg","nickname":"so young","note":"","ucode":"26E787E39289E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377370,"discussion_content":"先看看是否安装了了numpy，然后再看看同目录下是否有别的文件命名为numpy.py","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622618610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018685,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/3d/0c3a2fd4.jpg","nickname":"偶尔复活下","note":"","ucode":"18B1D525CD50D3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293061,"discussion_content":"pip install numpy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595424803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018685,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/3d/0c3a2fd4.jpg","nickname":"偶尔复活下","note":"","ucode":"18B1D525CD50D3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293060,"discussion_content":"需要先下载包","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595424780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187411,"user_name":"ailsaYang","can_delete":false,"product_type":"c1","uid":1761998,"ip_address":"","ucode":"254F82C4FE59CF","user_header":"","comment_is_top":false,"comment_ctime":1584104347,"is_pvip":false,"replies":[{"id":"104005","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617293369,"ip_address":"","comment_id":187411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584104347","product_id":100021701,"comment_content":"import numpy as np<br>__author__ = &#39;zm.z&#39;<br>scoretype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>peoples = np.array(<br>        [<br>            (&quot;zhangfei&quot;, 66, 65, 30),<br>            (&quot;guanyu&quot;, 95, 85, 98),<br>            (&quot;zhaoyun&quot;, 93, 92, 96),<br>            (&quot;huangzhong&quot;, 90, 88, 77),<br>            (&quot;dianwei&quot;, 80, 90, 90)<br>        ], dtype=scoretype)<br><br>print(peoples)<br><br>labels = np.dtype({<br><br>&quot;names&quot;:[&quot;name&quot;, &quot;chinese&quot;, &quot;english&quot;, &quot;math&quot;, &quot;total&quot;],<br><br>&quot;formats&quot;:[&quot;S32&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;]<br><br>})<br><br>data = np.array(<br><br>[<br><br>    (&quot;zf&quot;, 66, 65, 30, 0),<br><br>    (&quot;gy&quot;, 95,85,98, 0),<br><br>    (&quot;zy&quot;, 93, 92, 96, 0),<br><br>       (&#39;hz&#39;, 90,88,77, 0),<br><br>(&#39;dw&#39;,80, 90, 90, 0),<br><br>], dtype=labels)<br><br><br>def catchShow(name, array):<br>    print(name, np.mean(array), np.amin(array), np.amax(array), np.var(array), np.std(array))<br><br><br>print(data[:])<br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br><br>catchShow(&quot;chinese&quot;, data[:][&quot;chinese&quot;])<br><br>catchShow(&quot;english&quot;, data[:][&quot;english&quot;])<br><br>catchShow(&quot;math&quot;, data[:][&quot;math&quot;])<br><br>data[:][&quot;total&quot;] = data[:][&quot;chinese&quot;] + data[:][&quot;english&quot;] + data[:][&quot;math&quot;]<br>print(np.sort(data, order=&quot;total&quot;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487101,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617293369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187316,"user_name":"卢嘉敏","can_delete":false,"product_type":"c1","uid":1293670,"ip_address":"","ucode":"64E17B0637EB86","user_header":"https://static001.geekbang.org/account/avatar/00/13/bd/66/bf0cfd22.jpg","comment_is_top":false,"comment_ctime":1584082394,"is_pvip":false,"replies":[{"id":"104006","content":"老师使用的是Python2，如果你配置的是Python3环境，可以把 print a.shape 改成 print(a.shape)","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617293431,"ip_address":"","comment_id":187316,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584082394","product_id":100021701,"comment_content":"为什么示例在pycharm上都运行不了……","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487070,"discussion_content":"老师使用的是Python2，如果你配置的是Python3环境，可以把 print a.shape 改成 print(a.shape)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617293431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185661,"user_name":"Geek_日月","can_delete":false,"product_type":"c1","uid":1624334,"ip_address":"","ucode":"29CDE87CD74FCE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cbn8R1t289AcI6CR2vwuyJDY4pNsy15micFeEiaZSKwzYbicqTY4B4tawBiadDRiarGXzxDkial85dTgzgiaL4NBbiazFA/132","comment_is_top":false,"comment_ctime":1583657364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583657364","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;python<br># -*- coding: utf-8 -*-<br>import numpy as np<br><br>&#39;&#39;&#39;<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;Mathematics&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>&#39;&#39;&#39;<br>persontype = np.dtype([(&#39;name&#39;,&#39;S32&#39;),(&#39;chinese&#39;,&#39;i&#39;),(&#39;english&#39;,&#39;i&#39;),(&#39;Mathematics&#39;,&#39;i&#39;),(&#39;Total&#39;,&#39;i&#39;)])<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30,0),<br>                    (&quot;GuanYu&quot;,95,85,98,0),<br>                    (&quot;ZhaoYun&quot;,92,93,96,0),<br>                    (&quot;HuangZhong&quot;,90,88,87,0),<br>                    (&quot;dianwei&quot;,80,90,90,0)],<br>    dtype=persontype)<br>print(peoples.shape)<br><br># avg<br>for i in [&#39;chinese&#39;, &#39;english&#39;, &#39;Mathematics&#39;]:<br>    print(peoples[:][i])<br>    coinAvg = np.mean(peoples[:][i])<br>    coinMin = np.amin(peoples[:][i])<br>    coinMax = np.amax(peoples[:][i])<br>    coinStd = np.std(peoples[:][i])<br>    coinVar = np.var(peoples[:][i])<br>    print(&#39;%s avg is %d&#39; % (i,coinAvg))<br>    print(&#39;%s min is %d&#39; % (i,coinMin))<br>    print(&#39;%s max is %d&#39; % (i,coinMax))<br>    print(&#39;%s std is %d&#39; % (i,coinStd))<br>    print(&#39;%s var is %d&#39; % (i,coinVar))<br>    print(&#39;############################&#39;)<br>## 计算排名<br>peoples[:][&#39;Total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;Mathematics&#39;]<br>#print(peoples)<br>print(np.sort(peoples,order=&#39;Total&#39;)[::-1])","like_count":0},{"had_liked":false,"id":184535,"user_name":"Barry.Y","can_delete":false,"product_type":"c1","uid":1889120,"ip_address":"","ucode":"A487275C7E39F1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/d3/60/0db99ffc.jpg","comment_is_top":false,"comment_ctime":1583334187,"is_pvip":false,"replies":[{"id":"104363","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617905010,"ip_address":"","comment_id":184535,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583334187","product_id":100021701,"comment_content":"import numpy as np <br>persontype=np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=persontype)<br><br>name=peoples[:][&#39;name&#39;]<br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br><br>chineses=peoples[:][&#39;chinese&#39;]<br>englishs=peoples[:][&#39;english&#39;]<br>maths=peoples[:][&#39;math&#39;]<br><br>print(&quot;      &quot;,&quot; 语文  英语  数学&quot;)<br>print(&quot;平均值：&quot;,np.mean(chineses),np.mean(englishs),np.mean(maths))<br>print(&quot;最小值：&quot;,np.min(chineses),&quot;  &quot;,np.min(englishs),&quot; &quot;,np.min(maths))<br>print(&quot;最大值：&quot;,np.max(chineses),&quot;  &quot;,np.max(englishs),&quot; &quot;,np.max(maths))<br>print(&quot;方  差：&quot;,np.var(chineses),&quot;  &quot;,np.var(englishs),&quot; &quot;,np.var(maths))<br>print(&quot;标准差：&quot;,np.std(chineses),&quot;  &quot;,np.std(englishs),&quot; &quot;,np.std(maths))<br><br>print(&quot;升序学员排名:&quot;)<br>ranking=sorted(peoples,key=lambda x:x[1]+x[2]+x[3],reverse=False)<br>print(ranking)<br>print(&quot;升序总分排名:&quot;)<br>print(&quot;  5   4   3   2   1&quot;)<br>print(np.sort(chineses+englishs+math))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486048,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617905010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184532,"user_name":"Barry.Y","can_delete":false,"product_type":"c1","uid":1889120,"ip_address":"","ucode":"A487275C7E39F1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/d3/60/0db99ffc.jpg","comment_is_top":false,"comment_ctime":1583334067,"is_pvip":false,"replies":[{"id":"104364","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1617905031,"ip_address":"","comment_id":184532,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583334067","product_id":100021701,"comment_content":"import numpy as np <br>persontype=np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=persontype)<br><br>name=peoples[:][&#39;name&#39;]<br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br><br>chineses=peoples[:][&#39;chinese&#39;]<br>englishs=peoples[:][&#39;english&#39;]<br>maths=peoples[:][&#39;math&#39;]<br><br>print(&quot;      &quot;,&quot; 语文  英语  数学&quot;)<br>print(&quot;平均值：&quot;,np.mean(chineses),np.mean(englishs),np.mean(maths))<br>print(&quot;最小值：&quot;,np.min(chineses),&quot;  &quot;,np.min(englishs),&quot; &quot;,np.min(maths))<br>print(&quot;最大值：&quot;,np.max(chineses),&quot;  &quot;,np.max(englishs),&quot; &quot;,np.max(maths))<br>print(&quot;方  差：&quot;,np.var(chineses),&quot;  &quot;,np.var(englishs),&quot; &quot;,np.var(maths))<br>print(&quot;标准差：&quot;,np.std(chineses),&quot;  &quot;,np.std(englishs),&quot; &quot;,np.std(maths))<br><br>print(&quot;升序学员排名:&quot;)<br>ranking=sorted(peoples,key=lambda x:x[1]+x[2]+x[3],reverse=False)<br>print(ranking)<br>print(&quot;升序总分排名:&quot;)<br>print(&quot;  5   4   3   2   1&quot;)<br>print(np.sort(chineses+englishs+math))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486046,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617905031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183252,"user_name":"Geek_ecd85c","can_delete":false,"product_type":"c1","uid":1891816,"ip_address":"","ucode":"30F60E7D8E13CD","user_header":"https://static001.geekbang.org/account/avatar/00/1c/dd/e8/06fea176.jpg","comment_is_top":false,"comment_ctime":1582982784,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582982784","product_id":100021701,"comment_content":"我是技术小白，大学期间自学过数据分析并应用在课题研究中。毕业四年后想要重新追回当年感兴趣的数据分析，并应用在医疗领域。目前计划学习您的数据分析理论课程+Python课程","like_count":0},{"had_liked":false,"id":183103,"user_name":"申屠","can_delete":false,"product_type":"c1","uid":1481702,"ip_address":"","ucode":"0079795B57EAF6","user_header":"https://static001.geekbang.org/account/avatar/00/16/9b/e6/9372aec6.jpg","comment_is_top":false,"comment_ctime":1582953278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582953278","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,  &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;张飞&quot;,66,65,30),(&quot;关羽&quot;,95,85,98),<br>       (&quot;赵云&quot;,93,92,96),(&quot;黄忠&quot;,90,88,77),(&quot;典韦&quot;,80,90,90)],<br>    dtype=persontype)<br><br>names = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br><br>print (&#39;语文的平均成绩是：&#39;)<br>print np.mean(chineses)<br><br>print (&#39;英文的平均成绩是：&#39;)<br>print np.mean(englishs)<br><br>print (&#39;数学的平均成绩是：&#39;)<br>print np.mean(maths)<br><br>print (&#39;语文的最小成绩是：&#39;)<br>print np.amin(chineses)<br><br>print (&#39;英文的最小成绩是：&#39;)<br>print np.amin(englishs)<br><br>print (&#39;数学的最小成绩是：&#39;)<br>print np.amin(maths)<br><br>print (&#39;语文的最大成绩是：&#39;)<br>print np.amax(chineses)<br><br>print (&#39;英文的最大成绩是：&#39;)<br>print np.amax(englishs)<br><br>print (&#39;数学的最大成绩是：&#39;)<br>print np.amax(maths)<br><br><br>print (&#39;语文的方差是：&#39;)<br>print np.var(chineses)<br><br>print (&#39;英文的方差是：&#39;)<br>print np.var(englishs)<br><br>print (&#39;数学的方差是：&#39;)<br>print np.var(maths)<br><br><br>print (&#39;语文的标准差是：&#39;)<br>print np.std(chineses)<br><br>print (&#39;英文的标准差是：&#39;)<br>print np.std(englishs)<br><br>print (&#39;数学的标准差是：&#39;)<br>print np.std(maths)<br><br><br>print np.sort(chineses + englishs + maths)[::-1]<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)","like_count":0},{"had_liked":false,"id":179262,"user_name":"will","can_delete":false,"product_type":"c1","uid":1750093,"ip_address":"","ucode":"A36CADCB62BFB5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b4/4d/f072c7f9.jpg","comment_is_top":false,"comment_ctime":1581947005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581947005","product_id":100021701,"comment_content":"scoretype=np.dtype({&quot;names&quot;:[&quot;姓名&quot;,&quot;语文&quot;,&quot;英语&quot;,&quot;数学&quot;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>a=np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=scoretype)<br>m=[&quot;语文&quot;,&quot;英语&quot;,&quot;数学&quot;]<br>for i in m:<br>    c=np.mean(a[:][i])<br>    b=np.amin(a[:][i])<br>    d=np.amax(a[:][i])<br>    e=np.std(a[:][i])<br>    f=np.var(a[:][i])<br>    print(i,&quot;平均成绩为：&quot;,c)<br>    print(i,&quot;最小成绩为：&quot;,b)<br>    print(i,&quot;最大成绩为：&quot;,d)<br>    print(i,&quot;标准差为：&quot;,e)<br>    print(i,&quot;方差为：&quot;,f)<br>sum=a[:][&quot;语文&quot;]+a[:][&quot;英语&quot;]+a[:][&quot;数学&quot;]<br>np.sort(sum)<br>hh=a[:][&quot;姓名&quot;]<br>for i in range(5):<br>    print (&quot;第&quot;,i+1,&quot;名为&quot;,&quot;{}:{}&quot;.format(hh[i],np.sort(sum)[i]))","like_count":0},{"had_liked":false,"id":178882,"user_name":"钉洲小懒猫","can_delete":false,"product_type":"c1","uid":1340485,"ip_address":"","ucode":"82765B5EB07A31","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJq9ibjmt1aibK7vCVwu02dwORb3OHwiaRcRe93YIN3ayG9hOxgnTyu5IhnssMoTcy5YQnGMXuUOHC1g/132","comment_is_top":false,"comment_ctime":1581845283,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581845283","product_id":100021701,"comment_content":"有个问题，numpy数组如果不用指针，那如 b[1,1] 是如何进行数据读取，b[1,1]=10又是如何对相应元素赋值","like_count":0},{"had_liked":false,"id":178328,"user_name":"学技术攒钱开宠物店","can_delete":false,"product_type":"c1","uid":1849036,"ip_address":"","ucode":"3EA297FD4C9635","user_header":"https://static001.geekbang.org/account/avatar/00/1c/36/cc/499625d3.jpg","comment_is_top":false,"comment_ctime":1581661795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581661795","product_id":100021701,"comment_content":"persontype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br><br>person = np.array([(&#39;张飞&#39;, 66, 65, 30), (&#39;关羽&#39;, 95, 85, 98), (&#39;赵云&#39;, 93, 92, 96), (&#39;黄忠&#39;, 90, 88, 77), (&#39;典韦&#39;, 80, 90, 90)],<br>                  dtype=persontype)<br>print(person)<br><br>name = person[:][&#39;name&#39;]<br>chinese = person[:][&#39;chinese&#39;]<br>english = person[:][&#39;english&#39;]<br>math = person[:][&#39;math&#39;]<br><br>for i in [chinese, english, math]:<br>    print(np.average(i))<br>    print(np.max(i))<br>    print(np.min(i))<br>    print(np.var(i))<br>    print(np.std(i))<br><br>print(sorted(person, key=lambda a: a[1]+a[2]+a[3], reverse=True))","like_count":0},{"had_liked":false,"id":175753,"user_name":"鱼非子","can_delete":false,"product_type":"c1","uid":1818595,"ip_address":"","ucode":"BB76AE2CB4D680","user_header":"https://static001.geekbang.org/account/avatar/00/1b/bf/e3/2aa8ec84.jpg","comment_is_top":false,"comment_ctime":1580818797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580818797","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*<br><br>import numpy as np<br><br>import pandas as pd<br>import matplotlib.pyplot as plt<br><br># 统计同学们在语文、英语、数学中的<br># 平均成绩、最小成绩、最大成绩、方差、标准差<br><br>aaa = np.dtype({ &#39;names&#39;:[&#39;name&#39;,&#39;chinses&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>                 &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br><br>student = np.array([(&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),(&quot;zhaoyun&quot;,93,92,96,0),<br>                    (&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)],dtype = aaa)<br><br>name = student[:][&#39;name&#39;]<br>chinese = student[:][&#39;chinses&#39;]<br>english = student[:][&#39;english&#39;]<br>math = student[:][&#39;math&#39;]<br>student[:][&#39;total&#39;] = chinese + english + math<br>total = student[:][&#39;total&#39;]<br><br>print(&quot;chinese&quot;,end=&quot; &quot;)<br>print(np.mean(chinese),end=&quot; &quot;)<br>print(np.amin(chinese),end=&quot; &quot;)<br>print(np.amax(chinese),end=&quot; &quot;)<br>print(np.std(chinese),end=&quot; &quot;)<br>print(np.var(chinese))<br>print(&quot;english&quot;,end=&quot; &quot;)<br>print(np.mean(english),end=&quot; &quot;)<br>print(np.amin(english),end=&quot; &quot;)<br>print(np.amax(english),end=&quot; &quot;)<br>print(np.std(english),end=&quot; &quot;)<br>print(np.var(english))<br>print(&quot;math&quot;,end=&quot; &quot;)<br>print(np.mean(math),end=&quot; &quot;)<br>print(np.amin(math),end=&quot; &quot;)<br>print(np.amax(math),end=&quot; &quot;)<br>print(np.std(math),end=&quot; &quot;)<br>print(np.var(math))<br>print(&#39;-------------------&#39;)<br>print(&#39;before:&#39;)<br>print(total)<br>print(&#39;after:&#39;)<br>b = np.argsort(total)<br>for i in range(5):<br>    print(name[b[i]],end=&quot; &quot;)<br>    print(total[b[i]])<br><br>--------------------------------------------------------------------------<br>结果<br>-------------------------------------------------------------------------------------<br>chinese 84.8 66 95 10.721940122944169 114.96000000000001<br>english 84.0 65 92 9.777525249264253 95.6<br>math 78.2 30 98 25.19047439013406 634.56<br>-------------------<br>before:<br>[161 278 281 255 260]<br>after:<br>b&#39;zhangfei&#39; 161<br>b&#39;huangzhong&#39; 255<br>b&#39;dianwei&#39; 260<br>b&#39;guanyu&#39; 278<br>b&#39;zhaoyun&#39; 281","like_count":0},{"had_liked":false,"id":174141,"user_name":"张小白","can_delete":false,"product_type":"c1","uid":1094952,"ip_address":"","ucode":"43466EE0ED24BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/b5/28/263bdad2.jpg","comment_is_top":false,"comment_ctime":1580025804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580025804","product_id":100021701,"comment_content":"排序函数sort中，axis=-1，0，1的区别不是特别懂，能再详细讲一下吗？<br>","like_count":0},{"had_liked":false,"id":172859,"user_name":"Neo","can_delete":false,"product_type":"c1","uid":1812206,"ip_address":"","ucode":"A8520B93E2620A","user_header":"","comment_is_top":false,"comment_ctime":1579336945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579336945","product_id":100021701,"comment_content":"老师，为什么匿名函数里可以直接用x[1]+x[2]+x[3]这样的用法？这里传参不是把peoples代进去了吗？peoples[1]索引的是第二行，怎么可以求和呢？","like_count":0},{"had_liked":false,"id":170258,"user_name":"苹果","can_delete":false,"product_type":"c1","uid":1761988,"ip_address":"","ucode":"5D0FA9D8560FD8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e2/c4/25acaa38.jpg","comment_is_top":false,"comment_ctime":1578557920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578557920","product_id":100021701,"comment_content":"关于numpy的函数部分还有很多，搜素，组合分割，展平，三角，集合等函数，之前我过了一遍，当初觉得，太多了，记英语单词似的，现在都不记得，实践少，正如老师说的，从工程的角度去学，去实战，慢慢去扩充<br>#作业部分，看到前排同学的做法更优秀，<br># -*- coding: utf-8 -*-<br>import numpy as np<br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],\\<br>                       &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;,66,65,30),(&quot;GuanYu&quot;,95,85,98), \\<br>                   (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),\\<br>                    (&#39;Dianwei&#39;,80,90,90)],dtype= persontype)<br>names = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>aa = np.mean(chineses)<br>print(&#39;他们的语文平均分:&#39;,np.mean(chineses))<br>print(&#39;他们的英语平均分:&#39;,np.mean(englishs))<br>print(&#39;他们的数学平均分:&#39;,np.mean(maths))<br>print(&#39;他们的语文的最大值：{}，最小值：{}:&#39;.format(chineses.max(),chineses.min()))<br>print(&#39;他们的语文的方差：{:.3f}，标准差：{:.3f}:&#39;.format(chineses.var(),chineses.std()))<br>print(&#39;他们的英语的最大值：{}，最小值：{}:&#39;.format(englishs.max(),englishs.min()))<br>print(&#39;他们的的英语方差：{:.3f}，标准差：{:.3f}:&#39;.format(englishs.var(),englishs.std()))<br>print(&#39;他们的数学的最大值：{}，最小值：{}:&#39;.format(maths.max(),maths.min()))<br>print(&#39;他们的数学的方差：{:.3f}，标准差：{:.3f}:&#39;.format(maths.var(),maths.std()))<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3],reverse=True)<br>print(ranking)<br>","like_count":0},{"had_liked":false,"id":167594,"user_name":"强者自强","can_delete":false,"product_type":"c1","uid":1362648,"ip_address":"","ucode":"391B934CC10342","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/d8/767d8e6e.jpg","comment_is_top":false,"comment_ctime":1577871113,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577871113","product_id":100021701,"comment_content":"import numpy as np<br>studentstype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese_score&#39;,&#39;english_score&#39;,&#39;math_score&#39;,&#39;total_score&#39;],&#39;formats&#39;:[&#39;S23&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>students = np.array([(&#39;zhangfei&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&#39;zhaoyun&#39;,93,92,96,0),(&#39;huangzhong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)]<br>                    ,dtype = studentstype)<br>chineseScore = students[:][&#39;chinese_score&#39;]<br>englishScore = students[:][&#39;english_score&#39;]<br>mathScore = students[:][&#39;math_score&#39;]<br>students[:][&#39;total_score&#39;] = students[:][&#39;chinese_score&#39;]+students[:][&#39;english_score&#39;]+students[:][&#39;math_score&#39;]<br>totalScore = students[:][&#39;total_score&#39;]<br>chineseAverage = np.mean(chineseScore)<br>englishAverage = np.mean(englishScore)<br>mathAverage = np.mean(mathScore)<br>chineseMin = np.amin(chineseScore)<br>englishMin = np.amin(englishScore)<br>mathMin = np.amin(mathScore)<br>chineseMax = np.amax(chineseScore)<br>englishMax = np.amax(englishScore)<br>mathMax = np.amax(mathScore)<br>chineseVar = np.var(chineseScore)<br>englishVar = np.var(englishScore)<br>mathVar = np.var(mathScore)<br>chineseStd = np.std(chineseScore)<br>englishStd = np.std(englishScore)<br>mathStd = np.std(mathScore)<br>totalScore = np.sort(students,order=&#39;total_score&#39;)<br>print(chineseAverage)<br>print(englishAverage)<br>print(mathAverage)<br>print(chineseMin)<br>print(englishMin)<br>print(mathMin)<br>print(chineseMax)<br>print(englishMax)<br>print(mathMax)<br>print(chineseVar)<br>print(englishVar)<br>print(mathVar)<br>print(chineseStd)<br>print(englishStd)<br>print(mathStd)<br>print(totalScore)<br>看了一下评论区的答案，发现自己写麻烦了，之前老师教的记笔记学习的方法真的很好用，知识记得比较牢靠，但是内功还需要加强修炼，加油！","like_count":0},{"had_liked":false,"id":158456,"user_name":"杨睿芳","can_delete":false,"product_type":"c1","uid":1582562,"ip_address":"","ucode":"5AA9FF89FA45F4","user_header":"https://static001.geekbang.org/account/avatar/00/18/25/e2/a5792ea2.jpg","comment_is_top":false,"comment_ctime":1575376554,"is_pvip":false,"replies":[{"id":"62604","content":"帮你fix了几处bug:<br>persontype=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;U32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;张飞&quot;,66,65,30,0),(&quot;关羽&quot;,95,85,98,0),(&quot;赵云&quot;,93,92,96,0),(&quot;黄忠&quot;,90,88,77,0),(&quot;曲伟&quot;,80,90,90,0)],dtype=persontype)<br>chineses=peoples[:][&#39;chinese&#39;]<br>maths=peoples[:][&#39;math&#39;]<br>englishs=peoples[:][&#39;english&#39;]<br>peoples[:][&#39;total&#39;]=peoples[:][&#39;chinese&#39;]+peoples[:][&#39;math&#39;]+peoples[:][&#39;english&#39;]<br>……<br>print(np.sort(peoples,order=&#39;total&#39;))<br><br>说明：<br>1）中文的话，format形式为U32<br>2）&#39;chinese&#39;是字符串，需要加&#39; &#39;<br>3）order拼写<br>你调整下再试试<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577073731,"ip_address":"","comment_id":158456,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1575376554","product_id":100021701,"comment_content":"老师您好：<br>今日练习题代码如下，我的是python 3，试了好多种方法，还是报错，望指导。<br>UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)<br># coding=utf-8<br>import numpy as np<br>persontype=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;张飞&quot;,&#39;66&#39;,&#39;65&#39;,&#39;30&#39;,&#39;&#39;),(&quot;关羽&quot;,&#39;95&#39;,&#39;85&#39;,&#39;98&#39;,&#39;&#39;),(&quot;赵云&quot;,&#39;93&#39;,&#39;92&#39;,&#39;96&#39;,&#39;&#39;),(&quot;黄忠&quot;,&#39;90&#39;,&#39;88&#39;,&#39;77&#39;,&#39;&#39;),(&quot;曲伟&quot;,&#39;80&#39;,&#39;90&#39;,&#39;90&#39;,&#39;&#39;)],dtype=persontype)<br>chineses=peoples[:][chinese]<br>maths=peoples[:][math]<br>englishs=peoples[:][english]<br>peoples[:][total]=peoples[:][chinese]+peoples[:][math]+peoples[:][english]<br>print(np.mean(chineses))<br>print(np.max(chineses))<br>print(np.min(chineses))<br>print(np.std(chineses))<br>print(np.var(chineses))<br>print(np.mean(maths))<br>print(np.max(maths))<br>print(np.min(maths))<br>print(np.std(maths))<br>print(np.var(maths))<br>print(np.mean(englishs))<br>print(np.max(englishs))<br>print(np.min(englishs))<br>print(np.std(englishs))<br>print(np.var(englishs))<br>print(np.sort(peoples,orser=&#39;total&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476733,"discussion_content":"帮你fix了几处bug:\npersontype=np.dtype({\n    &amp;#39;names&amp;#39;:[&amp;#39;name&amp;#39;,&amp;#39;chinese&amp;#39;,&amp;#39;math&amp;#39;,&amp;#39;english&amp;#39;,&amp;#39;total&amp;#39;],\n    &amp;#39;formats&amp;#39;:[&amp;#39;U32&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;i&amp;#39;]})\npeoples=np.array([(&amp;quot;张飞&amp;quot;,66,65,30,0),(&amp;quot;关羽&amp;quot;,95,85,98,0),(&amp;quot;赵云&amp;quot;,93,92,96,0),(&amp;quot;黄忠&amp;quot;,90,88,77,0),(&amp;quot;曲伟&amp;quot;,80,90,90,0)],dtype=persontype)\nchineses=peoples[:][&amp;#39;chinese&amp;#39;]\nmaths=peoples[:][&amp;#39;math&amp;#39;]\nenglishs=peoples[:][&amp;#39;english&amp;#39;]\npeoples[:][&amp;#39;total&amp;#39;]=peoples[:][&amp;#39;chinese&amp;#39;]+peoples[:][&amp;#39;math&amp;#39;]+peoples[:][&amp;#39;english&amp;#39;]\n……\nprint(np.sort(peoples,order=&amp;#39;total&amp;#39;))\n\n说明：\n1）中文的话，format形式为U32\n2）&amp;#39;chinese&amp;#39;是字符串，需要加&amp;#39; &amp;#39;\n3）order拼写\n你调整下再试试\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577073731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1779491,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/27/23/8fd1c46c.jpg","nickname":"རྟུལ་ཕོད་ཅན།","note":"","ucode":"F8F6265EFEEE15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78185,"discussion_content":"S32换成U32","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575982762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1779491,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/27/23/8fd1c46c.jpg","nickname":"རྟུལ་ཕོད་ཅན།","note":"","ucode":"F8F6265EFEEE15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78182,"discussion_content":"S换成U32","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575982709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":155213,"user_name":"小犀牛","can_delete":false,"product_type":"c1","uid":1371584,"ip_address":"","ucode":"2AA6B388DFC476","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/zdYDVMBian6WeZkUDtzgicVheZfeF7A5aC62p0DxJKkViaBUFia0eZQCGkO5fZNZqsga0DU9cQIYUMbkG8xEibLxBicw/132","comment_is_top":false,"comment_ctime":1574664640,"is_pvip":false,"replies":[{"id":"62642","content":"i 代表integer 整数类型<br>S32 代表String32 字符串类型<br>如果是中文字符串，就需要写成 U32<br>希望能对你有所帮助，加油","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577080290,"ip_address":"","comment_id":155213,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574664640","product_id":100021701,"comment_content":"s3,i 代表什么数据类型","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475692,"discussion_content":"i 代表integer 整数类型\nS32 代表String32 字符串类型\n如果是中文字符串，就需要写成 U32\n希望能对你有所帮助，加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577080290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153148,"user_name":"Handsome","can_delete":false,"product_type":"c1","uid":1747799,"ip_address":"","ucode":"61EFF4A1BAA5C6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ab/57/a57266b0.jpg","comment_is_top":false,"comment_ctime":1574168496,"is_pvip":false,"replies":[{"id":"62662","content":"嗯 慢慢来","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577081937,"ip_address":"","comment_id":153148,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574168496","product_id":100021701,"comment_content":"刚查了一下资料，Numpy水太深，懂基础知识就好了:数据类型（i2,i4,i6,i8,u4,..,f4）数组创建，运算，结构化数组。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475060,"discussion_content":"嗯 慢慢来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150502,"user_name":"GS","can_delete":false,"product_type":"c1","uid":1042618,"ip_address":"","ucode":"21C73A8CBD8093","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/ba/6d318c08.jpg","comment_is_top":false,"comment_ctime":1573546641,"is_pvip":false,"replies":[{"id":"59738","content":"数据分析有微信群的，可以找运营同学要","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1574738690,"ip_address":"","comment_id":150502,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573546641","product_id":100021701,"comment_content":"在jupyter上敲了一遍。 https:&#47;&#47;github.com&#47;leledada&#47;jupyter&#47;blob&#47;master&#47;pynumTest.ipynb<br>请问老师，这个课程有答疑微信群，或者学习小组吗？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474178,"discussion_content":"数据分析有微信群的，可以找运营同学要","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574738690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150066,"user_name":"北房有佳人","can_delete":false,"product_type":"c1","uid":1669804,"ip_address":"","ucode":"171A3A1415D392","user_header":"https://static001.geekbang.org/account/avatar/00/19/7a/ac/ee7067e9.jpg","comment_is_top":false,"comment_ctime":1573457467,"is_pvip":false,"replies":[{"id":"62675","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577082813,"ip_address":"","comment_id":150066,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573457467","product_id":100021701,"comment_content":"# Numpy统计全班的成绩,<br># 求出语文，英语，数学中的平均成绩，最小成绩，最大成绩，方差，标准差.<br># 总成绩排序，得出名词进行成绩输出<br><br># average()加权平均数，意思是每个元素可以设置一个权重，默认情况下每个元素的权重是相同的。<br># var()方差指每个数值与平均值之差的平方求和的平均值，即mean((x-x.mean())**2)<br># 标准差std() 标准差是方差的算术平方根。在数学意义上，代表的是一组数据离平均值的分散程度<br>import numpy as np<br><br># 第一步设计数组结构<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br># 第二步 构建数组<br>peoples = np.array([<br>    (&#39;ZhangFei&#39;,66,65,30),(&#39;GuanYu&#39;,95,85,98),<br>    (&#39;ZhaoYun&#39;,93,92,96),(&#39;HuangZhong&#39;,90,88,77),<br>    (&#39;DianWei&#39;,80,90,90)],<br>    dtype=persontype)<br><br># 各科成绩的数组<br>names = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>mathes = peoples[&#39;math&#39;]<br><br># 计算平均成绩，最小成绩，最大成绩，方差，标准差<br>def tongji(name,cj):<br>    &quot;&quot;&quot;<br>    统计数据<br>    &quot;&quot;&quot;<br>    print(f&#39;科目:{name} | 平均成绩:{np.mean(cj)} | 最小成绩:{np.min(cj)}|最大成绩:{np.max(cj)} | 方差:{np.var(cj)}| 标准差:{np.std(cj)}&#39;)<br><br>tongji(&#39;语文&#39;,chineses)<br>tongji(&#39;英语&#39;,englishs)<br>tongji(&#39;数学&#39;,mathes)<br><br># 总成绩排序<br>ranking = sorted(peoples,key = lambda x:sum(list(x)[1:]),reverse=True)<br>print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474054,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577082813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149107,"user_name":"Alery","can_delete":false,"product_type":"c1","uid":1156557,"ip_address":"","ucode":"08F3F49181E67B","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/cd/3aff5d57.jpg","comment_is_top":false,"comment_ctime":1573142269,"is_pvip":false,"replies":[{"id":"62773","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577090911,"ip_address":"","comment_id":149107,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573142269","product_id":100021701,"comment_content":"import numpy as np<br><br>studentType = np.dtype({<br>    &quot;names&quot;: [&quot;name&quot;, &quot;c&quot;, &quot;e&quot;, &quot;m&quot;, &quot;t&quot;],<br>    &quot;formats&quot;: [&quot;S32&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;]})<br><br>students = np.array([(&quot;zf&quot;, 66, 65, 3, 0), <br>                     (&quot;gy&quot;, 95, 85, 98, 0), <br>                     (&quot;zy&quot;, 93, 92, 96, 0),<br>                     (&quot;hz&quot;, 90, 88, 77, 0),<br>                     (&quot;dw&quot;, 80, 90, 90, 0)], dtype=studentType)<br><br>c = students[:][&quot;c&quot;]<br>e = students[:][&quot;e&quot;]<br>m = students[:][&quot;m&quot;]<br><br>print(&quot;语文平均值:&quot;, np.average(c), &quot;最大值:&quot;, np.amax(c), &quot;最小值&quot;, np.amin(c), &quot;方差&quot;, np.var(c), &quot;标准差&quot;, np.std(c))<br>print(&quot;英语平均值:&quot;, np.average(e), &quot;最大值:&quot;, np.amax(e), &quot;最小值&quot;, np.amin(e), &quot;方差&quot;, np.var(e), &quot;标准差&quot;, np.std(e))<br>print(&quot;数学平均值:&quot;, np.average(m), &quot;最大值:&quot;, np.amax(m), &quot;最小值&quot;, np.amin(m), &quot;方差&quot;, np.var(m), &quot;标准差&quot;, np.std(m))<br><br>students[:][&quot;t&quot;] = c + e + m<br>print(&quot;排序前:&quot;, students)<br>print(&quot;排序后:&quot;, np.sort(students, order=&quot;t&quot;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473737,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143916,"user_name":"Nononoelle","can_delete":false,"product_type":"c1","uid":1707190,"ip_address":"","ucode":"666EA1B872F09E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/W9HEPPwoug7vAjFBMjIUunwBn5WuwnRq0ugMLMWYCCMxIzX0bFyAV6kiaqT20HD1Ya6CYt2zFg6QBPylch4f81Q/132","comment_is_top":false,"comment_ctime":1571806716,"is_pvip":false,"replies":[{"id":"62698","content":"嗯 看用什么语言吧，python的话 numpy, pandas用的还挺多的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577084858,"ip_address":"","comment_id":143916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571806716","product_id":100021701,"comment_content":"用惯了R，感觉numpy就不怎么好用了，估计pandas的功能更强大点吧！","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471744,"discussion_content":"嗯 看用什么语言吧，python的话 numpy, pandas用的还挺多的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577084858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143281,"user_name":"Answer Liu","can_delete":false,"product_type":"c1","uid":1387369,"ip_address":"","ucode":"7F1E3D96EAD35C","user_header":"https://static001.geekbang.org/account/avatar/00/15/2b/69/7aace61c.jpg","comment_is_top":false,"comment_ctime":1571661206,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571661206","product_id":100021701,"comment_content":"import numpy as np<br>a = np.array([[66, 65, 30], [72, 51, 63], [98, 83, 49]])<br>chinese = a[:, 0]<br>math = a[:, 0]<br>physics = a[:, 0]<br><br><br>def demo(subject):<br>    print(np.mean(subject))<br>    print(np.amin(subject))<br>    print(np.amax(subject))<br>    print(np.var(subject))<br>    print(np.std(subject))<br><br><br>demo(chinese)<br>demo(math)<br>demo(physics)<br>print(np.sort(np.sum(a, axis=1)))<br>","like_count":0},{"had_liked":false,"id":142057,"user_name":"🤔","can_delete":false,"product_type":"c1","uid":1701695,"ip_address":"","ucode":"68F1EB362D627F","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/3f/9c24c383.jpg","comment_is_top":false,"comment_ctime":1571285454,"is_pvip":false,"replies":[{"id":"59770","content":"VS Code用的也很多，选择适合自己的就行，我有时候还会用Google的Colab，主要是有免费GPU可以使用","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1574741335,"ip_address":"","comment_id":142057,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571285454","product_id":100021701,"comment_content":"老师，我现在是用的VS code，您认为这款怎么样？因为PyCharm没用过，不知道如何选择","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470971,"discussion_content":"VS Code用的也很多，选择适合自己的就行，我有时候还会用Google的Colab，主要是有免费GPU可以使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574741335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135529,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1569204833,"is_pvip":false,"replies":[{"id":"63778","content":"可以使用table()，column()等函数","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577541255,"ip_address":"","comment_id":135529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569204833","product_id":100021701,"comment_content":"请问，如果将复杂的sql转换为sqlachemy语句，是否有比较好的工具或者方法","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468232,"discussion_content":"可以使用table()，column()等函数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577541255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129162,"user_name":"FATMAN89","can_delete":false,"product_type":"c1","uid":1175430,"ip_address":"","ucode":"48A67FB47B3C5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/ef/86/12f95d66.jpg","comment_is_top":false,"comment_ctime":1567052941,"is_pvip":false,"replies":[{"id":"53395","content":"后面都改成了Python3 方便大家使用","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1570432883,"ip_address":"","comment_id":129162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567052941","product_id":100021701,"comment_content":"我们这门课主要会用python2还是python3呢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465313,"discussion_content":"后面都改成了Python3 方便大家使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570432883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129002,"user_name":"dudulin","can_delete":false,"product_type":"c1","uid":1623284,"ip_address":"","ucode":"FF978C0465E784","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/nX6Hyhhr9XU9BmKnhFbvgNF62XRoBKEk1Fpwk8GicYg8fzWOqC4D0kAADS8wAriayIH9XuzSdyJt2m9XkIudQv4Q/132","comment_is_top":false,"comment_ctime":1567005130,"is_pvip":false,"replies":[{"id":"62744","content":"axis=0:方向是垂直方向，也就是列的方向进行排序<br>axis=1:方向是水平方向，也就是行的方向进行排序","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577088402,"ip_address":"","comment_id":129002,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567005130","product_id":100021701,"comment_content":"老师，我有一个疑问啊。<br>既然axis＝0代表跨行计算，＝1代表跨列。<br>为什么 Numpy排序那里<br><br>a = np.array([[4,3,2],[2,4,1]])<br><br>print np.sort(a, axis=0)  <br>的运行结果 不是<br>[[2,4]<br>[3,4]<br>[1,2]]  呢？？？<br><br>谢谢<br><br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465220,"discussion_content":"axis=0:方向是垂直方向，也就是列的方向进行排序\naxis=1:方向是水平方向，也就是行的方向进行排序","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577088402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127399,"user_name":"王定坤","can_delete":false,"product_type":"c1","uid":1196179,"ip_address":"","ucode":"B82E3768C1BB77","user_header":"https://static001.geekbang.org/account/avatar/00/12/40/93/386b936c.jpg","comment_is_top":false,"comment_ctime":1566698054,"is_pvip":false,"replies":[{"id":"63515","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577516167,"ip_address":"","comment_id":127399,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566698054","product_id":100021701,"comment_content":"# coding=utf-8<br><br>import numpy as np<br><br># 通过数组完成统计<br>names = np.array([&#39;ZhangFei&#39;, &#39;GuanYu&#39;, &#39;ZhaoYun&#39;, &#39;HuangZhong&#39;, &#39;DianWei&#39;])<br>achivements = [<br>\t[66, 65, 30],<br>\t[95, 85, 98],<br>\t[93, 92, 96],<br>\t[90, 88, 77],<br>\t[80, 90, 90]<br>]<br><br>tmp = np.zeros((5, 7))<br>tmp[:, 0:3] = achivements<br><br>tmp[:, 3] = np.mean(achivements, axis = 1)<br>tmp[:, 4] = np.min(achivements, axis = 1)<br>tmp[:, 5] = np.max(achivements, axis = 1)<br>tmp[:, 6] = np.sum(achivements, axis = 1)<br><br>seqs = np.argsort(-tmp[:, 6])<br>sorted_names = names[seqs]<br>sorted_tmp = tmp[seqs]<br><br>scores = []<br>for i in range(len(sorted_names)):<br>\tl = []<br>\tl.append(sorted_names[i])<br>\tl.extend(sorted_tmp[i])<br>\tscores.append(tuple(l))<br><br>print scores","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464474,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126112,"user_name":"Geek_545e3b","can_delete":false,"product_type":"c1","uid":1628619,"ip_address":"","ucode":"9F11D3604EE9D2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWbUlKibZs6Qy1q1SuRfyew09nKownad6JrNicJROsssCdib9hdHpG7vburY5rWdxU6YGrgHg0VVsaA/132","comment_is_top":false,"comment_ctime":1566314804,"is_pvip":false,"replies":[{"id":"63788","content":"加油~","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577541917,"ip_address":"","comment_id":126112,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566314804","product_id":100021701,"comment_content":"import numpy as np<br># 这里创建了一维数组,不是二维<br>persontype = np.dtype([(&#39;name&#39;,&#39;S32&#39;),(&#39;chinese&#39;,&#39;i&#39;),(&#39;math&#39;,&#39;i&#39;),(&#39;english&#39;,&#39;f&#39;),(&#39;total&#39;,&#39;f&#39;)])<br>peoples=np.array([(&#39;Zhangfei&#39;,75,100,90,0),(&#39;Guanyu&#39;,85,96,88.5,0),<br>                  (&#39;Zhaoyun&#39;,85,92,96.5,0),(&#39;Huangzhong&#39;,65,85,100,0)],<br>                 dtype=persontype)<br>for b in peoples.dtype.names:<br>    if b ==&#39;name&#39; or b==&#39;total&#39;:<br>        continue<br>    print(&#39;mean of {}={}&#39;.format(b,np.mean(peoples[b])))<br>    # print(&#39;mean of {}={}&#39;.format(b,peoples[b].mean()))<br>    print(&#39;max of {}={}&#39;.format(b, np.amax(peoples[b])))<br>    print(&#39;min of {}={}&#39;.format(b, np.mean(peoples[b])))<br>    print(&#39;var of {}={}&#39;.format(b, np.var(peoples[b])))<br>    print(&#39;std of {}={}&#39;.format(b, np.std(peoples[b])))<br>peoples[&#39;total&#39;]=peoples[&#39;chinese&#39;]+peoples[&#39;math&#39;]+peoples[&#39;english&#39;]<br>sort_peoples=reversed(np.sort(peoples,order=&#39;total&#39;))<br><br># print(&quot;名字\\t\\t总成绩&quot;)<br>for rank in sort_peoples:<br>    print(&#39;{}\\t:\\t{}&#39;.format(rank[0],rank[-1]))<br>我是用python3写的，初学者，好多东西都不懂，不断尝试了很多，才才大概知道一点语法，也借鉴了别人的东西，最后有点小问题，我最后print的时候，用制表符，为什么第一行没对齐，还要想问一下，如果我创建一个列表，然后往里面放字典的话，字典里面是名字和成绩，能不能有方法排序啊，我试了sorted ,出现了bug<br><br><br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463836,"discussion_content":"加油~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577541917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125225,"user_name":"smile","can_delete":false,"product_type":"c1","uid":1590349,"ip_address":"","ucode":"1B922B7536ABBE","user_header":"https://static001.geekbang.org/account/avatar/00/18/44/4d/9a712571.jpg","comment_is_top":false,"comment_ctime":1566123145,"is_pvip":false,"replies":[{"id":"62762","content":"很好的洞察，实际上np.array里面的数组类型应该是一致的，[&#39;yang&#39;,20,86,95,90.2]很明显这些类型是不同的，所以我们使用了np.dtype进行了封装，可以保存不同的数据类型<br>np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;age&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]                    <br>})","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577090356,"ip_address":"","comment_id":125225,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566123145","product_id":100021701,"comment_content":"# 2.结构数组<br>peopletype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;age&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]                    <br>})<br><br>peoples = np.array([(&#39;yang&#39;,20,86,95,90.2),(&#39;wang&#39;,23,90,68,80.3)],dtype=peopletype)       <br># array（[ 里面为什么不能是[]呢？]），若写成如下形式会报错：<br>&#39;&#39;&#39;<br>p1 = np.array([[&#39;kiu&#39;,56,89,90,67.9087],[&#39;hiu&#39;,56,89,90,67.9087]],dtpye=peopletype)<br>#  提示：TypeError: &#39;dtpye&#39; is an invalid keyword argument for array()<br><br>请老师抽空回复一下，谢谢！","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463486,"discussion_content":"很好的洞察，实际上np.array里面的数组类型应该是一致的，[&amp;#39;yang&amp;#39;,20,86,95,90.2]很明显这些类型是不同的，所以我们使用了np.dtype进行了封装，可以保存不同的数据类型\nnp.dtype({\n    &amp;#39;names&amp;#39;:[&amp;#39;name&amp;#39;,&amp;#39;age&amp;#39;,&amp;#39;chinese&amp;#39;,&amp;#39;math&amp;#39;,&amp;#39;english&amp;#39;],\n    &amp;#39;formats&amp;#39;:[&amp;#39;S32&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;i&amp;#39;,&amp;#39;f&amp;#39;]                    \n})","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125224,"user_name":"goongoup","can_delete":false,"product_type":"c1","uid":1624013,"ip_address":"","ucode":"E9C3B0BB32EC78","user_header":"https://static001.geekbang.org/account/avatar/00/18/c7/cd/70c1bcb5.jpg","comment_is_top":false,"comment_ctime":1566122557,"is_pvip":false,"replies":[{"id":"62763","content":"你可以看下置顶的留言，有不错的完成作业参考","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577090405,"ip_address":"","comment_id":125224,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566122557","product_id":100021701,"comment_content":"请问下老师，最后那个作业练习题的答案在哪里？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463485,"discussion_content":"你可以看下置顶的留言，有不错的完成作业参考","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125033,"user_name":"喵君儿🤣","can_delete":false,"product_type":"c1","uid":1579893,"ip_address":"","ucode":"D8AD5F4044C3E7","user_header":"https://static001.geekbang.org/account/avatar/00/18/1b/75/bc89f498.jpg","comment_is_top":false,"comment_ctime":1566049176,"is_pvip":false,"replies":[{"id":"62767","content":"正确 赞下完成作业的同学","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577090667,"ip_address":"","comment_id":125033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566049176","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],<br>    dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>print (np.mean(chineses))<br>print (np.amin(chineses))<br>print (np.amax(chineses))<br>print (np.std(chineses))<br>print (np.var(chineses))<br>print (np.mean(maths))<br>print (np.mean(englishs))<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463409,"discussion_content":"正确 赞下完成作业的同学","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577090667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124057,"user_name":"Bayes","can_delete":false,"product_type":"c1","uid":1539608,"ip_address":"","ucode":"2F83B2EFCE6B5D","user_header":"https://static001.geekbang.org/account/avatar/00/17/7e/18/c3ed4650.jpg","comment_is_top":false,"comment_ctime":1565798780,"is_pvip":false,"replies":[{"id":"63790","content":"这个方法不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577542003,"ip_address":"","comment_id":124057,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565798780","product_id":100021701,"comment_content":"老师用的python2，如果你用的是python3的话，print的语法是不一样的。<br>教大家一个小技巧，可以快速把所有print语法切换成python3的：<br>在vscode（其它IDE也应该是可以的）上ctrl + f打开搜索，然后在搜索框里用正则表达式，并输入`print (.+)`，<br>然后在切换框里输入`print($1)`，然后点击替换全部就ok了。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462987,"discussion_content":"这个方法不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121768,"user_name":"隰有荷","can_delete":false,"product_type":"c1","uid":1357944,"ip_address":"","ucode":"2BE9A32AB28963","user_header":"https://static001.geekbang.org/account/avatar/00/14/b8/78/2828195b.jpg","comment_is_top":false,"comment_ctime":1565221945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565221945","product_id":100021701,"comment_content":"老师，那个轴到底啥意思啊，按照跨行跨列去理解，在ptp（）函数求最大最小值的差时，感觉还是对不上啊，另外，是不是可以理解成，数组的维度就是轴数？","like_count":0},{"had_liked":false,"id":119672,"user_name":"kaixiao7","can_delete":false,"product_type":"c1","uid":1242577,"ip_address":"","ucode":"505EC4AFB5E656","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/d1/cc6f82eb.jpg","comment_is_top":false,"comment_ctime":1564649883,"is_pvip":false,"replies":[{"id":"63599","content":"两个都可以","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577520458,"ip_address":"","comment_id":119672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564649883","product_id":100021701,"comment_content":"老师，在结构化数组中，np.mean(peoples[:][&#39;age&#39;])与np.mean(peoples[&#39;age&#39;])结果一致，不明白您基于什么原因使用了分片复制?","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461009,"discussion_content":"两个都可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577520458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118551,"user_name":"鱼儿","can_delete":false,"product_type":"c1","uid":1615242,"ip_address":"","ucode":"D44CBA2E72636B","user_header":"https://static001.geekbang.org/account/avatar/00/18/a5/8a/9fb18623.jpg","comment_is_top":false,"comment_ctime":1564386664,"is_pvip":false,"replies":[{"id":"63608","content":"鱼儿同学很好的说明","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577520964,"ip_address":"","comment_id":118551,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564386664","product_id":100021701,"comment_content":"1使用numpy不用python 自带的列表list 的原因。<br>因为列表list 相当于数组，python 虽然省去了指针操作，但数组有指针，这样如果存储一个数组，还需要存储其空间及数组的值，浪费内存和计算效率。<br>另外从内存来看，列表list 中的元素是随机存储的，而","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460450,"discussion_content":"鱼儿同学很好的说明","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577520964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117747,"user_name":"Harry_Lui","can_delete":false,"product_type":"c1","uid":1615146,"ip_address":"","ucode":"04767FD95A5B09","user_header":"https://static001.geekbang.org/account/avatar/00/18/a5/2a/46189573.jpg","comment_is_top":false,"comment_ctime":1564123934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564123934","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;Dianwei&quot;,80,90,90)],<br>    dtype=persontype)<br><br>chinese = peoples[:][&#39;chinese&#39;]<br>math = peoples[:][&#39;math&#39;]<br>english = peoples[:][&#39;english&#39;]<br><br>def show(name,score):<br>    print(name)<br>    print (np.mean(score))<br><br>    print (np.min(score))<br><br>    print (np.max(score))<br><br>    print(np.var(score))<br><br>    print (np.std(score))<br><br>show(&#39;chinese&#39;,chinese)<br>show(&#39;math&#39;,math)<br>show(&#39;english&#39;,english)<br><br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)","like_count":0},{"had_liked":false,"id":115562,"user_name":"王张","can_delete":false,"product_type":"c1","uid":1526391,"ip_address":"","ucode":"8153B5532B2C62","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/77/754a127b.jpg","comment_is_top":false,"comment_ctime":1563626651,"is_pvip":false,"replies":[{"id":"63658","content":"赞下写作业的同学","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577526819,"ip_address":"","comment_id":115562,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563626651","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-<br>import numpy as np<br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>student = np.array([(&quot;1zf&quot;,32,75,100),(&quot;1gy&quot;,24,85,96),<br>       (&quot;1zy&quot;,28,85,92),(&quot;hz1&quot;,29,65,85)],<br>                   dtype=persontype)<br># print(student)<br>na = student[:][&#39;name&#39;]<br>ch = student[:][&#39;chinese&#39;]<br>englishs = student[:][&#39;english&#39;]<br>maths = student[:][&#39;math&#39;]<br>print(&quot;-----------&quot;)<br>print(na[0])<br>print(ch)<br>print(englishs)<br>print(maths)<br>print(&quot;==========&quot;)<br>print(&quot;语文平均成绩&quot;+str(np.mean(ch)))<br>print(&quot;英语平均成绩&quot;+str(np.mean(englishs)))<br>print(&quot;数学平均成绩&quot;+str(np.mean(maths)))<br><br>print(&quot;语文最高分&quot;+str(np.max(ch)))<br>print(&quot;英语最高分&quot;+str(np.max(englishs)))<br>print(&quot;数学最高分&quot;+str(np.max(maths)))<br><br>print(&quot;语文最低分&quot;+str(np.min(ch)))<br>print(&quot;英语最低分&quot;+str(np.min(englishs)))<br>print(&quot;数学最低分&quot;+str(np.min(maths)))<br><br>print(&quot;语文方差&quot;+str(np.var(ch)))<br>print(&quot;语文标准差&quot;+str(np.std(ch)))<br>print(&quot;英语方差&quot;+str(np.var(englishs)))<br>print(&quot;英语标准差&quot;+str(np.std(englishs)))<br>print(&quot;数学方差&quot;+str(np.var(maths)))<br>print(&quot;数学标准差&quot;+str(np.std(maths)))<br><br>total = np.add(ch,englishs,maths)<br>print(total)<br>print(len(total))<br>sort1 = np.sort(total)<br>print(&quot;排序&quot;)<br>for i in range(len(sort1)):<br>    if sort1[i]==total[0]:<br>        print(na[0])<br>        print(&quot;总分为&quot;)<br>        print(sort1[i])<br>    if sort1[i]==total[1]:<br>        print(na[1])<br>        print(&quot;总分为&quot;)<br>        print(sort1[i])<br>    if sort1[i]==total[2]:<br>        print(na[2])<br>        print(&quot;总分为&quot;)<br>        print(sort1[i])<br>    if sort1[i]==total[3]:<br>        print(na[3])<br>        print(&quot;总分为&quot;)<br>        print(sort1[i])","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459164,"discussion_content":"赞下写作业的同学","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577526819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115555,"user_name":"王张","can_delete":false,"product_type":"c1","uid":1526391,"ip_address":"","ucode":"8153B5532B2C62","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/77/754a127b.jpg","comment_is_top":false,"comment_ctime":1563621871,"is_pvip":false,"replies":[{"id":"63659","content":"写成这样也可以：<br>ages = peoples[&#39;age&#39;]<br>chineses = peoples[&#39;chinese&#39;]<br>maths = peoples[&#39;math&#39;]<br>englishs = peoples[&#39;english&#39;]<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577526914,"ip_address":"","comment_id":115555,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1563621871","product_id":100021701,"comment_content":"ages = peoples[:][&#39;age&#39;] 这个切割成数组能解释一下么？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459158,"discussion_content":"写成这样也可以：\nages = peoples[&amp;#39;age&amp;#39;]\nchineses = peoples[&amp;#39;chinese&amp;#39;]\nmaths = peoples[&amp;#39;math&amp;#39;]\nenglishs = peoples[&amp;#39;english&amp;#39;]\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577526914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3723,"discussion_content":"peoples 是一个二维数组，第一个 [:] 表示取行范围，第二个 [&#39;age&#39;] 是取列方向，字段范围，：在 python 里取 list index and slice 里是很常见的用法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564734241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113996,"user_name":"图·美克尔","can_delete":false,"product_type":"c1","uid":1076720,"ip_address":"","ucode":"021FB5AE110066","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eppQqDE6TNibvr3DNdxG323AruicIgWo5DpVr6U7yZVNkbF2rKluyDfhdpgAEcYEOZTAnbrMdTzFkUw/0","comment_is_top":false,"comment_ctime":1563202097,"is_pvip":false,"replies":[{"id":"63696","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577528466,"ip_address":"","comment_id":113996,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1563202097","product_id":100021701,"comment_content":"import numpy as np<br><br>students = np.array([(&#39;张飞&#39;, 66, 65, 30), <br>                     (&#39;关羽&#39;, 95, 85, 98), <br>                     (&#39;赵云&#39;, 93, 92, 96), <br>                     (&#39;黄忠&#39;, 90, 88, 77), <br>                     (&#39;典韦&#39;, 80, 90, 90)], <br>                     dtype=[(&#39;姓名&#39;, &#39;U10&#39;), <br>                            (&#39;语文&#39;, &#39;i2&#39;), <br>                            (&#39;英语&#39;, &#39;i2&#39;), <br>                            (&#39;数学&#39;, &#39;i2&#39;)])<br><br>chinese = students[:][&#39;语文&#39;]<br>maths = students[:][&#39;数学&#39;]<br>english = students[:][&#39;英语&#39;]<br>names = students[:][&#39;姓名&#39;]<br><br>sorted_score = sorted(map(lambda x: (x[0], sum(tuple(x)[1:])), students), <br>                      key=lambda x:x[1], <br>                      reverse=True)<br>print(sorted_score)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458471,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577528466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113425,"user_name":"小侠龙旋风","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1563005053,"is_pvip":false,"replies":[{"id":"41313","content":"对 NumPy功能很强大，这个算是简化版","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1563009741,"ip_address":"","comment_id":113425,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563005053","product_id":100021701,"comment_content":"老师，你这篇只能算是对numpy的简述吧~<br>我看了这个网址（https:&#47;&#47;www.numpy.org.cn&#47;article&#47;basics&#47;python_numpy_tutorial.html）关于numpy的介绍，发现numpy的功能真的很丰富！","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458215,"discussion_content":"对 NumPy功能很强大，这个算是简化版","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563009741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113389,"user_name":"小侠龙旋风","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1562990359,"is_pvip":false,"replies":[{"id":"63704","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577529599,"ip_address":"","comment_id":113389,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562990359","product_id":100021701,"comment_content":"import numpy as np<br><br>stu_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br><br>stu_array = np.array(<br>    [<br>        (&#39;zhangfei&#39;, 66, 65, 30),<br>        (&#39;guanyu&#39;, 95, 85, 98),<br>        (&#39;zhaoyun&#39;, 93, 92, 96),<br>        (&#39;huangzhong&#39;, 90, 88, 77),<br>        (&#39;dianwei&#39;, 80, 90, 90)<br>    ],<br>    dtype=stu_type<br>)<br><br>stu = stu_array[:]<br><br>chinese_score = stu[&#39;chinese&#39;]<br>english_score = stu[&#39;english&#39;]<br>math_score = stu[&#39;math&#39;]<br>print(&#39;平均成绩: 语文%s 英语%s 数学%s&#39;%(np.mean(chinese_score),np.mean(english_score),np.mean(math_score)))<br>print(&#39;最小成绩: 语文%s 英语%s 数学%s&#39;%(np.min(chinese_score),np.min(english_score),np.min(math_score)))<br>print(&#39;最大成绩: 语文%s 英语%s 数学%s&#39;%(np.max(chinese_score),np.max(english_score),np.max(math_score)))<br>print(&#39;方差: 语文%s 英语%s 数学%s&#39;%(np.var(chinese_score),np.var(english_score),np.var(math_score)))<br>print(&#39;标准差: 语文%s 英语%s 数学%s&#39;%(np.std(chinese_score),np.std(english_score),np.std(math_score)))<br><br>print(&#39;排名:&#39;)<br>rank = sorted(stu, key=lambda s:s[1]+s[2]+s[3], reverse=True)<br>print(rank)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458197,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577529599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112858,"user_name":"邢雪","can_delete":false,"product_type":"c1","uid":1391268,"ip_address":"","ucode":"F161EC12F500EB","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/a4/9d78ac16.jpg","comment_is_top":false,"comment_ctime":1562832886,"is_pvip":false,"replies":[{"id":"63710","content":"Good Job 能完成就OK","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530012,"ip_address":"","comment_id":112858,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562832886","product_id":100021701,"comment_content":"作业答案如下，Python3写的，哪里有笨拙的地方请各位大神多多指教<br>import numpy as np<br>persontype = np.dtype({<br>\t&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>\t&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),<br>\t(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype = persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>zhangsum = np.sum(peoples[0][1]+peoples[0][2]+peoples[0][3])<br>guansum = np.sum(peoples[1][1]+peoples[1][2]+peoples[1][3])<br>zhaosum = np.sum(peoples[2][1]+peoples[2][2]+peoples[2][3])<br>huangsum = np.sum(peoples[3][1]+peoples[3][2]+peoples[3][3])<br>diansum = np.sum(peoples[4][1]+peoples[4][2]+peoples[4][3])<br>zsum = np.array([zhangsum,guansum,zhaosum,huangsum,diansum])<br>#计算平均值<br>print(&quot;语文平均分:{}&quot;.format(np.mean(chineses)))<br>print(&quot;英语平均分:{}&quot;.format(np.mean(englishs)))<br>print(&quot;数学平均分:{}&quot;.format(np.mean(maths)))<br>print(&quot;语文成绩最小值:{}&quot;.format(np.amin(chineses,0)))<br>print(&quot;英语成绩最小值:{}&quot;.format(np.amin(englishs,0)))<br>print(&quot;数学成绩最小值:{}&quot;.format(np.amin(maths,0)))<br>print(&quot;语文成绩最大值:{}&quot;.format(np.amax(chineses,0)))<br>print(&quot;英语成绩最大值:{}&quot;.format(np.amax(englishs,0)))<br>print(&quot;数学成绩最大值:{}&quot;.format(np.amax(maths,0)))<br>print(&quot;语文成绩标准差:{}&quot;.format(np.std(chineses)))<br>print(&quot;语文成绩方差:{}&quot;.format(np.var(chineses)))<br>print(np.sort(zsum))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457932,"discussion_content":"Good Job 能完成就OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112843,"user_name":"邢雪","can_delete":false,"product_type":"c1","uid":1391268,"ip_address":"","ucode":"F161EC12F500EB","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/a4/9d78ac16.jpg","comment_is_top":false,"comment_ctime":1562830674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562830674","product_id":100021701,"comment_content":"老师您好，我不太懂axis = 0，跨行，比如下面这个数组<br>a = np.array([[4,3,2],[2,4,1]]）<br>","like_count":0},{"had_liked":false,"id":112099,"user_name":"Untitled","can_delete":false,"product_type":"c1","uid":1039464,"ip_address":"","ucode":"8DD6ABA3E81A2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg","comment_is_top":false,"comment_ctime":1562668512,"is_pvip":false,"replies":[{"id":"63736","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530837,"ip_address":"","comment_id":112099,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1562668512","product_id":100021701,"comment_content":"#-*- coding:utf-8 -*-<br>import numpy as np<br>person = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;Chinese&#39;,&#39;English&#39;,&#39;Maths&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;]})<br>persons = np.array([(u&quot;zhangfei&quot;,66,65,30),(u&#39;guanyu&#39;,95,85,98),(u&#39;zhaoyu&#39;,93,92,96),(u&#39;huangzhong&#39;,90,88,77),(u&#39;dianwei&#39;,80,90,90)],dtype=person)<br>print(&quot;语文平均成绩：%.4f，最低分：%.4f，最高分：%.4f，方差:%.4f，标准差:%.4f&quot; % (np.mean(persons[:][&#39;Chinese&#39;]),np.amin(persons[:][&#39;Chinese&#39;]),np.amax(persons[:][&#39;Chinese&#39;]),np.std(persons[:][&#39;Chinese&#39;]),np.var(persons[:][&#39;Chinese&#39;])))<br>print(&quot;英语平均成绩：%.4f，最低分：%.4f，最高分：%.4f，方差:%.4f，标准差:%.4f&quot; % (np.mean(persons[:][&#39;English&#39;]),np.amin(persons[:][&#39;English&#39;]),np.amax(persons[:][&#39;English&#39;]),np.std(persons[:][&#39;English&#39;]),np.var(persons[:][&#39;English&#39;])))<br>print(&quot;数学平均成绩：%.4f，最低分：%.4f，最高分：%.4f，方差:%.4f，标准差:%.4f&quot; % (np.mean(persons[:][&#39;Maths&#39;]),np.amin(persons[:][&#39;Maths&#39;]),np.amax(persons[:][&#39;Maths&#39;]),np.std(persons[:][&#39;Maths&#39;]),np.var(persons[:][&#39;Maths&#39;])))<br>print(sorted(persons,key=lambda x:x[1]+x[2]+x[3],reverse=True))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457575,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111183,"user_name":"Cynthia_Zhang","can_delete":false,"product_type":"c1","uid":1590363,"ip_address":"","ucode":"9150DD52E38223","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/FZcFOjpBplrAYsUcmPhO0kZYRB2IhXFo2fibYOycVFJefDEiceM2PBMNDkoMFQbjKZg6uKiaxuyXIlA9cib9dNbP5A/132","comment_is_top":false,"comment_ctime":1562500790,"is_pvip":false,"replies":[{"id":"40481","content":"&quot;张飞&quot; 的formats是&quot;U32&quot;，&quot;zhangfei&quot;的formats是&quot;S32&quot; 你可以再试一下","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562540791,"ip_address":"","comment_id":111183,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562500790","product_id":100021701,"comment_content":"我使用的是Python3，但是依然在中文“张飞”那里保存，编码错误&quot;ascii code can&#39;t encode......&quot;什么的，查询后台又的确是用utf-8编码，感觉很绝望","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457269,"discussion_content":"&amp;quot;张飞&amp;quot; 的formats是&amp;quot;U32&amp;quot;，&amp;quot;zhangfei&amp;quot;的formats是&amp;quot;S32&amp;quot; 你可以再试一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562540791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110331,"user_name":"Ben","can_delete":false,"product_type":"c1","uid":1295311,"ip_address":"","ucode":"CAD25B452D7624","user_header":"https://static001.geekbang.org/account/avatar/00/13/c3/cf/54f71c1b.jpg","comment_is_top":false,"comment_ctime":1562231149,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562231149","product_id":100021701,"comment_content":"如果考虑完全用NumPy来解决排名的问题, 前提条件是没有限制说不能使用本课程以外的方法的话, 那么可以这么解决:<br><br>求和应该可以转化为求平均值来解决, 所以贴出关键步骤如下:<br>chinese = samples[:][&#39;chinese&#39;]<br>english = samples[:][&#39;english&#39;]<br>math = samples[:][&#39;math&#39;]<br><br>rankings = np.argsort(-np.mean([chinese, english, math], axis=0))<br>print(samples[rankings])<br><br>关键点: <br>1. 通过 np.mean来求平均值<br>2. 通过 np.argsort来排序, 并且采用倒序, 获取到分数从高到低的索引作为名次<br><br>不知道这样合适不合适<br><br><br>","like_count":0,"discussions":[{"author":{"id":1258332,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/5c/8ea5d4aa.jpg","nickname":"鲁小鲁","note":"","ucode":"02683A34EA151E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80092,"discussion_content":"按列（人）取到平均值，平均值转成负数（倒序）。np.argsort() 进行排序。samples[rankings]对数组进行重新排序","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576145927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109232,"user_name":"内存爆了","can_delete":false,"product_type":"c1","uid":1590007,"ip_address":"","ucode":"A0825B772CC3DF","user_header":"https://static001.geekbang.org/account/avatar/00/18/42/f7/67a2e6ee.jpg","comment_is_top":false,"comment_ctime":1561985043,"is_pvip":false,"replies":[{"id":"63936","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577605504,"ip_address":"","comment_id":109232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561985043","product_id":100021701,"comment_content":"这是我的练习题，请老师点评哈：<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]<br>})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>                    (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),<br>                    (&quot;DianWei&quot;,80,90,90)],dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br># 平均成绩<br>print(np.mean(chineses))<br>print(np.mean(englishs))<br>print(np.mean(maths))<br># 输出最小值和最大值<br>print(np.amin(chineses))<br>print(np.amin(englishs))<br>print(np.amin(maths))<br>print(np.amax(chineses))<br>print(np.amax(englishs))<br>print(np.amax(maths))<br># 计算方差和标准差<br>stdchinese = np.array(chineses)<br>print(np.std(stdchinese))<br>print(np.var(stdchinese))<br>stdenglish = np.array(englishs)<br>print(np.std(stdenglish))<br>print(np.var(stdenglish))<br>stdmath = np.array(maths)<br>print(np.std(stdmath))<br>print(np.var(stdmath))<br># 排序<br>a = np.array([chineses,englishs,maths])<br>print(np.sort(a))<br># 运行结果<br>84.8<br>84.0<br>78.2<br>66<br>65<br>30.0<br>95<br>92<br>98.0<br>10.721940122944169<br>114.96000000000001<br>9.777525249264253<br>95.6<br>25.190474<br>634.55994","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456312,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577605504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108199,"user_name":"华夏","can_delete":false,"product_type":"c1","uid":1449474,"ip_address":"","ucode":"4D627CFA5A4B82","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/02/2864e0f2.jpg","comment_is_top":false,"comment_ctime":1561694680,"is_pvip":false,"replies":[{"id":"39212","content":"整理的不错，创建了total字段，作为三门成绩的总和，然后按照total排序输出","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561700004,"ip_address":"","comment_id":108199,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561694680","product_id":100021701,"comment_content":"参考了各位同学的代码。<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&#39;ZhangFei&#39;, 66, 65, 30, 0), (&#39;GuanYu&#39;, 95, 85, 98, 0), (&#39;ZhaoYun&#39;, 92, 93, 96, 0), <br>                    (&#39;HuangZhong&#39;, 90, 88, 77, 0), (&#39;DianWei&#39;, 80, 90, 90, 0)],dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishes = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>peoples[:][&#39;total&#39;]= peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>def show(name,cj):<br>    print(&#39;{} | {} | {} | {} | {} | {} &#39;<br>          .format(name,np.mean(cj),np.min(cj),np.max(cj),np.var(cj),np.std(cj)))<br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>show(&quot;语文&quot;, chineses)<br>show(&quot;英语&quot;, englishes)<br>show(&quot;数学&quot;, maths)<br><br>print(np.sort(peoples, order=(&#39;total&#39;))[::-1])","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455868,"discussion_content":"整理的不错，创建了total字段，作为三门成绩的总和，然后按照total排序输出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561700004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107574,"user_name":"Zee","can_delete":false,"product_type":"c1","uid":1580106,"ip_address":"","ucode":"BCE4E24D0EE104","user_header":"https://static001.geekbang.org/account/avatar/00/18/1c/4a/897dc45d.jpg","comment_is_top":false,"comment_ctime":1561559228,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561559228","product_id":100021701,"comment_content":"使用[:]并没有将数组拷贝出来，修改数组元素后，peoples里的值也跟着改变了","like_count":0,"discussions":[{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3725,"discussion_content":"这个是零拷贝，就改了个名字而已，需要的话用 peoples[:][&#39;math&#39;].copy() 方法深拷贝","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564734347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107394,"user_name":"Geek_fbe6fe","can_delete":false,"product_type":"c1","uid":1250069,"ip_address":"","ucode":"E69AD55364C93E","user_header":"https://static001.geekbang.org/account/avatar/00/13/13/15/5dabb390.jpg","comment_is_top":false,"comment_ctime":1561527040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561527040","product_id":100021701,"comment_content":"personTypeNew=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;english&#39;,&#39;chinese&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,89),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=personTypeNew)<br>chineses=peoples[:][&#39;chinese&#39;]<br>maths=peoples[:][&#39;math&#39;]<br>englishes=peoples[:][&#39;english&#39;]<br>print (&#39;Average chinese is %f&#39; %np.mean(chineses))<br>print (&#39;Average maths is %f&#39; %np.mean(maths))<br>print (&#39;Average english is %f&#39; %np.mean(englishes))<br>print (&#39;Chinese is max %d and min %d&#39; %(np.max(chineses),np.min(chineses)))<br>print (&#39;Maths is max %d and min %d&#39; %(np.max(maths),np.min(maths)))<br>print (&#39;English is max %d and min %d&#39; %(np.max(englishes),np.min(englishes)))<br>peoplesArray=np.array([(66,65,30),(95,85,89),(93,92,96),(90,88,77),(80,90,90)])<br>print (&#39;Std is %f&#39; %np.std(peoplesArray))<br>print (&#39;Var is %f&#39; %np.var(peoplesArray))<br>total = np.add(chineses,maths)<br>total = np.add(total,englishes)<br>print total<br>print np.sort(total)","like_count":0},{"had_liked":false,"id":107001,"user_name":"lycan","can_delete":false,"product_type":"c1","uid":1587048,"ip_address":"","ucode":"F984DBF4515EEA","user_header":"https://static001.geekbang.org/account/avatar/00/18/37/68/afe6c6f8.jpg","comment_is_top":false,"comment_ctime":1561435955,"is_pvip":false,"replies":[{"id":"38732","content":"一个很好的问题，如果数值为中文，你可以把S32改成U32，即：<br>class_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>这里实际上用的是 numpy 中的字符编码来表示数据类型的定义，比如S 代表字符串类型，U代表Unicode。如果你采用了中文，需要使用U32。<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1561443834,"ip_address":"","comment_id":107001,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561435955","product_id":100021701,"comment_content":"陈老师，我用您上边写的先定义dtype再定义array的方法定义数组，但是包含中文就会报错，具体代码是这样的<br>import numpy as np<br>class_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>class_array = np.array(<br>    [(&quot;张飞&quot;, 66, 30, 65), (&quot;关羽&quot;, 95, 98, 85), (&quot;赵云&quot;, 93, 96, 92), (&quot;黄忠&quot;, 90, 77, 88), (&quot;典韦&quot;, 80, 90, 90)],<br>    dtype=class_type)<br>报错信息是<br>Traceback (most recent call last):<br>  File &quot;E:&#47;Subject&#47;python&#47;NumpyDemo&#47;NumpyDemo.py&quot;, line 10, in &lt;module&gt;<br>    dtype=class_type)<br>UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)<br>我的环境是python3.7.3，默认编码是utf-8<br>希望老师能给解答或者提供方向，谢谢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455320,"discussion_content":"一个很好的问题，如果数值为中文，你可以把S32改成U32，即：\nclass_type = np.dtype({\n    &amp;#39;names&amp;#39;: [&amp;#39;name&amp;#39;, &amp;#39;chinese&amp;#39;, &amp;#39;math&amp;#39;, &amp;#39;english&amp;#39;],\n    &amp;#39;formats&amp;#39;: [&amp;#39;U32&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;i&amp;#39;]\n})\n这里实际上用的是 numpy 中的字符编码来表示数据类型的定义，比如S 代表字符串类型，U代表Unicode。如果你采用了中文，需要使用U32。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561443834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104229,"user_name":"福布斯第一","can_delete":false,"product_type":"c1","uid":1244851,"ip_address":"","ucode":"6DA11E1E6819F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/fe/b3/964eb5ac.jpg","comment_is_top":false,"comment_ctime":1560692721,"is_pvip":false,"replies":[{"id":"64100","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577609284,"ip_address":"","comment_id":104229,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560692721","product_id":100021701,"comment_content":"import numpy as np<br>peopletype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;English&#39;, &#39;math&#39;], <br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;,&#39;66&#39;,&#39;65&#39;,&#39;30&#39;), <br>                    (&#39;guanyun&#39;,&#39;95&#39;,&#39;85&#39;,&#39;98&#39;), <br>                    (&#39;zhaoyun&#39;,&#39;93&#39;,&#39;92&#39;,&#39;96&#39;), <br>                    (&#39;huangzhong&#39;,&#39;90&#39;,&#39;88&#39;,&#39;77&#39;), <br>                    (&#39;dianwei&#39;,&#39;80&#39;,&#39;90&#39;,&#39;90&#39;)],<br>                   dtype=peopletype)<br>chinese = peoples[:][&#39;chinese&#39;]<br>English = peoples[:][&#39;English&#39;]<br>math = peoples[:][&#39;math&#39;]<br>rank = sorted(peoples,key=lambda x:x[1]+x[2]+x[3],reverse=True)<br>name_rank = np.array(ranking)[:][&#39;name&#39;]<br><br>print(&quot;平均成绩：语文 {}, 英语 {}, 数学 {}&quot;.format(np.mean(chinese),np.mean(English),np.mean(math)))<br>print(&quot;最小成绩：语文 {}, 英语 {}, 数学 {}&quot;.format(np.amin(chinese),np.amin(English),np.amin(math)))<br>print(&quot;最大成绩：语文 {}, 英语 {}, 数学 {}&quot;.format(np.amax(chinese),np.amax(English),np.amax(math)))<br>print(&quot;方差：语文 {}, 英语 {}, 数学 {}&quot;.format(np.var(chinese),np.var(English),np.var(math)))<br>print(&quot;标准查：语文 {}, 英语 {}, 数学 {}&quot;.format(np.std(chinese),np.std(English),np.std(math)))<br>print(&quot;总成绩排序{}&quot;.format(name_rank))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454181,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577609284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104016,"user_name":"建强","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1560589891,"is_pvip":false,"replies":[{"id":"64107","content":"你可以用接口调用吧","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577609732,"ip_address":"","comment_id":104016,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560589891","product_id":100021701,"comment_content":"老师，你好，再问一个问题，如果应用系统是基于JAVA框架开发的，要在这样的应用系统中嵌入用Python做数据分析的功能，是不是就行不通？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454092,"discussion_content":"你可以用接口调用吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577609732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100906,"user_name":"Nickkkwen","can_delete":false,"product_type":"c1","uid":1342168,"ip_address":"","ucode":"E319CFA7AA3F94","user_header":"https://static001.geekbang.org/account/avatar/00/14/7a/d8/20353710.jpg","comment_is_top":false,"comment_ctime":1559685949,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559685949","product_id":100021701,"comment_content":"dtype 里面的format 可以给解释一下么 S32 i i 这些","like_count":0},{"had_liked":false,"id":100249,"user_name":"Nickkkwen","can_delete":false,"product_type":"c1","uid":1342168,"ip_address":"","ucode":"E319CFA7AA3F94","user_header":"https://static001.geekbang.org/account/avatar/00/14/7a/d8/20353710.jpg","comment_is_top":false,"comment_ctime":1559509031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559509031","product_id":100021701,"comment_content":"轴的那个部分 有点不清楚","like_count":0},{"had_liked":false,"id":100115,"user_name":"Wing·三金","can_delete":false,"product_type":"c1","uid":1341402,"ip_address":"","ucode":"6B9F5822C3717F","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/da/54c663f3.jpg","comment_is_top":false,"comment_ctime":1559447556,"is_pvip":false,"replies":[{"id":"64155","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577610614,"ip_address":"","comment_id":100115,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559447556","product_id":100021701,"comment_content":"import numpy as np<br><br>mytype = np.dtype({&#39;names&#39;: (&#39;name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;), <br>                  &#39;formats&#39;: (&#39;U2&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;)})<br># note that outer-listed(rather than tupled) if necessary for np to recognize here<br>data = [(&#39;张飞&#39;, 66, 65, 30), <br>       (&#39;关羽&#39;, 95, 85, 98), <br>       (&#39;赵云&#39;, 93, 92, 96), <br>       (&#39;黄忠&#39;, 90, 88, 77), <br>       (&#39;典韦&#39;, 80, 90, 90)]<br><br>grades = np.array(data, dtype=mytype)<br><br>def stata(subjects, func):<br>    global grades<br>    result = np.array([.0] * len(subjects))<br>    for i, sub in enumerate(subjects):<br>        result[i] = func(grades[sub])<br>    <br>    return result<br><br>subjects = mytype.names[1:]<br>avg_grade = stata(subjects, np.mean)<br>min_grade = stata(subjects, np.amin)<br>max_grade = stata(subjects, np.amax)<br>var_grade = stata(subjects, np.var)<br>std_grade = stata(subjects, np.std)<br><br># tot_grade = np.sum(grades[:][1:], axis=1)<br>ranking_grade = sorted(grades, key=lambda x: x[1] + x[2] + x[3], reverse=True)<br><br>print(&#39;{: &lt;10s}{: &lt;10s}{: &lt;10s}{: &lt;10s}&#39;.format(&#39;Stata&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;))<br>print(&#39;{0: &lt;10s}{1[0]: &lt;10.1f}{1[1]: &lt;10.1f}{1[2]: &lt;10.1f}&#39;.format(&#39;Average&#39;, avg_grade))<br>print(&#39;{0: &lt;10s}{1[0]: &lt;10.1f}{1[1]: &lt;10.1f}{1[2]: &lt;10.1f}&#39;.format(&#39;Min&#39;, min_grade))<br>print(&#39;{0: &lt;10s}{1[0]: &lt;10.1f}{1[1]: &lt;10.1f}{1[2]: &lt;10.1f}&#39;.format(&#39;Max&#39;, max_grade))<br>print(&#39;{0: &lt;10s}{1[0]: &lt;10.1f}{1[1]: &lt;10.1f}{1[2]: &lt;10.1f}&#39;.format(&#39;Variance&#39;, var_grade))<br>print(&#39;{0: &lt;10s}{1[0]: &lt;10.1f}{1[1]: &lt;10.1f}{1[2]: &lt;10.1f}&#39;.format(&#39;Std&#39;, std_grade))<br><br>print(&#39;\\nRanking&#39;)<br>for i, person in enumerate(ranking_grade):<br>    print(i + 1, person)<br><br># output<br>Stata     Chinese   English   Math      <br>Average   84.8      84.0      78.2      <br>Min       66.0      65.0      30.0      <br>Max       95.0      92.0      98.0      <br>Variance  115.0     95.6      634.6     <br>Std       10.7      9.8       25.2      <br><br>Ranking<br>1 (&#39;赵云&#39;, 93, 92, 96)<br>2 (&#39;关羽&#39;, 95, 85, 98)<br>3 (&#39;典韦&#39;, 80, 90, 90)<br>4 (&#39;黄忠&#39;, 90, 88, 77)<br>5 (&#39;张飞&#39;, 66, 65, 30)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452416,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577610614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100086,"user_name":"Andre","can_delete":false,"product_type":"c1","uid":1563047,"ip_address":"","ucode":"2713749A29A4E0","user_header":"https://static001.geekbang.org/account/avatar/00/17/d9/a7/a794afb1.jpg","comment_is_top":false,"comment_ctime":1559440886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559440886","product_id":100021701,"comment_content":"还是说现在这个已经不维护了？","like_count":0},{"had_liked":false,"id":98945,"user_name":"nissan","can_delete":false,"product_type":"c1","uid":1262913,"ip_address":"","ucode":"A38C4256D653BF","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/41/27d3fcf9.jpg","comment_is_top":false,"comment_ctime":1559117887,"is_pvip":false,"replies":[{"id":"54444","content":"formats 后面跟的是数据类型，i代表integer 整数类型，f代表float 浮点类型，S32 代表的是字符串类型","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1571056687,"ip_address":"","comment_id":98945,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559117887","product_id":100021701,"comment_content":"想請問統計统计一个班级里面学生的姓名、年龄，以及语文、英语、数学成绩该...<br>當中的<br>```<br>&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>```<br>是什麼意思啊？S32，i是亂取的名字，還是另外有意思呢？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451900,"discussion_content":"formats 后面跟的是数据类型，i代表integer 整数类型，f代表float 浮点类型，S32 代表的是字符串类型","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571056687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98254,"user_name":"寻心","can_delete":false,"product_type":"c1","uid":1455101,"ip_address":"","ucode":"67B76ED0844DD9","user_header":"https://static001.geekbang.org/account/avatar/00/16/33/fd/01a8e1f3.jpg","comment_is_top":false,"comment_ctime":1558942674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558942674","product_id":100021701,"comment_content":"# -*- coding: utf-8 -<br>import numpy as np <br><br>names = np.array([&#39;张飞&#39;, &#39;关羽&#39;, &#39;赵云&#39;, &#39;黄忠&#39;, &#39;典韦&#39;])<br>subjects = np.array([&#39;语文&#39;, &#39;英语&#39;, &#39;数学&#39;])<br>scores = np.array([[66, 65, 30], [95, 85, 98], [93, 92, 96], [90, 88, 77], [80, 90, 90]])<br><br><br>for index in range(len(subjects)):<br>\tprint subjects[index] + &#39; 平均分:{}&#39;.format(np.mean(scores, 0)[index])<br>\tprint subjects[index] + &#39; 最小成绩:{}&#39;.format(np.amin(scores, 0)[index])<br>\tprint subjects[index] + &#39; 最大成绩:{}&#39;.format(np.amax(scores, 0)[index])<br>\tprint subjects[index] + &#39; 方差:{}&#39;.format(np.var(scores, 0)[index])<br>\tprint subjects[index] + &#39; 标准差:{}&#39;.format(np.std(scores, 0)[index])<br>\tprint &#39;&#39;<br><br><br>totalScores = []<br><br>for index in range(len(names)):<br>\tname = names[index]<br>\ttotalScore = np.sum(scores, 1)[index]<br>\ttotalScores.append([index, totalScore])<br><br><br>totalScores = np.array(totalScores)<br>totalScores = totalScores[np.argsort(-totalScores[...,1])]<br><br>print &#39;总分排行&#39;<br>for array in totalScores:<br>\tprint names[array[0]] + &#39; 总分:{}&#39;.format(array[1])<br><br><br># 不清楚的地方<br># 1.多维数组的轴<br># 2.多维数组的切片<br># 3.多维数组排序算法","like_count":0},{"had_liked":false,"id":98114,"user_name":"云深不知处","can_delete":false,"product_type":"c1","uid":1508046,"ip_address":"","ucode":"4D52B825CD0665","user_header":"https://static001.geekbang.org/account/avatar/00/17/02/ce/57c871e0.jpg","comment_is_top":false,"comment_ctime":1558917327,"is_pvip":false,"replies":[{"id":"64163","content":"对 功能差不多","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577610810,"ip_address":"","comment_id":98114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558917327","product_id":100021701,"comment_content":"学习完numpy，自己敲完实例代码和课后练习题，突然想起学校学习的R语言，感觉功能是一样的","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451562,"discussion_content":"对 功能差不多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577610810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95243,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1557995409,"is_pvip":false,"replies":[{"id":"64173","content":"加油 可以的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577613565,"ip_address":"","comment_id":95243,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557995409","product_id":100021701,"comment_content":"我大概是写的最繁琐的吧：（应该还有很多可以优化的地方）<br>--------------代码分割线--------------<br>import numpy as np<br>persontype = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;], &#39;formats&#39;: [<br>                      &#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>people = np.array([(&#39;zhangfei&#39;, 66, 65, 30), (&#39;guanyu&#39;, 95, 85, 98),<br>                   (&#39;zhaoyun&#39;, 93, 92, 96), (&#39;huangzhong&#39;, 90, 88, 77), (&#39;dianwei&#39;, 80, 90, 90)], dtype=persontype)<br>chinese_average = people[:][&#39;chinese&#39;]<br>english_average = people[:][&#39;english&#39;]<br>math_average = people[:][&#39;math&#39;]<br>score_list = [chinese_average, english_average, math_average]<br><br>sub_list = [&#39;语文&#39;, &#39;英语&#39;, &#39;数学&#39;]<br><br># 对每个要实现的功能函数进行封装<br><br><br>def get_mean(lists, kind):<br>    for l in range(len(lists)):<br>        print(&quot;{}{}是{}&quot;.format(sub_list[l], kind, score_list[l].mean()))<br><br><br>def get_min(lists, kind):<br>    for l in range(len(lists)):<br>        print(&quot;{}{}是{}&quot;.format(sub_list[l], kind, score_list[l].min()))<br><br><br>def get_max(lists, kind):<br>    for l in range(len(lists)):<br>        print(&quot;{}{}是{}&quot;.format(sub_list[l], kind, score_list[l].max()))<br><br><br>def get_var(lists, kind):<br>    for l in range(len(lists)):<br>        print(&quot;{}{}是{}&quot;.format(sub_list[l], kind, score_list[l].var()))<br><br><br>def get_std(lists, kind):<br>    for l in range(len(lists)):<br>        print(&quot;{}{}是{}&quot;.format(sub_list[l], kind, score_list[l].std()))<br><br><br>sum_score_list = {}<br><br><br># 获取每个人的总分并排名字典进行输出<br>def get_person_sum_score():<br>    for l in range(len(people)):<br>        score = sum(list(people[l])[1:])<br>        sum_score_list[people[l][0]] = score<br>    score_rank = sorted(sum_score_list.items(), key=lambda d: d[1])<br>    for s in score_rank[::-1]:<br>        print(s)<br><br><br>get_mean(sub_list, &quot;平均值&quot;)<br>get_min(sub_list, &quot;最低分&quot;)<br>get_max(sub_list, &quot;最高分&quot;)<br>get_var(sub_list, &quot;方差&quot;)<br>get_std(sub_list, &quot;标准差&quot;)<br>get_person_sum_score()","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450382,"discussion_content":"加油 可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577613565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95183,"user_name":"naku","can_delete":false,"product_type":"c1","uid":1528610,"ip_address":"","ucode":"B49EF5B5B38400","user_header":"https://static001.geekbang.org/account/avatar/00/17/53/22/cce9a2e5.jpg","comment_is_top":false,"comment_ctime":1557979300,"is_pvip":false,"replies":[{"id":"64176","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577613653,"ip_address":"","comment_id":95183,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557979300","product_id":100021701,"comment_content":"练习题前面就不写了， 排序的写法， 刚弄出个新写法<br>studenttype=np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;], &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>students=np.array([(&#39;zf&#39;, 66, 65, 30, 0), (&#39;gy&#39;, 95,85,98,0),(&#39;hz&#39;, 90, 88, 77,0),(&#39;dw&#39;, 80, 90, 90,0)], dtype=studenttype)<br>chi,eng,math=students[:][&#39;chinese&#39;],students[:][&#39;english&#39;],students[:][&#39;math&#39;]<br>students[:][&#39;total&#39;]=chi+eng+math<br>np.sort(students, order=&#39;total&#39;)   #升序<br>np.sort(students, order=&#39;total&#39;)[::-1]  #降序<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450358,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577613653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95159,"user_name":"naku","can_delete":false,"product_type":"c1","uid":1528610,"ip_address":"","ucode":"B49EF5B5B38400","user_header":"https://static001.geekbang.org/account/avatar/00/17/53/22/cce9a2e5.jpg","comment_is_top":false,"comment_ctime":1557975913,"is_pvip":false,"replies":[{"id":"64177","content":"整理总结的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577613670,"ip_address":"","comment_id":95159,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557975913","product_id":100021701,"comment_content":"+=这个操作符确实好用，l=[1,2,3]  <br>def f1():<br>   l+=[4]<br>def f2(l):<br>   l=l+[4]<br><br>f1(l)运行完后结果是[1,2,3,4]， f(2)运行完后l没有变还是1,2,3。 昨天才做的这个练习题， 今天又加深了下印象， 也分享给大家。 l只是内存里某个对象的标签。<br>老师给的例子是y=x*2和x*=2， 其实x=x*2和x*=2也是一样的， =操作都会重新分配内存。 <br><br>np.dtype的结构化定义方法：<br>   np.dtype({&#39;names&#39;: [...], &#39;formats&#39;:[...]}) type有S32, i...<br>list中的元素在内存中是分块的不是连续的<br>axis=0， 这个之前在stackoverflow看到了一个解释是大致这样的， 0代表第一个维度，二位数组里面代表的是行，但我们实际axis=0用到时却是列， 那是因为axis=0代表的是其他维度都已经确定的情况下， 该维度可能发生的情况，数组集合。 用这个来解释的话，就是axis=0时，其他维度就是1。其他维度工有 column1, column2...这么多种情况。 column=1时， 维度0发生的情况，就是第一列了。 也就是老师说的把它分成好多个列元素这种解释了。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450349,"discussion_content":"整理总结的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577613670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94561,"user_name":"Cmilla","can_delete":false,"product_type":"c1","uid":1518440,"ip_address":"","ucode":"48102721B3FD03","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/68/dbdec9cd.jpg","comment_is_top":false,"comment_ctime":1557841660,"is_pvip":false,"replies":[{"id":"64199","content":"中文的话用U32","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577614126,"ip_address":"","comment_id":94561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557841660","product_id":100021701,"comment_content":"S32就报错了，是问什么呢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450106,"discussion_content":"中文的话用U32","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577614126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94422,"user_name":"rex_zhong","can_delete":false,"product_type":"c1","uid":1528068,"ip_address":"","ucode":"DFC38815E8F758","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/04/5ae116c1.jpg","comment_is_top":false,"comment_ctime":1557807371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557807371","product_id":100021701,"comment_content":"后面留言区有人说过=min+(max_min)*70%,这是不正确的，应该有专门的公式之类的，请老师帮忙答疑","like_count":0},{"had_liked":false,"id":94360,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1528962,"ip_address":"","ucode":"BDD67C83CC2565","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/rYeAeaGf6AicjvG14BwibZsFytMyT7S40IwV9UNia5bOKAeRKs8iaW9gSr6Ub1V0mXGqCPSfevSCX0Wbd2Wbe6stjg/132","comment_is_top":false,"comment_ctime":1557795874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557795874","product_id":100021701,"comment_content":"为什么加total那一列一直出错<br>peoples[:][&#39;total&#39;]=peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br><br>错误是total不存在","like_count":0},{"had_liked":false,"id":92285,"user_name":"羊小看","can_delete":false,"product_type":"c1","uid":1488453,"ip_address":"","ucode":"90F58F80A75520","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYEdMwBDUC6gYrUoI7092ocWJPyw1aP8xNOFXxOv7LEw1xj5a4icDibV7pd9vN45lXicXYjB7oYXVqg/132","comment_is_top":false,"comment_ctime":1557221089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557221089","product_id":100021701,"comment_content":"import numpy as np<br>person_dtype=np.dtype({&#39;names&#39;:[&#39;姓名&#39;,&#39;语文&#39;,&#39;数学&#39;,&#39;英语&#39;,&#39;总分&#39;],\\<br>                       &#39;formats&#39;:[&#39;S32&#39;,int,int,int,int]})<br>person=np.array([(&#39;zhangfei&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&#39;zhaoyun&#39;,93,92,96,0),\\<br>                 (&#39;huangzhong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],dtype=person_dtype)<br>def subject_compute(subject):<br>    mean_score=np.mean(person[subject])<br>    min_score=np.min(person[subject])<br>    max_score=np.max(person[subject])<br>    var_score=np.var(person[subject])<br>    std_score=np.std(person[subject])<br>    print(&#39;%s的均值是：%d&#39;%(subject,mean_score))<br>    print(&#39;%s的最小值是：%d&#39;%(subject,min_score))<br>    print(&#39;%s的最大值是：%d&#39;%(subject,max_score))<br>    print(&#39;%s的方差是：%d&#39;%(subject,var_score))<br>    print(&#39;%s的标准差是：%d&#39;%(subject,std_score))<br>    <br>subject=[&#39;语文&#39;,&#39;数学&#39;,&#39;英语&#39;]<br>for s in subject:<br>    subject_compute(s)<br><br>person[&#39;总分&#39;]=np.sum([person[&#39;语文&#39;],person[&#39;数学&#39;],person[&#39;英语&#39;]],axis=0)<br><br>print(np.sort(person,order=&#39;总分&#39;))<br>看了老师的留言，在初始化时就添加了&#39;总分&#39;字段；姓名想写中文的，但类型老出错，&#39;U&#39;没报错，可是姓名空白了，没显示出来","like_count":0},{"had_liked":false,"id":92273,"user_name":"羊小看","can_delete":false,"product_type":"c1","uid":1488453,"ip_address":"","ucode":"90F58F80A75520","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYEdMwBDUC6gYrUoI7092ocWJPyw1aP8xNOFXxOv7LEw1xj5a4icDibV7pd9vN45lXicXYjB7oYXVqg/132","comment_is_top":false,"comment_ctime":1557218373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557218373","product_id":100021701,"comment_content":"import numpy as np<br>person_dtype=np.dtype({&#39;names&#39;:[&#39;姓名&#39;,&#39;语文&#39;,&#39;数学&#39;,&#39;英语&#39;],\\<br>                       &#39;formats&#39;:[&#39;U&#39;,&#39;i1&#39;,&#39;i1&#39;,&#39;i1&#39;]})<br>person=np.array([(&#39;张飞&#39;,66,65,30),(&#39;关羽&#39;,95,85,98),(&#39;赵云&#39;,93,92,96),\\<br>                 (&#39;黄忠&#39;,90,88,77),(&#39;典韦&#39;,80,90,90)],dtype=person_dtype)<br>def subject_compute(subject):<br>    mean_score=np.mean(person[subject])<br>    min_score=np.min(person[subject])<br>    max_score=np.max(person[subject])<br>    var_score=np.var(person[subject])<br>    std_score=np.std(person[subject])<br>    print(&#39;%s的均值是：%d&#39;%(subject,mean_score))<br>    print(&#39;%s的最小值是：%d&#39;%(subject,min_score))<br>    print(&#39;%s的最大值是：%d&#39;%(subject,max_score))<br>    print(&#39;%s的方差是：%d&#39;%(subject,var_score))<br>    print(&#39;%s的标准差是：%d&#39;%(subject,std_score))<br>    <br>subject=[&#39;语文&#39;,&#39;数学&#39;,&#39;英语&#39;]<br>for s in subject:<br>    subject_compute(s)<br><br>sum_score=np.sum([person[&#39;语文&#39;],person[&#39;数学&#39;],person[&#39;英语&#39;]],axis=0)<br>print(np.sort(sum_score))<br>不知道怎么把计算的总成绩添到原来的数组中去，看下大家答案喽","like_count":0},{"had_liked":false,"id":87399,"user_name":"虎皮青椒","can_delete":false,"product_type":"c1","uid":1480559,"ip_address":"","ucode":"149A4D69AA5EA1","user_header":"https://static001.geekbang.org/account/avatar/00/16/97/6f/3853f003.jpg","comment_is_top":false,"comment_ctime":1555583996,"is_pvip":false,"replies":[{"id":"64244","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577615169,"ip_address":"","comment_id":87399,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555583996","product_id":100021701,"comment_content":"#!&#47;Users&#47;wjunicorn&#47;anaconda3&#47;bin&#47;python3<br>#coding=utf-8<br>import numpy as np<br>studenttype = np.dtype({<br>\t&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br>students = np.array([(&quot;张飞&quot;, 66, 65, 30),<br>\t\t\t\t\t (&quot;关羽&quot;, 95, 85, 98), <br>\t\t\t\t\t (&quot;赵云&quot;, 93, 92, 96), <br>\t\t\t\t\t (&quot;黄忠&quot;, 90, 88, 77),<br>\t\t\t\t\t (&quot;典韦&quot;, 80, 90, 90)], <br>\t\t\t\t\t dtype = studenttype)<br><br>#统计下这些人在语文、英语、数学中的的平均成绩、最小成绩、最大成绩、方差、标准差<br>satistic_ths = (&quot;Course&quot;, &quot;Average Score&quot;, &quot;Min Score&quot;, &quot;Max Score&quot;, &quot;Variance&quot;, &quot;Standard Deviation&quot;)<br>print(&quot;{0:{1}^20}+{0:{1}^15}+{0:{1}^11}+{0:{1}^11}+{0:{1}^10}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))<br>print(&quot;{:^20}|{:^15}|{:^11}|{:^11}|{:^10}|{:^20}&quot;.format(*satistic_ths))<br>print(&quot;{0:{1}^20}+{0:{1}^15}+{0:{1}^11}+{0:{1}^11}+{0:{1}^10}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))<br>for course_name in studenttype.names[1:]:<br>\tprint(&quot;{:^20}|{:&gt;15.1f}|{:&gt;11.1f}|{:&gt;11.1f}|{:&gt;10.1f}|{:&gt;20.1f}&quot;<br>\t\t\t.format(course_name, <br>\t\t\t\t\tnp.mean(students[:][course_name]), <br>\t\t\t\t\tnp.amin(students[:][course_name]), <br>\t\t\t\t\tnp.amax(students[:][course_name]), <br>\t\t\t\t\tnp.var(students[:][course_name]), <br>\t\t\t\t\tnp.std(students[:][course_name])))<br>\tprint(&quot;{0:{1}^20}+{0:{1}^15}+{0:{1}^11}+{0:{1}^11}+{0:{1}^10}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))<br><br>#把这些人的总成绩排序，得出名次进行成绩输出<br>sort_ths = (&quot;No&quot;, &quot;Name&quot;, &quot;Chinese&quot;, &quot;English&quot;, &quot;Math&quot;, &quot;Total&quot;)<br>print(&quot;{0:{1}^5}+{0:{1}^19}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))<br>print(&quot;{:^5}|{:^19}|{:^20}|{:^20}|{:^20}|{:^20}&quot;.format(*sort_ths))<br>print(&quot;{0:{1}^5}+{0:{1}^19}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))<br>no = 1<br>for student in sorted(students, key = lambda x : x[1] + x[2] + x[3], reverse = True):<br>\tprint(&quot;{:^5d}|{:^18}|{:&gt;20.1f}|{:&gt;20.1f}|{:&gt;20.1f}|{:&gt;20.1f}&quot;<br>\t\t\t.format(no, <br>\t\t\t\t\tstudent[&#39;name&#39;], <br>\t\t\t\t\tstudent[&#39;chinese&#39;], <br>\t\t\t\t\tstudent[&#39;english&#39;], <br>\t\t\t\t\tstudent[&#39;math&#39;], <br>\t\t\t\t\tstudent[&#39;chinese&#39;] + student[&#39;english&#39;] + student[&#39;math&#39;]))<br>\tno += 1<br>print(&quot;{0:{1}^5}+{0:{1}^19}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}+{0:{1}^20}&quot;.format(&#39;&#39;, &#39;-&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447430,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87017,"user_name":"萍仔","can_delete":false,"product_type":"c1","uid":1486490,"ip_address":"","ucode":"33D6EA590E9508","user_header":"https://static001.geekbang.org/account/avatar/00/16/ae/9a/563c7996.jpg","comment_is_top":false,"comment_ctime":1555497153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555497153","product_id":100021701,"comment_content":"遇到！entry nota 2- or 3-tuple","like_count":0},{"had_liked":false,"id":86766,"user_name":"张晓辉","can_delete":false,"product_type":"c1","uid":1085046,"ip_address":"","ucode":"1CD9717DE399C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/76/6d55e26f.jpg","comment_is_top":false,"comment_ctime":1555459086,"is_pvip":false,"replies":[{"id":"64256","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577615407,"ip_address":"","comment_id":86766,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555459086","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;totalscore&#39;], <br>                      &#39;formats&#39;:[&#39;S32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br>scorearray = np.array([(&#39;Zhang Fei&#39;, 66, 65, 30, 0), (&#39;Guan Yu&#39;, 95, 85, 98, 0), <br>                       (&#39;Zhao Yun&#39;, 93, 92, 96, 0), (&#39;Huang Zhong&#39;, 90, 88, 77, 0),<br>                      (&#39;Dian Wei&#39;, 80, 90, 90, 0)], dtype=persontype)<br><br>chineses = scorearray[:][&#39;chinese&#39;]<br>englishes = scorearray[:][&#39;english&#39;]<br>mathes = scorearray[:][&#39;math&#39;]<br>scorearray[:][&#39;totalscore&#39;] = chineses + englishes + mathes<br>print(scorearray)<br>for col in scorearray.dtype.names:<br>    if col == &#39;name&#39; or col == &#39;totalscore&#39;:<br>        continue<br>    colarray = scorearray[:][col]<br>    print(&quot;Mean of {}:{}&quot;.format(col, np.mean(colarray)))<br>    print(&quot;Amax of {}:{}&quot;.format(col, np.amax(colarray)))<br>    print(&quot;Amin of {}:{}&quot;.format(col, np.amin(colarray)))<br>    print(&quot;Std of {}:{}&quot;.format(col, np.std(colarray)))<br>    print(&quot;Var of {}:{}&quot;.format(col, np.var(colarray)))<br><br>print(np.sort(scorearray, order=&#39;totalscore&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447162,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86558,"user_name":"三木","can_delete":false,"product_type":"c1","uid":1352377,"ip_address":"","ucode":"BFF1DA1235F9A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/b9/0d7887ab.jpg","comment_is_top":false,"comment_ctime":1555399697,"is_pvip":false,"replies":[{"id":"64258","content":"Good Job PrettyTable用的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577615604,"ip_address":"","comment_id":86558,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555399697","product_id":100021701,"comment_content":"用竖杆隔开看着有点怪怪的 可能是我强迫症了<br>用PrettyTable制成表格<br><br>from prettytable import PrettyTable<br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZF&quot;, 66, 65, 30), (&quot;GY&quot;, 95, 85, 98),<br>                    (&quot;ZY&quot;, 93, 92, 96), (&quot;HZ&quot;, 90, 88, 77), (&quot;DW&quot;, 80, 90, 90)],<br>                   dtype=persontype)<br><br>name = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>x = PrettyTable([&quot;科目&quot;, &quot;平均成绩&quot;, &quot;最小成绩&quot;, &quot;最大成绩&quot;, &quot;方差&quot;, &quot;标准差&quot;])<br><br>def add(name,cj):<br>    x.add_row([name, np.mean(cj), np.min(cj), np.max(cj), np.var(cj), np.std(cj)])<br><br><br>add(&quot;语文&quot;, chineses)<br>add(&quot;英语&quot;, englishs)<br>add(&quot;数学&quot;, maths)<br>print(x)<br><br>print(&quot;排名:&quot;)<br>#用sorted函数进行排序<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447069,"discussion_content":"Good Job PrettyTable用的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85448,"user_name":"泄矢的呼啦圈","can_delete":false,"product_type":"c1","uid":1033505,"ip_address":"","ucode":"13CDA41DD49CE9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/21/4b1cafe4.jpg","comment_is_top":false,"comment_ctime":1555061618,"is_pvip":false,"replies":[{"id":"64267","content":"Good Job 简洁有效","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577615707,"ip_address":"","comment_id":85448,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555061618","product_id":100021701,"comment_content":"【提问】<br>对于练习题中求和排序的部分没有做出来，主要是纠结于如何让求和不依赖于下标（如mickey同学所答），老师在评论区给出的添加字段total的方法，我也实践了，类似于关系数据库中在原始数据表中使用计算结果当索引字段。考虑当统计指标的计算方法不变，参与统计的数据发生变化（比如练习题中改成按语言学科总分来进行排名，就需要修改total的计算。计算方法不变，参与计算的数据变化）以及增加了其他类型的统计（新的计算方法），应该还是需要将计算结果重新建表存储比较好吧，所以我还在找能否通过科目名称集合（下面解答中的subjects，当参与计算的科目成绩发生变化时只需要改变subjects）对原始数据进行统计排名。才开始学习python，没找到好的思路，还请老师指教。<br>【练习题交作业】<br>import numpy as np<br><br>studentType = np.dtype({<br>    &#39;names&#39;: [&#39;名字&#39;, &#39;语文&#39;, &#39;英语&#39;, &#39;数学&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>students = np.array(<br>    [(&#39;张飞&#39;, 66, 65, 30), (&#39;关羽&#39;, 95, 85, 98), (&#39;赵云&#39;, 93, 92, 96),<br>     (&#39;黄忠&#39;, 90, 88, 77), (&#39;典韦&#39;, 80, 90, 90)],<br>    dtype=studentType)<br><br><br>def printstatistical(name, data):<br>    print(name, np.mean(data), np.amin(data), np.amax(data), np.var(data), np.std(data))<br><br><br>print(&#39;科目&#39;, &#39;平均成绩&#39;, &#39;最低分&#39;, &#39;最高分&#39;, &#39;方差&#39;, &#39;标准差&#39;)<br>subjects = list(studentType.names[1:])<br>for subject in subjects:<br>    data = students[:][subject]<br>    printstatistical(subject, data)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446671,"discussion_content":"Good Job 简洁有效","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84967,"user_name":"此处省略","can_delete":false,"product_type":"c1","uid":1390690,"ip_address":"","ucode":"4CE45510160D63","user_header":"https://static001.geekbang.org/account/avatar/00/15/38/62/6cb66477.jpg","comment_is_top":false,"comment_ctime":1554950293,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554950293","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;env python<br># -*- encoding: utf-8 -*-<br>&#39;&#39;&#39;<br>@author:<br>&#39;&#39;&#39;<br>import numpy as np<br><br>a_type = np.dtype({&quot;names&quot;:[&#39;name&#39;,&#39;cn&#39;,&#39;en&#39;,&#39;mt&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>a = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guangyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=a_type)<br><br>names = a[:][&#39;name&#39;]<br>cn_list = a[:][&#39;cn&#39;]    #语文<br>en_list = a[:][&#39;en&#39;]    #英语<br>mt_list = a[:][&#39;mt&#39;]    #数学<br><br>def test(_class,_list):<br>    print(<br>          &#39;{} 最小:{}&#39;.format(_class,np.min(_list)),<br>          &#39;最大:{}&#39;.format(np.max(_list)),<br>          &#39;平均:{}&#39;.format(np.mean(_list)),<br>          &#39;标准差:{}&#39;.format(np.std(_list)),<br>          &#39;方差:{}&#39;.format(np.var(_list))<br>    )<br><br>test(&#39;cn&#39;,cn_list)<br>test(&#39;en&#39;,en_list)<br>test(&#39;mt&#39;,mt_list)<br><br>count = np.add(np.add(cn_list,en_list),mt_list)<br>b_type = np.dtype({&quot;names&quot;:[&#39;name&#39;,&#39;count&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;]})<br>b = np.array([(names[i],count[i]) for i in range(len(names))],dtype=b_type)<br>print(np.sort(b,None,order=&#39;count&#39;))","like_count":0},{"had_liked":false,"id":84788,"user_name":"青石","can_delete":false,"product_type":"c1","uid":1215531,"ip_address":"","ucode":"B0056AD6453322","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/2b/3ab96998.jpg","comment_is_top":false,"comment_ctime":1554907349,"is_pvip":false,"replies":[{"id":"64278","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577615943,"ip_address":"","comment_id":84788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554907349","product_id":100021701,"comment_content":"import numpy as np<br><br><br>person_type = np.dtype({&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;], &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>                        })<br><br>peoples = np.array([(&#39;ZhangFei&#39;, 66, 65, 30, 0), (&#39;Guanyu&#39;, 95, 85, 98, 0), (&#39;ZhaoYun&#39;, 93, 92, 96, 0), (&#39;HuangZhong&#39;,<br>                    90, 88, 77, 0), (&#39;DianWei&#39;, 80, 90, 90, 0)], dtype=person_type)<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br><br>print(type(np.var(chinese)), type(np.amax(chinese)))<br>print(&#39;     %-20s %-20s %-20s&#39; % (&#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;))<br>print(&#39;AVG: %-20.2f %-20.2f %-20.2f&#39; % (chinese.mean(), english.mean(), math.mean()))<br>print(&#39;MIN: %-20.2f %-20.2f %-20.2f&#39; % (np.amin(chinese), np.amin(english), np.amin(math)))<br>print(&#39;MAX: %-20.2f %-20.2f %-20.2f&#39; % (np.amax(chinese), np.amax(english), np.amax(math)))<br>print(&#39;VAR: %-20.2f %-20.2f %-20.2f&#39; % (np.var(chinese), np.var(english), np.var(math)))<br>print(&#39;STD: %-20.2f %-20.2f %-20.2f&#39; % (np.std(chinese), np.std(english), np.std(math)))<br><br>peoples[:][&#39;total&#39;] = chinese + english + math<br><br>s = np.sort(peoples, order=&#39;total&#39;)<br>print(&#39;%-20s %-20s %-20s&#39; % (&#39;Name&#39;, &#39;Score&#39;, &#39;Rank&#39;))<br>for i in range(peoples.size):<br>    print(&#39;%-20s %-20.2f %-20d&#39; % (<br>        s[&#39;name&#39;][peoples.size - i - 1].decode(&#39;utf-8&#39;), s[&#39;total&#39;][peoples.size - i - 1], i + 1))<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446447,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577615943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84280,"user_name":"媛","can_delete":false,"product_type":"c1","uid":1066680,"ip_address":"","ucode":"6D11D3D27C2CFF","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/b8/407b1494.jpg","comment_is_top":false,"comment_ctime":1554818774,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1554818774","product_id":100021701,"comment_content":"我是不是可以这样理解，numpy就是在数组的基础上多了一些好用的方法？它的性质还是数组，不方便增删数据","like_count":0,"discussions":[{"author":{"id":1058818,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/02/a6d7ece6.jpg","nickname":"refactor","note":"","ucode":"EC8FF55FE6EC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3726,"discussion_content":"对，就是扩充了多维数组，和提供开箱即用的方法，当然性能做的很好。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564734434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84221,"user_name":"南瓜","can_delete":false,"product_type":"c1","uid":1441789,"ip_address":"","ucode":"0E2F515E085595","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/fd/df112fd1.jpg","comment_is_top":false,"comment_ctime":1554807180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554807180","product_id":100021701,"comment_content":"作者回复: 你在求三科成绩的各种统计指标的时候，写的不错<br>你提到的如何在numpy中求和，其实在定义结构数组的时候，可以多定义一列total<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>然后按照total进行排序即可<br>print np.sort(peoples, order=&#39;total&#39;)<br><br>老师，我按照你这里定义结构，出错了，提示有5个字段，而我只输入了三个。<br>sources_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>sources = np.array([(&#39;zhangfei&#39;, 66, 65, 30), (&#39;guanyu&#39;, 95, 85, 98), <br>            (&#39;zhaoyun&#39;, 93, 92, 96), (&#39;huangzhong&#39;, 90, 88, 77), (&#39;dianwei&#39;, 80, 90, 90)] ,dtype=sources_type)<br>chineses = sources[:][&#39;chinese&#39;]<br>maths = sources[:][&#39;math&#39;]<br>englishs = sources[:][&#39;english&#39;]<br>sources[:][&#39;total&#39;] = chineses + maths + englishs","like_count":0},{"had_liked":false,"id":83215,"user_name":"华","can_delete":false,"product_type":"c1","uid":1485516,"ip_address":"","ucode":"668B88249A7AEB","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/cc/8f1b6214.jpg","comment_is_top":false,"comment_ctime":1554469396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554469396","product_id":100021701,"comment_content":"people为什么不直接取值，要先切片再取值？","like_count":0},{"had_liked":false,"id":83141,"user_name":"chitanda","can_delete":false,"product_type":"c1","uid":1235077,"ip_address":"","ucode":"B3E28E1C8E410B","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/85/21fd42fa.jpg","comment_is_top":false,"comment_ctime":1554435931,"is_pvip":false,"replies":[{"id":"64298","content":"Good Sharing","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577616372,"ip_address":"","comment_id":83141,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1554435931","product_id":100021701,"comment_content":"对于axis，其实把数组放到一个二维坐标里就很好理解了。axis=0是x轴，axis=1是y轴","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445882,"discussion_content":"Good Sharing","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577616372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82989,"user_name":"刺客伍六七","can_delete":false,"product_type":"c1","uid":1486195,"ip_address":"","ucode":"493AD8422B80F2","user_header":"https://static001.geekbang.org/account/avatar/00/16/ad/73/0305ab92.jpg","comment_is_top":false,"comment_ctime":1554367018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554367018","product_id":100021701,"comment_content":"y = np.linspace(1, 9, 5), y 的结果里数字后面怎么都有一个 .  <br>[1. 3. 5. 7. 9.]","like_count":0},{"had_liked":false,"id":81813,"user_name":"_xiongyi","can_delete":false,"product_type":"c1","uid":1482099,"ip_address":"","ucode":"F5038A1CC63DC2","user_header":"","comment_is_top":false,"comment_ctime":1554040164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554040164","product_id":100021701,"comment_content":"import numpy as np<br>a = np.array([1,2,3])<br>b = np.array([[1,2,3],[4,5,6],[7,8,9]])<br>b[1,1] = 10<br>print(a.shape)<br>print(b.shape)<br>print(a.dtype)<br>print(b)<br>输出的结果为：<br>(3,)<br>(3, 3)<br>int64<br>[[ 1  2  3]<br> [ 4 10  6]<br> [ 7  8  9]]<br>跟老师的不一样，我是用Python3.7下的pycharm运行的，求解","like_count":0},{"had_liked":false,"id":80052,"user_name":"曹舰航","can_delete":false,"product_type":"c1","uid":1114285,"ip_address":"","ucode":"9183A6BED2EC08","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/ad/736850da.jpg","comment_is_top":false,"comment_ctime":1553600840,"is_pvip":false,"replies":[{"id":"64355","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577617484,"ip_address":"","comment_id":80052,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553600840","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;Duanwei&quot;,80,90,90)],<br>    dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>#平均成绩<br>print np.mean(chineses)<br>print np.mean(maths)<br>print np.mean(englishs)<br>#最小成绩<br>print np.amin(chineses)<br>print np.amin(maths)<br>print np.amin(englishs)<br>#最大成绩<br>print np.amax(chineses)<br>print np.amax(maths)<br>print np.amax(englishs)<br>#方差<br>print np.var(chineses)<br>print np.var(maths)<br>print np.var(englishs)<br>#标准差<br>print np.std(chineses)<br>print np.std(maths)<br>print np.std(englishs)<br><br>排名<br>x= peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print np.sort(x)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444739,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79318,"user_name":"蜉蝣","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1553434309,"is_pvip":false,"replies":[{"id":"64370","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577617885,"ip_address":"","comment_id":79318,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553434309","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-<br>&quot;&quot;&quot;<br>Created on Sun Mar 24 20:17:31 2019<br><br>@author: Guan<br>&quot;&quot;&quot;<br><br>import numpy as np<br><br>def printf(structArr):<br>    &quot;&quot;&quot;bytes -&gt; str&quot;&quot;&quot;<br>    for struct in structArr:<br>        if not isinstance(struct, bytes):<br>            print([bytes.decode(one) <br>                   if isinstance(one, bytes) else one for one in struct])<br>        else:<br>            print(bytes.decode(struct))<br><br>def _(string):<br>    &quot;&quot;&quot;str -&gt; bytes&quot;&quot;&quot;<br>    return str.encode(string)<br><br>structType = np.dtype({&quot;names&quot;: [&quot;name&quot;, &quot;chinese&quot;, &quot;english&quot;, &quot;math&quot;],<br>                       &quot;formats&quot;: [&quot;S32&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;]})<br><br>scoreTable = np.array([(_(&quot;张飞&quot;), 66, 65, 30),<br>                       (_(&quot;关羽&quot;), 95, 85, 98),<br>                       (_(&quot;赵云&quot;), 93, 92, 96),<br>                       (_(&quot;黄忠&quot;), 90, 88, 77),<br>                       (_(&quot;典韦&quot;), 80, 90, 90)], dtype=structType)<br><br><br>def get_average_by_subject(structArr, subject):<br>    print(&quot;subject: {} avg: {}&quot;.format(subject, np.average(structArr[:][subject])))<br>    <br>def get_min_by_subject(structArr, subject):<br>    print(&quot;subject: {} min: {}&quot;.format(subject, np.amin(structArr[:][subject])))<br>    <br>def get_max_by_subject(structArr, subject):<br>    print(&quot;subject: {} max: {}&quot;.format(subject, np.amax(structArr[:][subject])))<br>    <br>def get_var_by_subject(structArr, subject):<br>    print(&quot;subject: {} var: {}&quot;.format(subject, np.var(structArr[:][subject])))<br>    <br>def get_std_by_subject(structArr, subject):<br>    print(&quot;subject: {} std: {}&quot;.format(subject, np.std(structArr[:][subject])))<br>    <br><br>get_average_by_subject(scoreTable, &quot;chinese&quot;)<br>get_min_by_subject(scoreTable, &quot;chinese&quot;)<br>get_max_by_subject(scoreTable, &quot;chinese&quot;)<br>get_var_by_subject(scoreTable, &quot;chinese&quot;)<br>get_std_by_subject(scoreTable, &quot;chinese&quot;)<br>printf(sorted(scoreTable, key=lambda x: x[1]+x[2]+x[3], reverse=True))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444449,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577617885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77369,"user_name":"听妈妈的话","can_delete":false,"product_type":"c1","uid":1462417,"ip_address":"","ucode":"089D797A39C791","user_header":"https://static001.geekbang.org/account/avatar/00/16/50/91/0dd2b8ce.jpg","comment_is_top":false,"comment_ctime":1552913198,"is_pvip":false,"replies":[{"id":"64402","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577618378,"ip_address":"","comment_id":77369,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552913198","product_id":100021701,"comment_content":"```<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30),(&quot;GuanYu&quot;,95,85,98),<br>       (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;DianWei&quot;,80,90,90)],<br>    dtype=persontype)<br># print(peoples)<br># Chinese<br>def dataProcess(num):<br>    subject=str(peoples.dtype.names[num])<br>    a=peoples[:][subject]<br>    print(subject + &quot; mean : &quot;,np.mean(a))<br>    print(subject + &quot; min : &quot;,np.amin(a))<br>    print(subject + &quot; max : &quot;,np.amax(a))<br>    print(subject + &quot; std : &quot;,np.std(a))<br>    print(subject + &quot; var : &quot;,np.var(a))<br>dataProcess(1)<br>dataProcess(2)<br>dataProcess(3)<br># sort by sum<br>print(&quot;sort Result&quot;,sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True))<br>```","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443701,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577618378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77119,"user_name":"无名氏","can_delete":false,"product_type":"c1","uid":1256121,"ip_address":"","ucode":"584E697AE276AB","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/b9/2bf8cc89.jpg","comment_is_top":false,"comment_ctime":1552838867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552838867","product_id":100021701,"comment_content":"“另外 NumPy 中的矩阵计算可以采用多线程的方式，充分利用多核 CPU 计算资源，大大提升了计算效率。”，老师你好，这地方我有点疑惑，多线程由于GIL锁的原因不能使用多核吧？","like_count":0},{"had_liked":false,"id":76305,"user_name":"Kyle","can_delete":false,"product_type":"c1","uid":1258042,"ip_address":"","ucode":"96DE706AAC9D97","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/3a/2d8a2c67.jpg","comment_is_top":false,"comment_ctime":1552569936,"is_pvip":false,"replies":[{"id":"64422","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577618948,"ip_address":"","comment_id":76305,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552569936","product_id":100021701,"comment_content":"import numpy as np<br>personscore = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>persons = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=personscore)<br>chineses = persons[:][&#39;chinese&#39;]<br>englishs = persons[:][&#39;english&#39;]<br>maths = persons[:][&#39;math&#39;]<br>totalscore =chineses + englishs + maths<br>#统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成成绩、方差、标准差。然后把这些人的总成绩排序，得出名次进行成绩输出。<br>print(np.mean(chineses))<br>print(np.mean(englishs))<br>print(np.mean(maths))<br><br>print(np.amin(chineses))<br>print(np.amin(englishs))<br>print(np.amin(maths))<br><br>print(np.amax(chineses))<br>print(np.amax(englishs))<br>print(np.amax(maths))<br><br>print(np.var(chineses))<br>print(np.var(englishs))<br>print(np.var(maths))<br><br>print(np.std(chineses))<br>print(np.std(englishs))<br>print(np.std(maths))<br><br>print(totalscore)<br>print(np.sort(totalscore))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443248,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577618948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75697,"user_name":"张乐乐","can_delete":false,"product_type":"c1","uid":1451476,"ip_address":"","ucode":"2A31E22B1FEC1F","user_header":"","comment_is_top":false,"comment_ctime":1552451754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552451754","product_id":100021701,"comment_content":"import numpy as np<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfir&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&#39;zhaoyun&#39;,93,92,96,0),(&#39;huangzhong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],dtype=scoretype)<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print(peopel)#拼写错误<br>name = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>total = peoples[:][&#39;total&#39;]<br>def biaoge(name,cj):<br>    print(&#39;&#39;.format(name,np.mean(cj),np.amin(cj),np.amax(cj),np.var(cj),np.std(cj)))#引号中间是空的<br>print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差 &quot;)<br>show(&quot;语文&quot;, chinese)<br>show(&quot;英语&quot;, english)<br>show(&quot;数学&quot;, peoples[:][&#39;math&#39;])<br>print(np.sort(peoples, order=&#39;total&#39;))<br><br>老师我很奇怪，我觉得我的代码是有问题的，为什么还能正常执行","like_count":0},{"had_liked":false,"id":73770,"user_name":"tinn","can_delete":false,"product_type":"c1","uid":1352682,"ip_address":"","ucode":"58F03D90C1813C","user_header":"https://static001.geekbang.org/account/avatar/00/14/a3/ea/acb1eed3.jpg","comment_is_top":false,"comment_ctime":1551974915,"is_pvip":false,"replies":[{"id":"64454","content":"加油！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577619478,"ip_address":"","comment_id":73770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551974915","product_id":100021701,"comment_content":"import numpy as np<br><br>scoretype  = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39; ]})<br><br>peopel = np.array([(&#39;zhang&#39;,66,65,30,0),(&#39;guan&#39;,95,85,98,0),(&#39;zhao&#39;,93,92,96,0),(&#39;huang&#39;,90,88,77,0),(&#39;dian&#39;,80,90,90,0)],dtype=scoretype)<br><br>peopel[:][&#39;total&#39;] = peopel[:][&#39;chinese&#39;]+peopel[:][&#39;english&#39;]+peopel[:][&#39;math&#39;]<br>print(peopel)<br><br>n = peopel[:][&#39;name&#39;]<br>c = peopel[:][&#39;chinese&#39;]<br>e = peopel[:][&#39;english&#39;]<br>m = peopel[:][&#39;math&#39;]<br><br>def score(subject,score):<br>    print(subject)<br>    print(&#39;pingjun:&#39;+str(np.mean(score)))<br>    print(&#39;zuidi:&#39; + str(np.amin(score)))<br>    print(&#39;zuigao:&#39; + str(np.amax(score)))<br>    print(&#39;fangcha:&#39; + str(np.var(score)))<br>    print(&#39;biaozhun:&#39; + str(np.std(score)))<br><br>score(&#39;yuwen&#39;, c)<br>print(&#39; &#39;)<br>score(&#39;yingyu&#39; , e)<br>print(&#39; &#39;)<br>score(&#39;shuxue&#39; , m)<br><br>print(np.sort(peopel, order=&#39;total&#39;))<br><br>东拼西凑，加油啊！！","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442270,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73687,"user_name":"pythonzwd","can_delete":false,"product_type":"c1","uid":1449841,"ip_address":"","ucode":"BD5D8C47DC5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/16/1f/71/ad9de027.jpg","comment_is_top":false,"comment_ctime":1551958719,"is_pvip":false,"replies":[{"id":"64449","content":"U32","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577619419,"ip_address":"","comment_id":73687,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551958719","product_id":100021701,"comment_content":"我尝试了作业中填写中文(张飞，关羽。。)，会编码错误，改成拼音就可以了，针对&quot;S32&quot;  但是想了解中文对应的类型应该是什么","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442221,"discussion_content":"U32","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72413,"user_name":"FeiFei","can_delete":false,"product_type":"c1","uid":1045586,"ip_address":"","ucode":"01CD655DD4E56C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/52/10c4d863.jpg","comment_is_top":false,"comment_ctime":1551616583,"is_pvip":false,"replies":[{"id":"64478","content":"应该都有自己常用的工具包，在Python中numpy, pandas, sklearn算是常用的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577619850,"ip_address":"","comment_id":72413,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551616583","product_id":100021701,"comment_content":"numpy表现出了python在线性代数方面的卓越应用<br>将数学性的很多操作实现为简单的函数<br>看到了他在处理二维数组上的能力<br>数据处理的本质是对数据进行各种计算<br><br>其他语言是否有相同的库呢？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441580,"discussion_content":"应该都有自己常用的工具包，在Python中numpy, pandas, sklearn算是常用的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577619850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71378,"user_name":"reverse","can_delete":false,"product_type":"c1","uid":1240138,"ip_address":"","ucode":"0B546E540DF096","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/4a/40a2ba79.jpg","comment_is_top":false,"comment_ctime":1551331754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551331754","product_id":100021701,"comment_content":"极客时间数据分析实战45讲的详细笔记(包含markdown、图片、思维导图)  github地址： https:&#47;&#47;github.com&#47;xiaomiwujiecao&#47;DataAnalysisInAction","like_count":0},{"had_liked":false,"id":70372,"user_name":"一语中的","can_delete":false,"product_type":"c1","uid":1320112,"ip_address":"","ucode":"E1A0EFCEAD83B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/24/b0/a6e0b03a.jpg","comment_is_top":false,"comment_ctime":1551087145,"is_pvip":false,"replies":[{"id":"64506","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577620185,"ip_address":"","comment_id":70372,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551087145","product_id":100021701,"comment_content":"classMates = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;, &#39;Total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>datas = np.array([(&quot;ZhangFei&quot;,66,65,30, 0),(&quot;GuanYu&quot;, 95,85,98, 0),<br>                    (&quot;ZhaoYun&quot;,93,92,96, 0),(&quot;HuangZhong&quot;,90,88,77, 0),<br>                  (&quot;DianWei&quot;, 80, 90, 90, 0)],dtype=classMates)<br>#获取总成绩<br>datas[:][&#39;Total&#39;] = datas[:][&#39;Chinese&#39;] + datas[:][&#39;English&#39;] + datas[:][&#39;Math&#39;]<br><br>Chineses = datas[:][&#39;Chinese&#39;]<br>Englishs = datas[:][&#39;English&#39;]<br>Maths = datas[:][&#39;Math&#39;]<br>Totals= datas[:][&#39;Total&#39;]<br>#计算各科目，平均成绩，最低成绩，最高成绩，方差，标准差<br>print(&quot;语文平均分:%s,最低成绩:%s,最高成绩:%s,方差:%s,标准差:%s&quot;%(np.mean(Chineses), np.amin(Chineses), np.amax(Chineses), np.var(Chineses),np.std(Chineses)))<br>print(&quot;英语平均分:%s,最低成绩:%s,最高成绩:%s,方差:%s,标准差:%s&quot;%(np.mean(Englishs),np.amin(Englishs), np.amax(Englishs), np.var(Englishs),np.std(Englishs)))<br>print(&quot;数学平均分;%s,最低成绩:%s,最高成绩:%s,方差:%s,标准差:%s&quot;%(np.mean(Maths), np.amin(Maths), np.amax(Maths), np.var(Maths),np.std(Maths)))<br><br>#排序方法一<br>print(np.sort(datas,order=&#39;Total&#39;))<br><br>#排序方法二<br>rank = sorted(datas, key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(rank)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440590,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577620185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69900,"user_name":"明远","can_delete":false,"product_type":"c1","uid":1060611,"ip_address":"","ucode":"DF81DF678CB0B1","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/03/f2c008fc.jpg","comment_is_top":false,"comment_ctime":1550900073,"is_pvip":true,"replies":[{"id":"24921","content":"答疑篇有解释，请看答疑篇～","user_name":"编辑回复","user_name_real":"何昌梅","uid":"1165037","ctime":1550937259,"ip_address":"","comment_id":69900,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1550900073","product_id":100021701,"comment_content":"axis = 0，1，2，3<br><br>等于 2,3怎么理解，多维的话。能不能画个图解释下。和 pandas的轴是一样的吗？","like_count":0,"discussions":[{"author":{"id":1165037,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","nickname":"丢了个丢丢丢","note":"","ucode":"BDD7E97E0E5E96","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440342,"discussion_content":"答疑篇有解释，请看答疑篇～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550937259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68676,"user_name":"JI HU WU","can_delete":false,"product_type":"c1","uid":1353509,"ip_address":"","ucode":"FA6CF060C0266F","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/25/e4535b98.jpg","comment_is_top":false,"comment_ctime":1550570618,"is_pvip":false,"replies":[{"id":"64528","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577621307,"ip_address":"","comment_id":68676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550570618","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*-<br><br>import numpy as np<br>from string import Template<br><br>a = np.array([1, 2, 3])<br>b = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])<br>b[1,1]=10<br><br>print(a.shape)<br>print(b.shape)<br>print(a.dtype)<br>print(b)<br>print(&#39;---&#39;*20)<br>def show(name,cj):<br>    strtemp = &#39;$name|$mean|$min|$max|$var|$std&#39;<br>    str = Template(strtemp)<br>    strfill = str.substitute({&#39;name&#39;: name, &#39;mean&#39;: np.mean(cj)<br>                                 , &#39;min&#39;: np.min(cj)<br>                                 , &#39;max&#39;: np.max(cj)<br>                                 , &#39;var&#39;: np.var(cj)<br>                                 , &#39;std&#39;: np.std(cj)})<br>    print(strfill)<br><br><br>scoretype = np.dtype(<br>            {<br>            &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>            &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]<br>            }<br>        )<br><br>peoples = np.array(<br>    [<br>        (&quot;zhangfei&quot;, 66, 65,30,0),<br>        (&quot;guanyu&quot;, 95, 85, 98,0),<br>        (&quot;zhaoyun&quot;, 93, 92, 96,0),<br>        (&quot;huangzhong&quot;, 90, 88, 77,0),<br>        (&quot;dianwei&quot;, 80, 90, 90,0)<br>    ], dtype=scoretype)<br><br>#print(peoples)<br><br>name=peoples[:][&#39;name&#39;]<br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br><br>print(chinese)<br><br>show(&quot;语文&quot;,chinese)<br>show(&quot;英语&quot;,english)<br>show(&quot;数学&quot;,math)<br><br>print(&quot;排名1:&quot;)<br>print (np.sort(peoples, order=&#39;total&#39;,reversed(True)))<br><br><br>print(&quot;排名2:&quot;)<br>ranking = sorted(peoples,key = lambda x : x[1]+x[2]+x[3],reverse=True)<br>print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439792,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68285,"user_name":"Sandy","can_delete":false,"product_type":"c1","uid":1239815,"ip_address":"","ucode":"3097343BDAB831","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkpApOjdIb81ZHxeAup1IGH97eaD8oiawlCtUJdvct1AP6UfmmpYlE6r25tNM5cgOCgM3oAzpic5Aw/132","comment_is_top":false,"comment_ctime":1550477462,"is_pvip":false,"replies":[{"id":"64541","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577621473,"ip_address":"","comment_id":68285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550477462","product_id":100021701,"comment_content":"# !&#47;usr&#47;bin&#47;env python<br># -*- coding: utf-8 -*-<br>import numpy as np<br><br>def calculate(peoples, subject):<br>    subject_data = peoples[:][subject]<br>    t = (subject, np.mean(subject_data),np.min(subject_data),np.max(subject_data),np.var(subject_data),np.std(subject_data) )<br>    return t<br><br>def printFormat(subjects):<br>    print(&#39;subject    mean    min    max    var    std&#39;)<br>    for s in subjects:<br>        print(str(s[0])+&#39;    &#39; +str(s[1])+&#39;    &#39; +str(s[2])+&#39;    &#39; +str(s[3])+&#39;    &#39; +str(s[4])+&#39;    &#39; +str(s[5]))<br><br>if __name__ == &quot;__main__&quot;:<br>    persontype = np.dtype({<br>        &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>        &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>    peoples = np.array([(&quot;ZhangFei&quot;,66,65, 30),(&quot;GuanYu&quot;,95,85,98),<br>           (&quot;ZhaoYun&quot;,93,92,96),(&quot;HuangZhong&quot;,90,88,77),(&quot;DianWei&quot;,80,90,90)],<br>        dtype=persontype)<br>    <br>    subjecttype = np.dtype({<br>        &#39;names&#39;:[&#39;subject&#39;, &#39;mean&#39;,&#39;min&#39;,&#39;max&#39;,&#39;var&#39;,&#39;std&#39;],<br>        &#39;formats&#39;:[&#39;S32&#39;,&#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br>    subjects = np.array([calculate(peoples,&#39;chinese&#39;),calculate(peoples,&#39;english&#39;),calculate(peoples,&#39;math&#39;)], dtype=subjecttype)<br>    <br>    printFormat(subjects)<br>    <br>    ranking = sorted(peoples, key=lambda x: x[1]+x[2]+x[3], reverse = True)<br>    print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439607,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68275,"user_name":"上善若水","can_delete":false,"product_type":"c1","uid":1432353,"ip_address":"","ucode":"FEECBBA65AC0CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/db/21/26ff0240.jpg","comment_is_top":false,"comment_ctime":1550475105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550475105","product_id":100021701,"comment_content":" dtype=[(&#39;name&#39;, &#39;S32&#39;), (&#39;age&#39;, &#39;&lt;i4&#39;), (&#39;chinese&#39;, &#39;&lt;i4&#39;)])<br>请问 i4 是什么意思？","like_count":0},{"had_liked":false,"id":68048,"user_name":"無所畏","can_delete":false,"product_type":"c1","uid":1067630,"ip_address":"","ucode":"7C9C6D4DD98458","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/6e/5f2a8a99.jpg","comment_is_top":false,"comment_ctime":1550396513,"is_pvip":false,"replies":[{"id":"64547","content":"哈哈","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577621591,"ip_address":"","comment_id":68048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550396513","product_id":100021701,"comment_content":"其实题目并不难，看到老师恢复留言，我才觉得，老师的方法简洁。思维不一样吧.","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439489,"discussion_content":"哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68013,"user_name":"Wei_强","can_delete":false,"product_type":"c1","uid":1152887,"ip_address":"","ucode":"B0E40FB6636F9D","user_header":"https://static001.geekbang.org/account/avatar/00/11/97/77/a01ebefc.jpg","comment_is_top":false,"comment_ctime":1550386845,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550386845","product_id":100021701,"comment_content":"NumPy的数组连续地址存储，那么它的读的效率很高，但是写的效率和python原生的list相比要差。那么，对这个问题我们应该如何取舍，什么情况下更适合用哪个数据结构呢","like_count":0},{"had_liked":false,"id":67660,"user_name":"danny","can_delete":false,"product_type":"c1","uid":1090507,"ip_address":"","ucode":"CC9DF0A2454CD3","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/cb/9d8cfef4.jpg","comment_is_top":false,"comment_ctime":1550219290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550219290","product_id":100021701,"comment_content":"老师，通过np.dtype定义的结构体只能是二维的吗？结构体前缀&#39;names&#39;: 和&#39;formats&#39;:是固定写法还是自定义的。这块有点不能理解。<br>","like_count":0},{"had_liked":false,"id":67599,"user_name":"Q","can_delete":false,"product_type":"c1","uid":1352786,"ip_address":"","ucode":"26D266D17F12EC","user_header":"https://static001.geekbang.org/account/avatar/00/14/a4/52/93a16888.jpg","comment_is_top":false,"comment_ctime":1550206833,"is_pvip":false,"replies":[{"id":"64562","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577621770,"ip_address":"","comment_id":67599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550206833","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;age&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,32,75,100, 90),(&quot;GuanYu&quot;,24,85,96,88.5),<br>       (&quot;ZhaoYun&quot;,28,85,92,96.5),(&quot;HuangZhong&quot;,29,65,85,100)],<br>    dtype=persontype)<br>ages = peoples[:][&#39;age&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>print np.mean(ages)<br>print np.mean(chineses)<br>print np.mean(maths)<br>print np.mean(englishs)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439271,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67345,"user_name":"史龙","can_delete":false,"product_type":"c1","uid":1395820,"ip_address":"","ucode":"4CF73B8CDBA66C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/RQdib68D7dsoFlYXOweiaPqL9zEH6kWdphZOFOnEc7acCS37oDkMnZaFrVqkaeLV6mUAHicB0xo8A7xRrlLlDvicCQ/132","comment_is_top":false,"comment_ctime":1550133373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550133373","product_id":100021701,"comment_content":"scoredata = np.dtype([(&quot;name&quot;, &quot;S32&quot;), (&quot;chinese&quot;,&#39;i&#39;), (&quot;english&quot;,&quot;i&quot;), (&quot;math&quot;, &quot;i&quot;)])<br>a = np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)], dtype=scoredata)<br>np.mean(a[&quot;english&quot;])","like_count":0},{"had_liked":false,"id":67043,"user_name":"Dull","can_delete":false,"product_type":"c1","uid":1347024,"ip_address":"","ucode":"A69F4D8E8CD1EA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/d0/34e6a27d.jpg","comment_is_top":false,"comment_ctime":1550060826,"is_pvip":false,"replies":[{"id":"64575","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577621911,"ip_address":"","comment_id":67043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550060826","product_id":100021701,"comment_content":"python3的代码，参考了其他同学的代码与老师的回复，在最后的总成绩排名输出是将成绩排序，用老师说的print np.sort(peoples, order=&#39;total&#39;)输出出来是升序排序，并且使用搜索引擎没有找到降序的方法。还请大家请教。<br># -*- coding: utf-8 -*-<br>import numpy as np<br>studenttype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>\t\t\t\t\t&#39;formats&#39;:[&#39;U32&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;]})<br>students = np.array([(&#39;张飞&#39;,66,65,30,0),(&#39;关羽&#39;,95,85,98,0),(&#39;赵云&#39;,93,92,96,0),(&#39;黄忠&#39;,90,88,77,0),(&#39;典韦&#39;,80,90,90,0)],dtype = studenttype)<br>students[:][&#39;total&#39;] = students[:][&#39;chinese&#39;] + students[:][&#39;english&#39;] + students[:][&#39;math&#39;]<br>print(students)<br>c = students[:][&#39;chinese&#39;]<br>e = students[:][&#39;english&#39;]<br>m = students[:][&#39;math&#39;]<br><br>def show(name,sub):<br>\tprint(name,end=&#39;|&#39;)<br>\tprint(np.mean(sub),end=&#39;|&#39;)<br>\tprint(np.amax(sub),end=&#39;|&#39;)<br>\tprint(np.amin(sub),end=&#39;|&#39;)<br>\tprint(np.var(sub),end=&#39;|&#39;)<br>\tprint(np.std(sub))<br>print(&#39;科目|平均值|最大值|最小值|方差|标准差&#39;)<br>show(&#39;语文&#39;,c)<br>show(&#39;数学&#39;,m)<br>show(&#39;英语&#39;,e)<br>#输出排名<br>print(&#39;排名&#39;)<br>ranking = sorted(students,key = lambda x:x[4],reverse = True)<br>print(ranking)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439026,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577621911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66227,"user_name":"三硝基甲苯","can_delete":false,"product_type":"c1","uid":1141929,"ip_address":"","ucode":"C492B058C2A5C0","user_header":"","comment_is_top":false,"comment_ctime":1549894065,"is_pvip":false,"replies":[{"id":"64588","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622069,"ip_address":"","comment_id":66227,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549894065","product_id":100021701,"comment_content":"import numpy as np<br><br>studenttype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br><br>students = np.array([<br>    (&#39;zhangfei&#39;, 66, 65, 30, 0),<br>    (&#39;guanyu&#39;, 95, 85, 98, 0),<br>    (&#39;zhaoyun&#39;, 93, 92, 96, 0),<br>    (&#39;huangzhong&#39;, 90, 88, 77, 0),<br>    (&#39;dianwei&#39;, 80, 90, 90, 0)], dtype=studenttype)<br><br>ss = np.array([<br>    (&#39;zhangfei&#39;, 66, 65, 30, 0),<br>    (&#39;guanyu&#39;, 95, 85, 98, 0),<br>    (&#39;zhaoyun&#39;, 93, 92, 96, 0),<br>    (&#39;huangzhong&#39;, 90, 88, 77, 0),<br>    (&#39;dianwei&#39;, 80, 90, 90, 0)], dtype=studenttype)<br><br>for i in students:<br>    i[4] = i[1] + i[2] + i[3]<br><br>subject = [&#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;]<br>students = np.sort(students, order=[&quot;total&quot;])[::-1]<br>for i in subject:<br>    print(&quot;the mean of the {0}: {1}&quot;.format(i, np.mean(students[:][i])))<br>    print(&quot;the max of the {0}:  {1}&quot;.format(i, np.amax(students[:][i])))<br>    print(&quot;the min of the {0}:  {1}&quot;.format(i, np.amin(students[:][i])))<br>    print(&quot;the std of the {0}:  {1}&quot;.format(i, np.std(students[:][i])))<br>    print(&quot;the var of the {0}:  {1}&quot;.format(i, np.var(students[:][i])))<br><br><br>for i in range(1, len(students)+1):<br>    print(&quot;{0}.is {1}&quot;.format(i, students[i-1][0]))<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438754,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66140,"user_name":"Mikey","can_delete":false,"product_type":"c1","uid":1188191,"ip_address":"","ucode":"3EC73395031E88","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/5f/9e1300d3.jpg","comment_is_top":false,"comment_ctime":1549884298,"is_pvip":true,"replies":[{"id":"64590","content":"加油","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622096,"ip_address":"","comment_id":66140,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549884298","product_id":100021701,"comment_content":"补交作业，努力赶上<br><br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39; ,&#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30,0),(&quot;GuanYu&quot;,95,85,98,0),<br>       (&quot;ZhaoYun&quot;,93,92,96,0),(&quot;HuangZhong&quot;,90,88,77,0),(&quot;DianWei&quot;,80,90,90,0)],<br>    dtype=persontype)<br><br>print(peoples)<br><br># 各科平均分 np.mean()<br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br><br>print(np.mean(chinese))<br>print(np.mean(english))<br>print(np.mean(math))<br><br># 最值 amin() amax()<br>print(chinese)<br>print(np.amin(chinese))<br>print(np.amax(chinese))<br><br>print(english)<br>print(np.amin(english))<br>print(np.amax(english))<br><br>print(math)<br>print(np.amin(math))<br>print(np.amax(math))<br><br><br># 方差 var() 标准差 std()<br>print(np.var(chinese))<br>print(np.std(chinese))<br><br>print(np.var(english))<br>print(np.std(english))<br><br>print(np.var(math))<br>print(np.var(math))<br><br># 按总成绩排序<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>print(np.sort(peoples,order=&#39;total&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438723,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65934,"user_name":"陈川","can_delete":false,"product_type":"c1","uid":1346293,"ip_address":"","ucode":"A37B7EEAF40BDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/f5/79cb92fb.jpg","comment_is_top":false,"comment_ctime":1549783464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549783464","product_id":100021701,"comment_content":"老师您好,我想请问一下numpy是否有根据结构数组中的某一组值来更新结构数组的顺序或者输出结构数组的函数<br>比如结构数组在创建时的顺序是依照题目的:张飞,关羽,赵云... 按照结构数组的索引来输出就是0,1,2..<br>我在结构数组中添加了allscore和rank两个字段,用以存放总分和总分的排名<br>在原有的结构数组中rank的值依次为[1,4,5,2,3]<br>如果想要根据rank=1,2,3,4,5的顺序来输出结构数组应该怎么实现呢?<br>我的做法是创建一个while内加for的循环来依次比较rank的值是否为1(2,3,4,5)再决定是否输出,但这样效率很低.","like_count":0},{"had_liked":false,"id":65932,"user_name":"陈川","can_delete":false,"product_type":"c1","uid":1346293,"ip_address":"","ucode":"A37B7EEAF40BDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/f5/79cb92fb.jpg","comment_is_top":false,"comment_ctime":1549783061,"is_pvip":false,"replies":[{"id":"64597","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622198,"ip_address":"","comment_id":65932,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549783061","product_id":100021701,"comment_content":"#整理了输出的形式<br>#-*- coding: utf-8 -*-<br>import numpy as np<br>studenttype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;yuwen&#39;,&#39;shuxue&#39;,&#39;yingyu&#39;,&#39;score&#39;,&#39;rank&#39;],<br>    &#39;formats&#39;:[&#39;U2&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;,&#39;i&#39;,&#39;i&#39;]})<br>students = np.array([(&#39;张飞&#39;,66,30,65,0,0),(&#39;关羽&#39;,95,98,85,0,0),<br>                     (&#39;赵云&#39;,93,96,92,0,0),(&#39;黄忠&#39;,90,77,88,0,0),<br>                     (&#39;典韦&#39;,80,90,90,0,0)],dtype=studenttype)<br>studentnames = students[:][&#39;name&#39;]<br>chinese = students[:][&#39;yuwen&#39;]<br>math = students[:][&#39;shuxue&#39;]<br>english = students[:][&#39;yingyu&#39;]<br>fun = [&#39;平均成绩&#39;,&#39;最低分数&#39;,&#39;最高分数&#39;,&#39;成绩方差&#39;,&#39;的标准差&#39;]<br>name = [&#39;语文&#39;,&#39;数学&#39;,&#39;英语&#39;]<br>m = 0<br>for f in [np.mean,np.amin,np.amax,np.std,np.var]:<br>    n=0<br>    print(&#39;*&#39; * 5, end=&#39;&#39;)<br>    for i in [chinese,math,english]:<br>        print(&#39;{}成绩{:4}:{:}&#39;.format(name[n],fun[m], str(f(i)).center(10)),end=&#39;&#39;)<br>        n+=1<br>    print(&#39;*&#39; * 5)<br>    m+=1<br>for i in range(len(students)):<br>    students[i][&#39;score&#39;] = students[i][&#39;yuwen&#39;]+students[i][&#39;shuxue&#39;]+students[i][&#39;yingyu&#39;]<br>scores = np.sort(students[:][&#39;score&#39;])<br>scoreslist = []<br>for i in range(len(scores)):<br>    scoreslist.append(scores[i])<br>for i in range(len(students)):<br>    students[i][&#39;rank&#39;] = scoreslist.index(students[i][&#39;score&#39;])+1<br>i = 0<br>while i&lt;5:<br>    i+=1<br>    for j in range(len(students)):<br>        if students[j][&#39;rank&#39;] == i:<br>            print(&#39;{}的排名是{},语文成绩是{},数学成绩是{},英语成绩是{},总分为{}&#39;.format(students[j][&#39;name&#39;],students[j][&#39;rank&#39;],students[j][&#39;yuwen&#39;],students[j][&#39;shuxue&#39;],students[j][&#39;yingyu&#39;],students[j][&#39;score&#39;]))<br><br>&quot;&quot;&quot;<br>输出如下:<br>*****语文成绩平均成绩:   84.8   数学成绩平均成绩:   78.2   英语成绩平均成绩:   84.0   *****<br>*****语文成绩最低分数:   66.0   数学成绩最低分数:   30.0   英语成绩最低分数:   65.0   *****<br>*****语文成绩最高分数:   95.0   数学成绩最高分数:   98.0   英语成绩最高分数:   92.0   *****<br>*****语文成绩成绩方差: 10.72194 数学成绩成绩方差:25.190474 英语成绩成绩方差: 9.777525 *****<br>*****语文成绩的标准差:114.96001 数学成绩的标准差:634.55994 英语成绩的标准差:   95.6   *****<br>张飞的排名是1,语文成绩是66.0,数学成绩是30.0,英语成绩是65.0,总分为161<br>....<br>....(如上,超出字数不举例了)<br>&quot;&quot;&quot;","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438646,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65859,"user_name":"欧阳","can_delete":false,"product_type":"c1","uid":1086986,"ip_address":"","ucode":"A72179D45213F6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqqj7ickh69y1Biau8xG4ogXA8ibqxpia69CiaQAQ6lqO0Qb9ujxiacAJq6ZwbzxmvgyQkuNwWaRUCXsYzA/132","comment_is_top":false,"comment_ctime":1549703749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549703749","product_id":100021701,"comment_content":"评论第一条里的cmp是什么？<br>我查了下sorted的用法，应该这么写吧：<br>sorted(peoples, key = lambda x:x[1]+x[2]+x[3], reverse=True)","like_count":0},{"had_liked":false,"id":64997,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1136797,"ip_address":"","ucode":"4F9A006DA78074","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/9d/91d795cf.jpg","comment_is_top":false,"comment_ctime":1548994762,"is_pvip":false,"replies":[{"id":"64617","content":"做笔记不错，Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622491,"ip_address":"","comment_id":64997,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548994762","product_id":100021701,"comment_content":"整理了学习笔记：https:&#47;&#47;mubu.com&#47;doc&#47;sulzALenU0<br><br>1、python自带的list保存的的是对象的指针，遍历的时候还要查找地址，而numpy可以直接遍历，效率更高。<br><br>2、练习题，自己写完后，又参考了一下大家的写法，最后把自己的程序优化了一下<br><br>studenttype = ({<br>\t&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>\t&#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>students = np.array([(&#39;zhangfei&#39;, 66, 65, 30, 0),<br>\t\t\t\t\t(&#39;guanyu&#39;, 95, 65, 30, 0),<br>\t\t\t\t\t(&#39;zhaoyun&#39;, 93, 92, 96, 0),<br>\t\t\t\t\t(&#39;huangzhong&#39;, 90, 88, 77, 0),<br>\t\t\t\t\t(&#39;dianwei&#39;, 80, 90, 90, 0)],dtype=studenttype)<br><br>chineses = students[:][&#39;chinese&#39;]<br>englishs= students[:][&#39;english&#39;]<br>maths = students[:][&#39;math&#39;]<br>students[:][&#39;total&#39;] = students[:][&#39;chinese&#39;] + students[:][&#39;english&#39;] + students[:][&#39;math&#39;]<br><br>#按照成绩打印<br>print(&#39;语文平均成绩：&#39;, np.mean(chineses))<br>print(&#39;英语平均成绩：&#39;, np.mean(englishs))<br>print(&#39;数学平均成绩：&#39;, np.mean(maths))<br>print(&#39;============================&#39;)<br>print(&#39;语文最低成绩&#39;, np.amin(chineses))<br>print(&#39;数英语低成绩&#39;, np.amin(englishs))<br>print(&#39;数学最低成绩&#39;, np.amin(maths))<br>print(&#39;============================&#39;)<br>print(&#39;语文最高成绩&#39;, np.amax(chineses))<br>print(&#39;英语最高成绩&#39;, np.amax(englishs))<br>print(&#39;数学最高成绩&#39;, np.amax(maths))<br>print(&#39;============================&#39;)<br>print(&#39;语文成绩方差&#39;, np.var(chineses))<br>print(&#39;英语成绩方差&#39;, np.var(englishs))<br>print(&#39;数学成绩方差&#39;, np.var(maths))<br>print(&#39;============================&#39;)<br>print(&#39;语文成绩标准差&#39;, np.std(chineses))<br>print(&#39;英语成绩标准差&#39;, np.std(englishs))<br>print(&#39;数学成绩标准差&#39;, np.std(maths))<br>print(&#39;============================&#39;)<br><br>#按照科目打印<br>def show_grade(subject, grade):<br>\tprint(&#39;{:^10}|{:^10}|{:^10}|{:^10}|{:^20}|{:^10}&#39;.format(subject, np.mean(grade), np.amin(grade), np.amax(grade), np.var(grade), np.std(grade)))<br><br>show_grade(&#39;语文&#39;, chineses)<br>show_grade(&#39;英语&#39;, englishs)<br>show_grade(&#39;数学&#39;, maths)<br><br>#学生排名<br>print(&#39;学生成绩排序&#39;, np.sort(students, order=&#39;total&#39;)[::-1])","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438265,"discussion_content":"做笔记不错，Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64795,"user_name":"草包雷","can_delete":false,"product_type":"c1","uid":1158255,"ip_address":"","ucode":"A6466D21248DF5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL8c2Tu3bibiaKQmS1rc58icJOsDKpCtYzhvMMr3YAYTHiboxCAG0CroejUibP0ALOQbzMWz6eyz49Ltcg/132","comment_is_top":false,"comment_ctime":1548912770,"is_pvip":false,"replies":[{"id":"64622","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622585,"ip_address":"","comment_id":64795,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548912770","product_id":100021701,"comment_content":"缺点用np.sort 不能降序<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30,0),(&quot;GuanYu&quot;,95,85,98,0),<br>       (&quot;ZhaoYun&quot;,93,92,96,0),(&quot;HuangZhong&quot;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],<br>    dtype=persontype)<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;math&#39;]+peoples[:][&#39;english&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>english = peoples[:][&#39;english&#39;]<br><br>print(&quot;   &quot;+&quot;平均分&quot;+&quot; 最高分&quot;+&quot; 最低分&quot;+&quot; 方差&quot;+&quot;    标准差&quot;)<br>print(&quot;语文&quot;,np.mean(chineses),&quot; &quot;,np.amax(chineses),&quot;  &quot;,np.amin(chineses),&quot;  &quot;,np.var(chineses),&quot; &quot;,np.std(chineses))<br>print(&quot;英语&quot;,np.mean(english),&quot; &quot;,np.amax(english),&quot;  &quot;,np.amin(english),&quot;  &quot;,np.var(english),&quot; &quot;,np.std(english))<br>print(&quot;数学&quot;,np.mean(maths),&quot; &quot;,np.amax(maths),&quot;  &quot;,np.amin(maths),&quot;  &quot;,np.var(maths),&quot; &quot;,np.std(maths))<br><br>print (np.sort(peoples,order=&#39;total&#39;))<br><br><br>输出<br>  平均分 最高分 最低分 方差    标准差<br>语文 84.8   95    66    114.96   10.7219401229<br>英语 84.0   92    65    95.6   9.77752524926<br>数学 78.2   98    30    634.56   25.1904743901<br>[(b&#39;ZhangFei&#39;, 66, 65, 30, 161) (b&#39;HuangZhong&#39;, 90, 88, 77, 255)<br> (b&#39;dianwei&#39;, 80, 90, 90, 260) (b&#39;GuanYu&#39;, 95, 85, 98, 278)<br> (b&#39;ZhaoYun&#39;, 93, 92, 96, 281)]","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438180,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64427,"user_name":"洛水","can_delete":false,"product_type":"c1","uid":1281590,"ip_address":"","ucode":"DE17B9B3B0B8AC","user_header":"https://static001.geekbang.org/account/avatar/00/13/8e/36/9a9a8825.jpg","comment_is_top":false,"comment_ctime":1548773811,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548773811","product_id":100021701,"comment_content":"作业：<br>老师您好：就是我在做作业的时候，用中文定义课程名和人名的时候，会报错，用中文的时候，就不会报错，不知道有没有什么方法可以直接定义中文名，不用英文<br><br>import numpy as np<br><br>student = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;Cheses&#39;, &#39;English&#39;, &#39;Math&#39;,&#39;Total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]<br>})<br><br>students = np.array([<br>    (&#39;zhangfei&#39;, 66, 65, 30,0),<br>    (&#39;guanyu&#39;, 95, 85, 98,0),<br>    (&#39;zhaoyun&#39;, 93, 92, 96,0),<br>    (&#39;huangzhong&#39;, 98, 88, 77,0),<br>    (&#39;dianwei&#39;, 80, 90, 90,0)],<br>    dtype=student)<br><br>#用 NumPy 统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差，然后把这些人的总成绩排序，得出名次进行成绩输出<br><br>cheses=students[:][&#39;Cheses&#39;]<br>english=students[:][&#39;English&#39;]<br>math=students[:][&#39;Math&#39;]<br>students[:][&#39;Total&#39;]=students[:][&#39;Cheses&#39;]+students[:][&#39;English&#39;]+students[:][&#39;Math&#39;]<br><br>print(&#39;语文平均成绩:&#39;,np.mean(cheses),&#39;语文最低分&#39;,np.amin(cheses),&#39;语文最高分&#39;,np.amax(cheses),&#39;方差&#39;,np.var(cheses),<br>                                                                                    &#39;标准差&#39;,np.std(cheses))<br>print(&#39;英语平均成绩:&#39;,np.mean(english),&#39;英语最低分&#39;,np.amin(english),&#39;英语最高分&#39;,np.amax(english),&#39;方差&#39;,np.var(english),<br>                                                                                    &#39;标准差&#39;,np.std(english))<br>print(&#39;数学平均成绩:&#39;,np.mean(cheses),&#39;数学最低分&#39;,np.amin(cheses),&#39;数学最高分&#39;,np.amax(cheses),&#39;方差&#39;,np.var(cheses),<br>                                                                                    &#39;标准差&#39;,np.std(cheses))<br>#排序<br>print(np.sort(students,order=&#39;Total&#39;))<br><br>","like_count":0},{"had_liked":false,"id":64175,"user_name":"杰之7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1548685868,"is_pvip":false,"replies":[{"id":"64636","content":"加油！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622762,"ip_address":"","comment_id":64175,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548685868","product_id":100021701,"comment_content":"通过这一节的阅读加实践，对numpy的科学计算有了一些认识。首先老师讲述了为什么numpy能快速的处理计算。接着介绍了numpy在数组，数据统计上和排序上的计算方法。<br><br>阅读之后通过练习可以更能理解老师讲述的内容。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437895,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63937,"user_name":"Ama","can_delete":false,"product_type":"c1","uid":1393967,"ip_address":"","ucode":"40589FED5AA0BE","user_header":"","comment_is_top":false,"comment_ctime":1548603216,"is_pvip":false,"replies":[{"id":"64643","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622850,"ip_address":"","comment_id":63937,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548603216","product_id":100021701,"comment_content":"# 我的解答<br><br># -*- coding: utf-8 -*-<br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br><br>peoples = np.array([(&quot;Zhangfei&quot;,66,65,30,0),(&quot;Guanyu&quot;,95,85,98,0),<br>                    (&quot;Zhaoyun&quot;,93,92,96,0),(&quot;Huangzhong&quot;,90,88,77,0),<br>                    (&quot;Dianwei&quot;,80,90,90,0)],<br>                  dtype = persontype)<br><br>chineses = peoples[:][&#39;chinese&#39;]<br>englishes = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br># 计算每个人总分<br>peoples[:][&#39;total&#39;] = chineses + englishes + maths<br>totals = peoples[:][&#39;total&#39;]<br><br># table 在原始列表上加了总分<br>table = np.array([chineses,englishes,maths,totals])<br><br># 包含所有统计数据的数组<br>stat = np.array([np.mean(table, axis = 1),np.amax(table, axis = 1),<br>                 np.amin(table, axis = 1),np.var(table, axis = 1),<br>                np.std(table, axis = 1)])<br><br># 统计名称列向量<br>statnames = np.array([[&quot;平均分:&quot;],[&quot;最高分:&quot;],[&quot;最低分:&quot;],[&quot;方 差:&quot;],[&quot;标准差:&quot;]])<br><br># 打印首行<br>print (&quot;   统计值    语文    英语   数学   总分&quot;)<br><br># 合并统计名称列向量和统计值矩阵<br># 这个方法把所有元素都变成字符串了，如何让数值仍然保持浮点型呢？<br>print (np.hstack((statnames,np.round(stat, decimals = 1))))<br><br># 排序，默认是从小到大，如何从大到小排呢？<br>print (&quot;按总成绩从低到高排序如下：&quot;)<br>print (np.sort(peoples, order = &#39;total&#39;))<br><br>运行结果：<br><br>   统计值    语文    英语   数学   总分<br>[[&#39;平均分:&#39; &#39;84.8&#39; &#39;84.0&#39; &#39;78.2&#39; &#39;247.0&#39;]<br> [&#39;最高分:&#39; &#39;95.0&#39; &#39;92.0&#39; &#39;98.0&#39; &#39;281.0&#39;]<br> [&#39;最低分:&#39; &#39;66.0&#39; &#39;65.0&#39; &#39;30.0&#39; &#39;161.0&#39;]<br> [&#39;方 差:&#39; &#39;115.0&#39; &#39;95.6&#39; &#39;634.6&#39; &#39;1949.2&#39;]<br> [&#39;标准差:&#39; &#39;10.7&#39; &#39;9.8&#39; &#39;25.2&#39; &#39;44.1&#39;]]<br>按总成绩从低到高排序如下：<br>[(b&#39;Zhangfei&#39;, 66, 65, 30, 161) (b&#39;Huangzhong&#39;, 90, 88, 77, 255)<br> (b&#39;Dianwei&#39;, 80, 90, 90, 260) (b&#39;Guanyu&#39;, 95, 85, 98, 278)<br> (b&#39;Zhaoyun&#39;, 93, 92, 96, 281)]","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437772,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63825,"user_name":"月亮上的熊猫_lv","can_delete":false,"product_type":"c1","uid":1341518,"ip_address":"","ucode":"F5A5A0ADA133CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/78/4e/46047725.jpg","comment_is_top":false,"comment_ctime":1548520595,"is_pvip":false,"replies":[{"id":"64648","content":"加油~ 感谢分享","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577622929,"ip_address":"","comment_id":63825,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548520595","product_id":100021701,"comment_content":"作业打卡，sort&#47;sorted还有很多可以深挖。sort是numpy中自带的。<br>在通常的使用中，sorted不会改变数据本身，而sort会。<br>import numpy as np<br>persontype = np.dtype({<br>        &#39;names&#39; : [&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;sum&#39;],<br>        &#39;formats&#39; : [&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>        })<br><br>peoples = np.array([(&#39;zhangfei&#39;,66,65,30,0),<br>                   (&#39;guanyu&#39;,95,85,98,0),<br>                   (&#39;zhaoyun&#39;,93,92,96,0),<br>                   (&#39;huangzhong&#39;,90,88,77,0),<br>                   (&#39;dianwei&#39;,80,90,90,0)],<br>                   dtype = persontype)<br><br>chinese = peoples[:][&#39;chinese&#39;]<br>english = peoples[:][&#39;english&#39;]<br>math = peoples[:][&#39;math&#39;]<br><br>print(&#39;CH mean: &#39;,np.mean(chinese))<br>print(&#39;EN mean: &#39;,np.mean(english))<br>print(&#39;MA mean: &#39;,np.mean(math))<br><br>print(&#39;CH MIN: &#39;,np.amin(chinese))<br>print(&#39;CH MAX: &#39;,np.amax(chinese))<br>print(&#39;CH STD: &#39;,np.std(chinese))<br>print(&#39;CH VAR: &#39;,np.var(chinese))<br><br>&#39;&#39;&#39;<br>ranking = sorted(peoples,key=lambda x:x[1]+x[2]+x[3], reverse=True)<br>print(ranking)<br>&#39;&#39;&#39;<br><br>peoples[:][&#39;sum&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>print(&#39;The order: &#39;,np.sort(peoples,order=&#39;sum&#39;))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437724,"discussion_content":"加油~ 感谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577622929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63570,"user_name":"文","can_delete":false,"product_type":"c1","uid":1354361,"ip_address":"","ucode":"81F77554DD3181","user_header":"https://static001.geekbang.org/account/avatar/00/14/aa/79/92fffbb9.jpg","comment_is_top":false,"comment_ctime":1548403343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548403343","product_id":100021701,"comment_content":"import numpy as np<br>persontype=np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;], &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples=np.array([(&quot;ZhangFei&quot;,66,65,30),<br>                  (&quot;GuanYu&quot;,95,85,98),<br>                  (&quot;ZhaoYun&quot;,93.92,96),<br>                  (&quot;HuanZhong&quot;,90,88,77),<br>                  (&quot;DianWei&quot;,80,90,90)],dtype=persontype)<br><br>chineses=peoples[:][&#39;chinese&#39;]<br>englishs=peoples[:][&#39;english&#39;]<br>maths=peoples[:][&#39;math&#39;]<br><br>print(peoples)<br><br><br>运行结果：<br>Traceback (most recent call last):<br>  File &quot;D:&#47;学习&#47;python&#47;shuju&#47;numpy-lianxi&#47;lianxi.py&quot;, line 8, in &lt;module&gt;<br>    (&quot;DianWei&quot;,80,90,90)],dtype=persontype)<br>ValueError: could not assign tuple of length 3 to structure with 4 fields.<br><br><br>到这里就报错，为什么？","like_count":0},{"had_liked":false,"id":63321,"user_name":"夜吾夜","can_delete":false,"product_type":"c1","uid":1293142,"ip_address":"","ucode":"FC8729883EAD62","user_header":"https://static001.geekbang.org/account/avatar/00/13/bb/56/41cbcda2.jpg","comment_is_top":false,"comment_ctime":1548322517,"is_pvip":false,"replies":[{"id":"64670","content":"慢慢来 跟着专栏一起做练习，从算法原理 到 工具使用","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577623794,"ip_address":"","comment_id":63321,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548322517","product_id":100021701,"comment_content":"老师,代码理解难度不大,作为一名数据开发工程师，想转数据分析,但是您的文章里有好多名词我不太理解，比如正态分布，百分位数等，百度去理解起来也比较吃力，我目前这个阶段，想要在数据分析领域进步，应该做些什么啊？有什么推荐的书籍或办法码？<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437546,"discussion_content":"慢慢来 跟着专栏一起做练习，从算法原理 到 工具使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577623794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62812,"user_name":"阿蒙森的哈士奇","can_delete":false,"product_type":"c1","uid":1142992,"ip_address":"","ucode":"D2A186027ED541","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/d0/d8a1aa53.jpg","comment_is_top":false,"comment_ctime":1548164300,"is_pvip":false,"replies":[{"id":"64676","content":"不错的分享","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577623884,"ip_address":"","comment_id":62812,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548164300","product_id":100021701,"comment_content":"import numpy as np<br><br># 定义数据结构<br>score_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]<br>})<br># 创建对象<br>score = np.array([<br>    (&#39;zhangfei&#39;, 66, 65, 30),<br>    (&#39;guangyu&#39;, 95, 85, 98),<br>    (&#39;zhaoyun&#39;, 93, 92, 96),<br>    (&#39;huangzhong&#39;, 90, 88, 77),<br>    (&#39;dianwei&#39;, 80, 90, 90)<br>], dtype=score_type)<br><br># 平均成绩<br>for stu in score:<br>    print(&#39;姓名：%s | 平均成绩：%f&#39; % (stu[0], sum((list(stu)[1::])) &#47; 3))<br><br># 每位同学最低&#47;最高成绩<br>for stu in score:<br>    print(&#39;姓名：%s | 最低成绩：%f | 最高成绩：%f&#39; <br>          % (stu[0], min(list(stu)[1::]), max(list(stu)[1::])))<br>    <br># 每位同学各科成绩的方差与标准差<br>for stu in score:<br>    print(&#39;姓名：%s | 分数方差：%f | 分数标准差：%f&#39; <br>         % (stu[0], np.var(np.array(list(stu)[1::])), np.std(np.array(list(stu)[1::]))))<br>    <br># 按总成绩排序输出（从小到大）<br>sumscore_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;f&#39;]<br>})<br>sumscore = np.array([<br>    tuple([stu[0], sum(list(stu)[1::])]) for stu in score<br>], dtype=sumscore_type)<br>print(np.sort(sumscore, order=&#39;total&#39;))<br><br>&quot;&quot;&quot;<br>1. 由于 amax() , amin() 不能处理带有非数值的元素（我测试的结果是这样的，如有异议，老师指正一下吧），所以采用了直接抽取去每个同学的所有成绩，直接用python内置的 max() 和 min() 函数<br>2. 总成绩排序输出，当然可以写的更简单点，直接抽取出成绩比大小。但是为了，利用上本节课所学的内容，我还是先自定义了一个数据结构，再利用上 numpy.sort()  函数<br>&quot;&quot;&quot;<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437359,"discussion_content":"不错的分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577623884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62746,"user_name":"james","can_delete":false,"product_type":"c1","uid":1260477,"ip_address":"","ucode":"CB62CF7C4EF92D","user_header":"https://static001.geekbang.org/account/avatar/00/13/3b/bd/f9f780a4.jpg","comment_is_top":false,"comment_ctime":1548147259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548147259","product_id":100021701,"comment_content":"import numpy as np<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br>struct = np.dtype({&#39;names&#39;:[&#39;Name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;],<br>                   &#39;formats&#39;:[&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]<br>                  })<br>student_scores = np.array([(&#39;Jack&#39;, 30, 95, 60),<br>                           (&#39;Rose&#39;, 80, 95, 96),<br>                           (&#39;Claire&#39;, 90, 95, 50),<br>                           (&#39;Zoey&#39;, 80, 80, 70)], dtype=struct)<br>s = struct.names<br>print(&quot;Statistics:&quot;)<br>for name in list(s[1:]):<br>    if name == &#39;Chinese&#39;:<br>        print(&quot;            Mean       Variance       Std&quot;)<br>        print(&quot;Chinese:   &quot;,student_scores[name].mean(), \\<br>              &quot;      &quot;, student_scores[name].var(),\\<br>              &quot;      &quot;, student_scores[name].std())<br>    elif name == &#39;English&#39;:<br>        print(&quot;English:   &quot;, student_scores[name].mean(),\\<br>              &quot;     &quot;, student_scores[name].var(),\\<br>              &quot;    &quot;, student_scores[name].std())<br>    elif name == &#39;Math&#39;:<br>        print(&quot;Math:      &quot;, student_scores[name].mean(),\\<br>              &quot;      &quot;, student_scores[name].var(),\\<br>              &quot;      &quot;, student_scores[name].std())<br>sorted_result = sorted(student_scores, key = lambda x : x[1] + x[2] + x[3], reverse=True)<br>print(&quot;&quot;)<br>print(&quot;Rank:&quot;)<br>print(&quot;Name      Chinese      English    Math&quot;)<br>for res in list(sorted_result):<br>    print(res[0],&quot;      &quot;,res[1],&quot;         &quot;,res[2],&quot;     &quot;,res[3])","like_count":0},{"had_liked":false,"id":62738,"user_name":"王彬成","can_delete":false,"product_type":"c1","uid":1015045,"ip_address":"","ucode":"386803B8FC2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/05/4bad0c7c.jpg","comment_is_top":false,"comment_ctime":1548146055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548146055","product_id":100021701,"comment_content":"1、用自己的话说明一下为什么要用 NumPy 而不是 Python 的列表 list 吗？<br>用numpy存储数组可节约内存和计算时间<br>2、除此之外，你还知道那些数据结构类型？<br>4种基本数据结构：列表、元组、字典、集合<br><br>4、问题请教<br>请问老师，用numpy如何进行降序排列。因为查了很久，numpy只有升序排序<br>5、axis=0，axis=1理解<br>简单来说，axis=0 是对每一组 纵向 数据进行处理，axis=1 是对每一组 横向 数据进行处理。<br>更加本质的理解。举例二维数组a[2][3]=[[4,3,2],[2,4,1]]。<br>a[0][0]=4, a[0][1]=3, a[0][2]=2<br>a[1][0]=2,  a[1][1]=4,  a[1][2]=1<br>##axis=0，就是第1个下标变化的方向进行排序，即<br>a[0][0] -&gt;a[1][0]<br>a[0][1] -&gt; a[1][1]<br>a[0][2] -&gt; a[1][2]<br>[[2 3 1] <br>[4 4 2]]<br>##axis=1，就是第2个下标变化的方向进行排序，即<br>a[0][0] -&gt; a[0][1] -&gt; a[0][2]<br>a[1][0] -&gt; a[1][1] -&gt; a[1][2]<br>[[2 3 4] <br>[1 2 4]]<br><br>3、全班成绩输出代码<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;,  &#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30,0),(&quot;GuanYu&quot;,95,85,98,0),<br>       (&quot;ZhaoYun&quot;,93,92,96,0),(&quot;HuangZhong&quot;,90,88,77,0),(&quot;DianWei&quot;,80,90,90,0)],                 <br>                   dtype=persontype)<br><br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>print(peoples)<br><br>## 语文成绩输出，平均成绩、最小成绩、最大成绩、方差、标准差<br>print(&#39;语文成绩&#39;)<br>print (&#39;平均成绩&#39;,np.mean(chineses))<br>print(&#39;最小成绩&#39;,np.amin(chineses))<br>print(&#39;最大成绩&#39;,np.amax(chineses))<br>print(&#39;方差&#39;,np.var(chineses))<br>print(&#39;标准差&#39;,np.std(chineses))<br><br>## 数学成绩输出，平均成绩、最小成绩、最大成绩、方差、标准差<br>print(&#39;---------------&#39;)<br>print(&#39;数学成绩&#39;)<br>print (&#39;平均成绩&#39;,np.mean(maths))<br>print(&#39;最小成绩&#39;,np.amin(maths))<br>print(&#39;最大成绩&#39;,np.amax(maths))<br>print(&#39;方差&#39;,np.var(maths))<br>print(&#39;标准差&#39;,np.std(maths))<br><br>## 英语成绩输出，平均成绩、最小成绩、最大成绩、方差、标准差<br>print(&#39;---------------&#39;)<br>print(&#39;英语成绩&#39;)<br>print (&#39;平均成绩&#39;,np.mean(englishs))<br>print(&#39;最小成绩&#39;,np.amin(englishs))<br>print(&#39;最大成绩&#39;,np.amax(englishs))<br>print(&#39;方差&#39;,np.var(englishs))<br>print(&#39;标准差&#39;,np.std(englishs))<br><br>## 按总成绩排名输出<br>print(&#39;---------------&#39;)<br>print (np.sort(peoples,order=&#39;total&#39;))<br><br>","like_count":0},{"had_liked":false,"id":61970,"user_name":"skybird","can_delete":false,"product_type":"c1","uid":1149771,"ip_address":"","ucode":"3D7593E7CD3C3B","user_header":"https://static001.geekbang.org/account/avatar/00/11/8b/4b/503eaecc.jpg","comment_is_top":false,"comment_ctime":1547868661,"is_pvip":false,"replies":[{"id":"64691","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577624289,"ip_address":"","comment_id":61970,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547868661","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;python<br>#vim: set fileencoding:utf-8<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>姓名 语文 英语 数学 <br>张飞  66   65   30<br>关羽  95   85   98<br>赵云  93   92   96<br>黄忠  90   88   77<br>典韦  80   90   90<br>&#39;&#39;&#39;<br><br>import numpy as np<br>sttype1 = np.dtype({<br>    &#39;names&#39;:[&#39;姓名&#39;,&#39;语文&#39;, &#39;英语&#39;, &#39;数学&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;U32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>students = np.array([(&quot;张飞&quot;,66,65,30,0),(&quot;关羽&quot;,95,85,98,0),<br>       (&quot;赵云&quot;,93,92,96,0),(&quot;黄忠&quot;,90,88,77,0),(&quot;典韦&quot;,80,90,90,0)],<br>    dtype=sttype1)<br>\t<br>students[:][&#39;total&#39;] = students[:][&#39;语文&#39;] + students[:][&#39;数学&#39;]+ students[:][&#39;英语&#39;]<br>\t<br>names = students[:][&#39;姓名&#39;]<br>chineses = students[:][&#39;语文&#39;]<br>maths = students[:][&#39;数学&#39;]<br>englishs = students[:][&#39;英语&#39;]<br><br>print (&quot;学生成绩统计如下: &quot;)<br>print (&quot;科目  平均分  最低分  最高分  方差\t标准差&quot;)<br>print (&quot;语文   %3.1f    %3.1f    %3.1f   %3.1f\t%3.1f &quot; % (np.mean(chineses), np.amin(chineses), np.amax(chineses), np.var(chineses), np.std(chineses)))<br>print (&quot;数学   %3.1f    %3.1f    %3.1f   %3.1f\t%3.1f &quot; % (np.mean(maths), np.amin(maths), np.amax(maths), np.var(maths), np.std(maths)))<br>print (&quot;英语   %3.1f    %3.1f    %3.1f   %3.1f\t%3.1f &quot; % (np.mean(englishs), np.amin(englishs), np.amax(englishs), np.var(englishs), np.std(englishs)))<br><br>students_temp = sorted(students, key=lambda x:x[4], reverse=True)<br><br>print()<br>print(&quot;这批学生的成绩排名为: &quot; )<br>print(&quot;名次   姓名   总分&quot;)<br>i = 0<br>while i &lt; len(students_temp):<br>  print (&quot; &quot;, i+1, &quot;  &quot;, students_temp[i][&#39;姓名&#39;], &quot; &quot;, students_temp[i][&#39;total&#39;])<br>  i += 1<br>  <br>print()<br>print (&quot;-------------------------END-------------------------&quot;)","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437055,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577624289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61884,"user_name":"Sniper","can_delete":false,"product_type":"c1","uid":1385287,"ip_address":"","ucode":"8FEA9AE27A7A08","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/47/6c2a60ee.jpg","comment_is_top":false,"comment_ctime":1547827292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547827292","product_id":100021701,"comment_content":"分享一下到目前为止 整理知识框架和知识点<br>https:&#47;&#47;mubu.com&#47;doc&#47;leLR2dkBw0","like_count":0},{"had_liked":false,"id":61883,"user_name":"Sniper","can_delete":false,"product_type":"c1","uid":1385287,"ip_address":"","ucode":"8FEA9AE27A7A08","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/47/6c2a60ee.jpg","comment_is_top":false,"comment_ctime":1547827062,"is_pvip":false,"replies":[{"id":"64693","content":"做出来就是不错，可以看下评论区大家的解答，高手在民间","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577624340,"ip_address":"","comment_id":61883,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547827062","product_id":100021701,"comment_content":"交作业：<br>import numpy as np<br><br># create a structure<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br># create an array base on the structure<br>peoples = np.array([(&#39;ZhangFei&#39;, 66, 65, 30, 0),<br>                    (&#39;GuanYu&#39;, 95, 85, 98, 0),<br>                    (&#39;ZhaoYun&#39;, 93, 92, 96, 0),<br>                    (&#39;Huangzhong&#39;, 90, 88, 77, 0),<br>                    (&#39;DianWei&#39;, 80, 90, 90, 0)],<br>                   dtype=persontype)<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>ranking = np.sort(peoples, order=&#39;total&#39;)<br><br>print(ranking)<br><br>statictype = np.dtype({<br>    &#39;names&#39;:[&#39;course&#39;, &#39;mean&#39;, &#39;min&#39;, &#39;max&#39;, &#39;var&#39;, &#39;std&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;]})<br># create an array base on the structure<br>statistics = np.array([(&#39;chinese&#39;, 0, 0, 0, 0, 0),<br>                    (&#39;english&#39;, 0, 0, 0, 0, 0),<br>                    (&#39;math&#39;, 0, 0, 0, 0, 0)],<br>                   dtype=statictype)<br><br>for i in range(3):<br>    if i == 0:<br>        a = &#39;chinese&#39;<br>    elif i == 1:<br>        a = &#39;english&#39;<br>    else:<br>        a = &#39;math&#39;<br>    statistics[i][1] = np.mean(peoples[:][a])<br>    statistics[i][2] = np.amin(peoples[:][a])<br>    statistics[i][3] = np.amax(peoples[:][a])<br>    statistics[i][4] = np.var(peoples[:][a])<br>    statistics[i][5] = np.std(peoples[:][a])<br><br>print(statistics)<br>老湿指导下 那块需要再优化或者改进的","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437025,"discussion_content":"做出来就是不错，可以看下评论区大家的解答，高手在民间","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577624340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61776,"user_name":"老友@极客时间","can_delete":false,"product_type":"c1","uid":1006312,"ip_address":"","ucode":"BA96C0D6200590","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/e8/6a73208c.jpg","comment_is_top":false,"comment_ctime":1547797600,"is_pvip":false,"replies":[{"id":"64700","content":"加油~ 不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577624421,"ip_address":"","comment_id":61776,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547797600","product_id":100021701,"comment_content":"今天重新复习了 方差标准差 加权平均数等概念😂😂😂😂😂","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436989,"discussion_content":"加油~ 不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577624421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60767,"user_name":"胖陶","can_delete":false,"product_type":"c1","uid":1372987,"ip_address":"","ucode":"EE32D91A3BC0F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/f3/3b/15ffb7c3.jpg","comment_is_top":false,"comment_ctime":1547547735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547547735","product_id":100021701,"comment_content":"老师，如果输入的名字是中文就会报错UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)","like_count":0},{"had_liked":false,"id":58812,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1547198199,"is_pvip":false,"replies":[{"id":"64775","content":"对的 解释正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577625371,"ip_address":"","comment_id":58812,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547198199","product_id":100021701,"comment_content":"很多人都问了S32是什么意思，按我理解，是代表32字节的字符串（计算机UTF-8 一般存储一个英文字符用一个字节，即最大可以存32个字符组成的字符串），请问老师，理解是否正确呢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436216,"discussion_content":"对的 解释正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577625371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58559,"user_name":"与伊墨墨","can_delete":false,"product_type":"c1","uid":1363233,"ip_address":"","ucode":"8D680B54A1BCFE","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/21/035824bd.jpg","comment_is_top":false,"comment_ctime":1547112905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547112905","product_id":100021701,"comment_content":"排序<br>np.sort(a.sum(axis=0),axis=0)","like_count":0},{"had_liked":false,"id":58491,"user_name":"style","can_delete":false,"product_type":"c1","uid":1235709,"ip_address":"","ucode":"ED683F58593EB8","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/fd/4cc7212e.jpg","comment_is_top":false,"comment_ctime":1547090505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547090505","product_id":100021701,"comment_content":"import numpy as np<br><br>studentType = np.dtype({<br>    &#39;names&#39; : [&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39; : [&#39;U32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br>#这里的name的是汉字，类型本来是S32,但是这样的话会报错的，我看过文档，用U32就不会报错，建议有问题看看文档<br>student = np.array([(&#39;张飞&#39;,66,65,30,0),(&#39;关羽&#39;,95,85,98,0),(&#39;赵云&#39;,93,92,96,0),(&#39;黄忠&#39;,90,88,77,0),(&#39;典韦&#39;,80,90,90,0)],dtype=studentType)<br><br>names = student[:][&#39;name&#39;]<br>chineses = student[:][&#39;chinese&#39;]<br>englishs = student[:][&#39;english&#39;]<br>maths= student[:][&#39;math&#39;]<br><br>def dealNum(sub,num):<br>    print(sub)<br>    print(&#39;平均值=&#39;, np.mean(num))<br>    print(&#39;最小值=&#39;, np.amin(num))<br>    print(&#39;最大值=&#39;, np.amax(num))<br>    print(&#39;方差=&#39;, np.var(num))<br>    print(&#39;标准差=&#39;, np.std(num))<br>print(&#39;+++++++++++++++++++++++++++++++++++++++&#39;)<br>dealNum(&#39;语文&#39;,chineses)<br>dealNum(&#39;英语&#39;,englishs)<br>dealNum(&#39;数学&#39;,maths)<br>print(&#39;===============================&#39;)<br>student[:][&#39;total&#39;] = student[:][&#39;chinese&#39;] + student[:][&#39;english&#39;]+student[:][&#39;math&#39;]<br>rank = sorted(student,key=lambda x:x[1]+x[2]+x[3],reverse=False)<br>print(rank)<br>运行结果：<br>[(&#39;张飞&#39;, 66, 65, 30, 161), (&#39;黄忠&#39;, 90, 88, 77, 255), (&#39;典韦&#39;, 80, 90, 90, 260), (&#39;关羽&#39;, 95, 85, 98, 278), (&#39;赵云&#39;, 93, 92, 96, 281)]<br>之前没接触过numpy,看到这一篇的时候，我整整看了三天，看了遍菜鸟上面的numpy的教程，结合上面老师的提议，写出这么个结果","like_count":0},{"had_liked":false,"id":57956,"user_name":"浩","can_delete":false,"product_type":"c1","uid":1358637,"ip_address":"","ucode":"CB740BF27E119B","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/2d/f4bdecaa.jpg","comment_is_top":false,"comment_ctime":1546951062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546951062","product_id":100021701,"comment_content":"studenttype = np.dtype({&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;maths&#39;], &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>students = np.array([(&#39;zhangfei&#39;, 66, 65, 30), (&#39;guanyu&#39;, 95, 85, 98), (&#39;zhaoyun&#39;, 93, 92, 96),(&#39;huangzhong&#39;, 90, 88, 77), (&#39;dianwei&#39;, 80, 90, 90)], dtype=studenttype)<br><br><br>有什么方法可以快捷方便的把students中的后面3个元素提取出来变成<br>[(66, 65, 30), (95, 85, 98), (93, 92, 96), ( 90, 88, 77),  (80, 90, 90)]<br><br>吗？？","like_count":0},{"had_liked":false,"id":57898,"user_name":"白夜","can_delete":false,"product_type":"c1","uid":1354449,"ip_address":"","ucode":"7AABFA7C04EA34","user_header":"https://static001.geekbang.org/account/avatar/00/14/aa/d1/076482f3.jpg","comment_is_top":false,"comment_ctime":1546937203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546937203","product_id":100021701,"comment_content":"1.list 保存的是对象的指针，Numpy可以省去这个指针<br>2.连续储存，查的快<br>3.可以多线程，计算更快<br>这个知识点不太理解为什么加快了：在内存访问模式中，缓存会直接把字节块从 RAM 加载到 CPU 寄存器中。因为数据连续的存储在内存中，NumPy 直接利用现代 CPU 的矢量化指令计算，加载寄存器中的多个连续浮点数。<br>---<br>顺便吐槽一下，这个回帖不能加图片，而且复制文章内容只能复制几个字，有点麻烦","like_count":0},{"had_liked":false,"id":57855,"user_name":"style","can_delete":false,"product_type":"c1","uid":1235709,"ip_address":"","ucode":"ED683F58593EB8","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/fd/4cc7212e.jpg","comment_is_top":false,"comment_ctime":1546929747,"is_pvip":false,"replies":[{"id":"20928","content":"Python3 默认str是Unicode类型，所以要转成 bytestring，会在原来的str前加上 b","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547000339,"ip_address":"","comment_id":57855,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546929747","product_id":100021701,"comment_content":"老师我有个疑问<br>student = np.dtype([(&#39;name&#39;,&#39;S20&#39;), (&#39;age&#39;, &#39;i1&#39;), (&#39;marks&#39;, &#39;f4&#39;)])<br>a = np.array([(&#39;abc&#39;, 21, 50),(&#39;xyz&#39;, 18, 75)], dtype = student)<br>print(a)<br>print(a[&#39;name&#39;])<br>结果：<br>[(b&#39;abc&#39;, 21, 50.) (b&#39;xyz&#39;, 18, 75.)]<br>[b&#39;abc&#39; b&#39;xyz&#39;]<br>我不明白为什么打印出来的name会带一个b,老师你前面举例子的persontype那个也是这样子，还请老师解答下","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435795,"discussion_content":"Python3 默认str是Unicode类型，所以要转成 bytestring，会在原来的str前加上 b","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547000339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57833,"user_name":"Sunway.","can_delete":false,"product_type":"c1","uid":1203652,"ip_address":"","ucode":"F0DBC27A0D8158","user_header":"https://static001.geekbang.org/account/avatar/00/12/5d/c4/cf9b06b9.jpg","comment_is_top":false,"comment_ctime":1546921280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546921280","product_id":100021701,"comment_content":"第一个问题<br>numpy将值存储在连续的内存块中，而list是分散存储，使用numpy可以提升处理速度并节省资源，除此之外还有栈，队列，链表，图等数据类型<br>第二个问题<br>我的代码还不够简洁，输出那里应该写成循环的机构来节省代码量，看了评论里其他同学的回答后再参考着改的更简洁些<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,  &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;], })<br>grades=np.array([(&quot;ZhangFei&quot;, 66, 65, 30, 0), (&quot;GuanYu&quot;, 95, 85, 98, 0),<br>                 (&quot;ZhaoYun&quot;, 93, 92, 96, 0), (&quot;HuangZhong&quot;, 90, 88, 77, 0),<br>                 (&quot;DianWei&quot;, 80, 90, 90, 0)], dtype=persontype)<br>chineses = grades[:][&#39;chinese&#39;]<br>englishs = grades[:][&#39;english&#39;]<br>maths = grades[:][&#39;math&#39;]<br>grades[:][&#39;total&#39;]=grades[:][&#39;chinese&#39;]+grades[:][&#39;english&#39;]+grades[:][&#39;math&#39;]<br>print(&quot;语文成绩平均值，最小成绩，最大成绩，方差，标准差&quot;)<br>print(np.mean(chineses))<br>print(np.amin(chineses))<br>print(np.amax(chineses))<br>print(np.var(chineses))<br>print(np.std(chineses))<br>print(&quot;英语成绩平均值，最小成绩，最大成绩，方差，标准差&quot;)<br>print(np.mean(englishs))<br>print(np.amin(englishs))<br>print(np.amax(englishs))<br>print(np.var(englishs))<br>print(np.std(englishs))<br>print(&quot;数学成绩平均值，最小成绩，最大成绩，方差，标准差&quot;)<br>print(np.mean(maths))<br>print(np.amin(maths))<br>print(np.amax(maths))<br>print(np.var(maths))<br>print(np.std(maths))<br>#排序<br>print(np.sort(grades, order=&#39;total&#39;)[::-1])","like_count":0},{"had_liked":false,"id":57828,"user_name":"圆圆的大食客","can_delete":false,"product_type":"c1","uid":1361827,"ip_address":"","ucode":"B5B87E08869507","user_header":"https://static001.geekbang.org/account/avatar/00/14/c7/a3/1e2f9f5a.jpg","comment_is_top":false,"comment_ctime":1546918800,"is_pvip":false,"replies":[{"id":"20932","content":"优秀","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547000666,"ip_address":"","comment_id":57828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546918800","product_id":100021701,"comment_content":"把老师的hint和第一个答案结合了一下：<br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30, 0),(&quot;GuanYu&quot;,95,85,98, 0),<br>       (&quot;ZhaoYun&quot;,93,92,96, 0),(&quot;HuangZhong&quot;,90,88,77, 0), <br>       (&quot;dianwei&quot;,80,90,90,0)], dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;math&#39;]+ peoples[:][&#39;english&#39;]<br><br>print (&quot;chinese ave&quot;, np.mean(chineses))<br>print (&quot;chinese max&quot;, np.amax(chineses))<br>print (&quot;chinese min&quot;, np.amin(chineses))<br>print (&quot;chinese std&quot;, np.std(chineses))<br>print (&quot;chinese var&quot;, np.var(chineses))<br>#其他科目这里就不写了<br>print (sorted(peoples, key=lambda x:x[4], reverse=True))","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435778,"discussion_content":"优秀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547000666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57440,"user_name":"伍俊滨","can_delete":false,"product_type":"c1","uid":1083959,"ip_address":"","ucode":"D96CA824F7B462","user_header":"https://static001.geekbang.org/account/avatar/00/10/8a/37/92b98544.jpg","comment_is_top":false,"comment_ctime":1546791541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546791541","product_id":100021701,"comment_content":"第四讲笔记<br>https:&#47;&#47;mubu.com&#47;doc&#47;3QadR_xU7v","like_count":0},{"had_liked":false,"id":57436,"user_name":"Elvis Young","can_delete":false,"product_type":"c1","uid":1352549,"ip_address":"","ucode":"60493B1341CE1A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a3/65/c5a4513a.jpg","comment_is_top":false,"comment_ctime":1546791263,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546791263","product_id":100021701,"comment_content":"import  numpy as np<br><br>students=np.dtype([(&#39;Name&#39;,&#39;S64&#39;),(&#39;Chinese&#39;,&#39;i&#39;),(&#39;English&#39;,&#39;i&#39;),(&#39;Math&#39;,&#39;i&#39;),(&#39;Score&#39;,&#39;i&#39;)])<br>p=np.array([(&#39;zhangfei&#39;,&#39;66&#39;,&#39;65&#39;,&#39;30&#39;,&#39;0&#39;),<br>            (&#39;guanyu&#39;,&#39;95&#39;,&#39;85&#39;,&#39;98&#39;,&#39;0&#39;),<br>            (&#39;zhaoyun&#39;,&#39;93&#39;,&#39;92&#39;,&#39;96&#39;,&#39;0&#39;),<br>            (&#39;huangzhong&#39;,&#39;90&#39;,&#39;88&#39;,&#39;77&#39;,&#39;0&#39;),<br>            (&#39;dianwei&#39;,&#39;80&#39;,&#39;90&#39;,&#39;90&#39;,&#39;0&#39;)],dtype=students)<br>p[:][&#39;Score&#39;]=p[:][&#39;Chinese&#39;]+p[:][&#39;English&#39;]+p[:][&#39;Math&#39;]<br>Scores=p[:][&#39;Score&#39;]<br>print(Scores)<br>Chineses=p[:][&#39;Chinese&#39;]<br>Englishs=p[:][&#39;English&#39;]<br>Maths=p[:][&#39;English&#39;]<br>Chn_min=np.amin(Chineses)<br>Chn_max=np.amax(Chineses)<br>Chn_mean=np.mean(Chineses)<br>Chn_std=np.std(Chineses)<br>Chn_var=np.var(Chineses)<br>Eng_min=np.amin(Englishs)<br>Eng_max=np.amax(Englishs)<br>Eng_mean=np.mean(Englishs)<br>Eng_std=np.std(Englishs)<br>Eng_var=np.var(Englishs)<br>Math_min=np.amin(Maths)<br>Math_max=np.amax(Maths)<br>Math_mean=np.mean(Maths)<br>Math_std=np.std(Maths)<br>Math_var=np.var(Maths)<br><br>print(&#39;Chn_min=&#39;,Chn_min)<br>print(&#39;Chn_max=&#39;,Chn_max)<br>print(&#39;Chn_mean=&#39;,Chn_mean)<br>print(&#39;Chn_std=&#39;,Chn_std)<br>print(&#39;Chn_var=&#39;,Chn_var)<br>print(&#39;Eng_min=&#39;,Eng_min)<br>print(&#39;Eng_max=&#39;,Eng_max)<br>print(&#39;Eng_mean=&#39;,Eng_mean)<br>print(&#39;Eng_std=&#39;,Eng_std)<br>print(&#39;Eng_var=&#39;,Eng_var)<br>print(&#39;Math_min=&#39;,Math_min)<br>print(&#39;Math_max=&#39;,Math_max)<br>print(&#39;Math_mean=&#39;,Math_mean)<br>print(&#39;Math_std=&#39;,Math_std)<br>print(&#39;Math_var=&#39;,Math_var)<br><br>#orders =sorted(p,key = lambda p:(p[1]+p[2]+p[3]) , reverse=True)<br>#orders=np.sort(p,order=&#39;Score&#39;)<br>index=np.lexsort([-p[:][&#39;Score&#39;]])<br>orders=p[index][:]<br>print(orders)","like_count":0},{"had_liked":false,"id":57422,"user_name":"xfoolin","can_delete":false,"product_type":"c1","uid":1352218,"ip_address":"","ucode":"F63BF326141F46","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erBSoNm28CNCYpvytDbhfSYpgCo6T9vuzKkSoflr3sX8VucMz8ykrichKDY9vVoMVomUIakXSQq9icw/132","comment_is_top":false,"comment_ctime":1546785617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546785617","product_id":100021701,"comment_content":"import numpy as np<br>#创建score_type的类型<br>score_type = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;],<br>})<br>#初始化scores数组<br>scores = np.array([<br>    (&#39;Zhangfei&#39;,66,65,30,0),<br>    (&#39;Guanyu&#39;,95,85,98,0),<br>    (&#39;Zhaoyun&#39;,93,92,96,0),<br>    (&#39;Huangzhong&#39;,90,88,77,0),<br>    (&#39;Dianwei&#39;,80,90,90,0)],dtype = score_type)<br>#定义数组中的total为其他科目成绩的总和<br>scores[:][&#39;total&#39;] = scores[:][&#39;chinese&#39;]+scores[:][&#39;english&#39;]+scores[:][&#39;math&#39;]<br>#循环求出平均值、最大值、最小值、方差、标准差<br>for i in (&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;):<br>    print(&#39;%s_scores_:&#39;%(i))<br>    print(&#39;%s_scores_mean| %.2f&#39;%(i,np.mean(scores[:][i])))<br>    print(&#39;%s_scores_max| %.2f&#39;%(i,np.amax(scores[:][i])))<br>    print(&#39;%s_scores_min| %.2f&#39; % (i, np.amin(scores[:][i])))<br>    print(&#39;%s_scores_var| %.2f&#39; % (i, np.var(scores[:][i])))<br>    print(&#39;%s_scores_std| %.2f\\n&#39; % (i, np.std(scores[:][i])))<br>print(&#39;scores_rank:&#39;)<br>#按total排序，sort是升序，通过索引逆序排列<br>print(np.sort(scores,order = &#39;total&#39;)[::-1])","like_count":0},{"had_liked":false,"id":57398,"user_name":"七步","can_delete":false,"product_type":"c1","uid":1368490,"ip_address":"","ucode":"570AEA1E4A6424","user_header":"https://static001.geekbang.org/account/avatar/00/14/e1/aa/3aa78810.jpg","comment_is_top":false,"comment_ctime":1546780232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546780232","product_id":100021701,"comment_content":"之前忘记排序了，现在补上。<br>import numpy as np<br><br>persontype=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>#print persontype<br>peoples=np.array([(&quot;ZhangFei&quot;,66,65,30),<br>                  (&quot;GuanYu&quot;,95,85,98),<br>                  (&quot;ZhaoYun&quot;,93,92,96),<br>                  (&quot;HuangZhong&quot;,90,88,77),<br>                  (&quot;DianWei&quot;,80,90,90)],<br>                 dtype=persontype)<br>#print peoples<br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br><br>print &quot;各科平均值&quot;,np.average(chinese),np.average(english),np.average(math)<br>print &quot;各科最低成绩&quot;,np.amin(chinese),np.amin(english),np.amin(math)<br>print &quot;各科最高成绩&quot;,np.amax(chinese),np.amax(english),np.amax(math)<br>print &quot;各科方差&quot;,np.var(chinese),np.var(english),np.var(math)<br>print &quot;各科标准差&quot;,np.std(chinese),np.std(english),np.std(math)<br><br>ranking=sorted(peoples,key=lambda x:(x[1]+x[2]+x[3]),reverse=True)<br>print ranking<br><br>结果如下：<br>各科平均值 84.8 84.0 78.2<br>各科最低成绩 66 65 30<br>各科最高成绩 95 92 98<br>各科方差 114.96 95.6 634.56<br>各科标准差 10.7219401229 9.77752524926 25.1904743901<br>[(&#39;ZhaoYun&#39;, 93, 92, 96), (&#39;GuanYu&#39;, 95, 85, 98), (&#39;DianWei&#39;, 80, 90, 90), (&#39;HuangZhong&#39;, 90, 88, 77), (&#39;ZhangFei&#39;, 66, 65, 30)]","like_count":0},{"had_liked":false,"id":57366,"user_name":"七步","can_delete":false,"product_type":"c1","uid":1368490,"ip_address":"","ucode":"570AEA1E4A6424","user_header":"https://static001.geekbang.org/account/avatar/00/14/e1/aa/3aa78810.jpg","comment_is_top":false,"comment_ctime":1546764689,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546764689","product_id":100021701,"comment_content":"课后练习，我的代码如下：<br>import numpy as np<br><br>persontype=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;张飞&quot;,66,65,30),<br>                  (&quot;关羽&quot;,95,85,98),<br>                  (&quot;赵云&quot;,93,92,96),<br>                  (&quot;黄忠&quot;,90,88,77),<br>                  (&quot;典韦&quot;,80,90,90)],<br>                 dtype=persontype)<br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br><br>print np.average(chinese),np.average(english),np.average(math)<br>print np.amin(chinese),np.amin(english),np.amin(math)<br>print np.amax(chinese),np.amax(english),np.amax(math)<br>print np.var(chinese),np.var(english),np.var(math)<br>print np.std(chinese),np.std(english),np.std(math)<br><br>运行结果如下：<br>[(&#39;\\xd5\\xc5\\xb7\\xc9&#39;, 66, 65, 30) (&#39;\\xb9\\xd8\\xd3\\xf0&#39;, 95, 85, 98)<br> (&#39;\\xd5\\xd4\\xd4\\xc6&#39;, 93, 92, 96) (&#39;\\xbb\\xc6\\xd6\\xd2&#39;, 90, 88, 77)<br> (&#39;\\xb5\\xe4\\xce\\xa4&#39;, 80, 90, 90)]<br>84.8 84.0 78.2<br>66 65 30<br>95 92 98<br>114.96 95.6 634.56<br>10.7219401229 9.77752524926 25.1904743901","like_count":0},{"had_liked":false,"id":57330,"user_name":"等待","can_delete":false,"product_type":"c1","uid":1255162,"ip_address":"","ucode":"687A6BB673414E","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/fa/266bcb89.jpg","comment_is_top":false,"comment_ctime":1546752747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546752747","product_id":100021701,"comment_content":"import numpy as np<br>print(&quot;练习题&quot;)<br>studentType = np.dtype({<br>        &#39;names&#39;:[&#39;name&#39;,&#39;语文&#39;,&#39;英语&#39;,&#39;数学&#39;,&#39;总分&#39;],<br>        &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]})<br>students = np.array([(&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),(&quot;zhaoyun&quot;,93,92,96,0),(&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)],dtype = studentType)<br>print(students)<br>#print(np.average(students))<br>name = students[:][&#39;name&#39;]<br>yuwen = students[:][&#39;语文&#39;]<br>yingyu = students[:][&#39;英语&#39;]<br>shuxue = students[:][&#39;数学&#39;]<br>print(name)<br>print(np.average(yuwen))<br>print(np.average(shuxue))<br>print(np.average(yingyu))<br><br>print(&quot;语数英最小成绩&quot;)<br>print(&quot;语文:&quot;,np.amin(yuwen))<br>print(&quot;数学:&quot;,np.amin(shuxue))<br>print(&quot;英语:&quot;,np.amin(yingyu))<br>print(&quot;语数英最大成绩&quot;)<br>print(np.amax(yuwen))<br>print(np.amax(shuxue))<br>print(np.amax(yingyu))<br>print(&quot;标准差&quot;)<br>print(np.std(yuwen))<br>print(np.std(shuxue))<br>print(np.std(yingyu))<br>print(&quot;方差&quot;)<br>print(np.var(yuwen))<br>print(np.var(shuxue))<br>print(np.var(yingyu))<br><br>students[:][&#39;总分&#39;]=students[:][&#39;语文&#39;]+students[:][&#39;数学&#39;]+students[:][&#39;英语&#39;]<br>totals = students[:][&#39;总分&#39;]<br>print(totals)<br>print(&quot;排名：&quot;)<br>#print(np.sort(totals))<br>print(np.sort(students,order = &#39;总分&#39;))<br>","like_count":0},{"had_liked":false,"id":57274,"user_name":"●","can_delete":false,"product_type":"c1","uid":1259600,"ip_address":"","ucode":"07011EA12FCE8F","user_header":"https://static001.geekbang.org/account/avatar/00/13/38/50/d3b4f8c4.jpg","comment_is_top":false,"comment_ctime":1546703163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546703163","product_id":100021701,"comment_content":"np.percentile(a，p)=min+(max-min)*p","like_count":0},{"had_liked":false,"id":57263,"user_name":"●","can_delete":false,"product_type":"c1","uid":1259600,"ip_address":"","ucode":"07011EA12FCE8F","user_header":"https://static001.geekbang.org/account/avatar/00/13/38/50/d3b4f8c4.jpg","comment_is_top":false,"comment_ctime":1546701199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546701199","product_id":100021701,"comment_content":"试验了一下，np.amin(a,0)是每列中的最小值<br>","like_count":0},{"had_liked":false,"id":57215,"user_name":"爱做梦的咸鱼","can_delete":false,"product_type":"c1","uid":1051256,"ip_address":"","ucode":"9D9642CF0752BB","user_header":"","comment_is_top":false,"comment_ctime":1546687550,"is_pvip":false,"replies":[{"id":"21409","content":"中文的话是要修改成U32","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547366020,"ip_address":"","comment_id":57215,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546687550","product_id":100021701,"comment_content":"中文名字写S32报错的你不是一个人，改成U32的dtype即可，超出的长度会截断","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435465,"discussion_content":"中文的话是要修改成U32","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547366020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57209,"user_name":"Dump","can_delete":false,"product_type":"c1","uid":1027751,"ip_address":"","ucode":"CE00A9B209EF88","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/a7/6d3a5d44.jpg","comment_is_top":false,"comment_ctime":1546683099,"is_pvip":false,"replies":[{"id":"21400","content":"Good numpy统计函数掌握的不错，排序使用的也很好","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547362779,"ip_address":"","comment_id":57209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546683099","product_id":100021701,"comment_content":"python很强大也很灵活，脑子转不大过来，题目解答如下：<br><br>#coding=utf-8<br><br>import numpy as np<br><br>chinese = &#39;Chinese&#39;<br>english = &#39;English&#39;<br>math = &#39;Math&#39;<br>dataType = np.dtype = {<br>    &#39;names&#39;: [&#39;Name&#39;, chinese, english, math],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>}<br><br>students = np.array(<br>    [<br>        (&#39;ZhangFei&#39;, 66, 65, 30),<br>        (&#39;GuanYu&#39;, 95, 85, 98),<br>        (&#39;ZhaoYun&#39;, 93, 92, 96),<br>        (&#39;HuangZhong&#39;, 90, 88, 77),<br>        (&#39;DianWei&#39;, 80, 90, 90),<br>    ],<br>    dataType<br>)<br><br>chineseArray = students[:][chinese]<br>englishArray = students[:][english]<br>mathArray = students[:][math]<br><br># 平均分<br>print(&#39;语文平均分：{}&#39;.format(np.mean(chineseArray)))<br>print(&#39;英语平均分：{}&#39;.format(np.mean(englishArray)))<br>print(&#39;数学平均分：{}&#39;.format(np.mean(mathArray)))<br><br># 最低成绩<br>print(&#39;语文最低成绩：{}&#39;.format(np.min(chineseArray)))<br>print(&#39;英语最低成绩：{}&#39;.format(np.min(englishArray)))<br>print(&#39;数学最低成绩：{}&#39;.format(np.min(mathArray)))<br><br># 最高成绩<br>print(&#39;语文最高成绩：{}&#39;.format(np.max(chineseArray)))<br>print(&#39;英语最高成绩：{}&#39;.format(np.max(englishArray)))<br>print(&#39;数学最高成绩：{}&#39;.format(np.max(mathArray)))<br><br># 成绩方差<br>print(&#39;语文成绩方差：{}&#39;.format(np.var(chineseArray)))<br>print(&#39;英语成绩方差：{}&#39;.format(np.var(englishArray)))<br>print(&#39;数学成绩方差：{}&#39;.format(np.var(mathArray)))<br><br># 成绩标准差<br>print(&#39;语文成绩标准差：{}&#39;.format(np.std(chineseArray)))<br>print(&#39;英语成绩标准差：{}&#39;.format(np.std(englishArray)))<br>print(&#39;数学成绩标准差：{}&#39;.format(np.std(mathArray)))<br><br># 总成绩排序<br>def getSortKey(a):<br>    return a[1] + a[2] + a[3]<br>    <br>print(sorted(students, key=getSortKey, reverse=True))<br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435463,"discussion_content":"Good numpy统计函数掌握的不错，排序使用的也很好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547362779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57126,"user_name":"Switch","can_delete":false,"product_type":"c1","uid":1250758,"ip_address":"","ucode":"EB9FFA94D2F24B","user_header":"https://static001.geekbang.org/account/avatar/00/13/15/c6/f5c543ef.jpg","comment_is_top":false,"comment_ctime":1546655115,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546655115","product_id":100021701,"comment_content":"axis轴的概念，类比于空间坐标系就好理解了。<br><br>数组中轴的概念类比于坐标系中x,y轴的概念<br>在二维数组中,axis=0代表的是纵轴(跨行),axis=1代表的是横轴(跨列)","like_count":0},{"had_liked":false,"id":56980,"user_name":"灵灵","can_delete":false,"product_type":"c1","uid":1327225,"ip_address":"","ucode":"F5FA615E8B46FB","user_header":"https://static001.geekbang.org/account/avatar/00/14/40/79/b8dbf66a.jpg","comment_is_top":false,"comment_ctime":1546591730,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546591730","product_id":100021701,"comment_content":"# -- coding: utf-8 -<br><br>import numpy as np <br><br>persontype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chineses&#39;,&#39;englishs&#39;,&#39;maths&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;]})<br>peoples = np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=persontype)<br>names = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chineses&#39;]<br>englishs = peoples[:][&#39;englishs&#39;]<br>maths = peoples[:][&#39;maths&#39;]<br>sum = chineses + englishs + maths <br><br>def scores(subject,score):<br>\tprint(subject,&quot;的平均成绩为：&quot;,np.mean(score))<br>\tprint(subject,&quot;的最大成绩为：&quot;,np.amax(score))<br>\tprint(subject,&quot;的最小成绩为：&quot;,np.amin(score))<br>\tprint(subject,&quot;的方差为：&quot;,np.std(score))<br>\tprint(subject,&quot;的标准差为：&quot;,np.var(score))<br><br>print (scores(&#39;chineses&#39;,chineses),scores(&#39;maths&#39;,maths),scores(&#39;englishs&#39;,englishs))<br>print (np.sort(sum))","like_count":0},{"had_liked":false,"id":56930,"user_name":"阿镜","can_delete":false,"product_type":"c1","uid":1302218,"ip_address":"","ucode":"F2792027304FEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/ca/d521e02e.jpg","comment_is_top":false,"comment_ctime":1546583160,"is_pvip":false,"replies":[{"id":"21401","content":"axis=0代表的是跨行（跨行就是按照列），所以实际上是对[4, 2] [3, 4] [2, 1]来进行排序，所以结果是[2, 4] [3, 4] [1, 2] 这个是每一列的排序结果。 实际结果也就是 [[2 3 1], [4, 4, 2]]","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547363147,"ip_address":"","comment_id":56930,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546583160","product_id":100021701,"comment_content":"基本可以理解，但是在sort函数中 array([[4,3,2],[2,4,1]]) 进行np.sort(a,axis=0)时，没有明白为什么结果是[[2 3 1] [4 4 2]]","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435317,"discussion_content":"axis=0代表的是跨行（跨行就是按照列），所以实际上是对[4, 2] [3, 4] [2, 1]来进行排序，所以结果是[2, 4] [3, 4] [1, 2] 这个是每一列的排序结果。 实际结果也就是 [[2 3 1], [4, 4, 2]]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547363147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56727,"user_name":"风","can_delete":false,"product_type":"c1","uid":1125366,"ip_address":"","ucode":"E1974A769F36C3","user_header":"https://static001.geekbang.org/account/avatar/00/11/2b/f6/87adbbe0.jpg","comment_is_top":false,"comment_ctime":1546529805,"is_pvip":false,"replies":[{"id":"21384","content":"这个网站不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547351489,"ip_address":"","comment_id":56727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546529805","product_id":100021701,"comment_content":"建议是，感觉代码太长有的看不完整，https:&#47;&#47;paste.ubuntu.com&#47;这个网站可以贴代码，很方便。<br>收获是，对numpy的底层了解了一下，还有结构体的定义。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435199,"discussion_content":"这个网站不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547351489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56620,"user_name":"Believer(入陣)","can_delete":false,"product_type":"c1","uid":1127667,"ip_address":"","ucode":"A57EFA4E534019","user_header":"https://static001.geekbang.org/account/avatar/00/11/34/f3/465e90d0.jpg","comment_is_top":false,"comment_ctime":1546508652,"is_pvip":false,"replies":[{"id":"21206","content":"👍正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547176349,"ip_address":"","comment_id":56620,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546508652","product_id":100021701,"comment_content":"补作业rrrr<br>import numpy as np<br>grade_type = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>grades = np.array([(&quot;Zhang Fei&quot;, 66, 65, 30), (&quot;Guan Yu&quot;, 95, 85, 98), <br>                   (&quot;Zhao Yun&quot;, 93, 92, 96), (&quot;Huang Zhong&quot;, 90, 88, 77),<br>                   (&quot;Dian Wei&quot;, 80, 90, 90)], dtype = grade_type)<br>subjects = [&#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;]<br>for subject in subjects:<br>    print(subject)<br>    data = grades[:][subject]<br>    print(np.average(data))<br>    print(np.amin(data))<br>    print(np.amax(data))<br>    print(np.std(data))<br>    print(np.var(data))<br>rank = sorted(grades, key = lambda x: x[1]+x[2]+x[3], reverse = True)<br>print(rank)<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435152,"discussion_content":"👍正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547176349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56598,"user_name":"icy","can_delete":false,"product_type":"c1","uid":1339486,"ip_address":"","ucode":"F165A326C7CE35","user_header":"https://static001.geekbang.org/account/avatar/00/14/70/5e/b4f57c39.jpg","comment_is_top":false,"comment_ctime":1546503247,"is_pvip":false,"replies":[{"id":"21204","content":"看到很多人在用py3，算法篇里的代码会用py3来写","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547176254,"ip_address":"","comment_id":56598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546503247","product_id":100021701,"comment_content":"import numpy as np<br><br>stype=np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br><br>data=np.array([(&#39;ZF&#39;,66,65,30),(&#39;GY&#39;,95,85,98),(&#39;ZY&#39;,93,92,96),(&#39;HZ&#39;,90,88,77),(&#39;DW&#39;,80,90,90)],dtype=stype)<br><br>sorted(data,key=lambda data:data[&#39;chinese&#39;]+data[&#39;english&#39;]+data[&#39;math&#39;],reverse=True)<br><br>python3里好多函数的用法变了，建议老师用python3来举例。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435137,"discussion_content":"看到很多人在用py3，算法篇里的代码会用py3来写","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547176254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56471,"user_name":"李沛欣","can_delete":false,"product_type":"c1","uid":1362695,"ip_address":"","ucode":"98874954230D95","user_header":"https://static001.geekbang.org/account/avatar/00/14/cb/07/e34220d6.jpg","comment_is_top":false,"comment_ctime":1546474569,"is_pvip":false,"replies":[{"id":"21197","content":"加油💪","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547175419,"ip_address":"","comment_id":56471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546474569","product_id":100021701,"comment_content":"今天的看完了，Numpy相当于用python语言环境下的数学。感觉自己重新上了一遍数学课。继续努力。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435054,"discussion_content":"加油💪","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547175419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56459,"user_name":".","can_delete":false,"product_type":"c1","uid":1364635,"ip_address":"","ucode":"79B2BAE7B8FC67","user_header":"https://static001.geekbang.org/account/avatar/00/14/d2/9b/4b7761c2.jpg","comment_is_top":false,"comment_ctime":1546464106,"is_pvip":false,"replies":[{"id":"21199","content":"在做persontype定义的时候，可以添加&#39;total&#39;这个属性：<br>persontype = np.dtype({<br>&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],<br>&#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>另外在设置peoples数组的时候，把total这个属性的值默认设置为0,这样你就可以在后面使用 peoples[:][&#39;total&#39;]","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1547176176,"ip_address":"","comment_id":56459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546464106","product_id":100021701,"comment_content":"老师，想问下为什么写这一行时报错为：no <br>field of name total<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435046,"discussion_content":"在做persontype定义的时候，可以添加&amp;#39;total&amp;#39;这个属性：\npersontype = np.dtype({\n&amp;#39;names&amp;#39;: [&amp;#39;name&amp;#39;, &amp;#39;chinese&amp;#39;, &amp;#39;math&amp;#39;, &amp;#39;english&amp;#39;, &amp;#39;total&amp;#39;],\n&amp;#39;formats&amp;#39;: [&amp;#39;S32&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;i&amp;#39;]})\n另外在设置peoples数组的时候，把total这个属性的值默认设置为0,这样你就可以在后面使用 peoples[:][&amp;#39;total&amp;#39;]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547176176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56335,"user_name":"执笔，封心","can_delete":false,"product_type":"c1","uid":1352308,"ip_address":"","ucode":"415F9D8922E54A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/74/ddb58244.jpg","comment_is_top":false,"comment_ctime":1546423820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546423820","product_id":100021701,"comment_content":"遇到一个问题，按照代码来写，还是错了，显示不是二元或者三元数组","like_count":0},{"had_liked":false,"id":56283,"user_name":"执笔，封心","can_delete":false,"product_type":"c1","uid":1352308,"ip_address":"","ucode":"415F9D8922E54A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/74/ddb58244.jpg","comment_is_top":false,"comment_ctime":1546415985,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546415985","product_id":100021701,"comment_content":"代码没有写全，很蛋疼呀","like_count":0},{"had_liked":false,"id":56268,"user_name":"执笔，封心","can_delete":false,"product_type":"c1","uid":1352308,"ip_address":"","ucode":"415F9D8922E54A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/74/ddb58244.jpg","comment_is_top":false,"comment_ctime":1546414071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546414071","product_id":100021701,"comment_content":"上面的那个问题解决了，但是为什么是data type not understand 呢","like_count":0},{"had_liked":false,"id":56154,"user_name":"执笔，封心","can_delete":false,"product_type":"c1","uid":1352308,"ip_address":"","ucode":"415F9D8922E54A","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/74/ddb58244.jpg","comment_is_top":false,"comment_ctime":1546398138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546398138","product_id":100021701,"comment_content":"老师。您好，在pycharm 3.7.1的版本中没有numpy这个多维属数组<br>","like_count":0},{"had_liked":false,"id":56147,"user_name":"般若","can_delete":false,"product_type":"c1","uid":1210157,"ip_address":"","ucode":"0CE4746CDF855D","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/2d/7a314003.jpg","comment_is_top":false,"comment_ctime":1546397491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546397491","product_id":100021701,"comment_content":"一般什么场景下会用到标准差或方差？","like_count":0},{"had_liked":false,"id":55719,"user_name":"Geek_bd52bb","can_delete":false,"product_type":"c1","uid":1363578,"ip_address":"","ucode":"E4C68CDF427ED9","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/7a/6e8da93a.jpg","comment_is_top":false,"comment_ctime":1546268896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546268896","product_id":100021701,"comment_content":"请问下我按照课里面的修改了对应作业的内容，出现了“entry not a 2- or 3- tuple”是为什么呀","like_count":0},{"had_liked":false,"id":55715,"user_name":"LQ","can_delete":false,"product_type":"c1","uid":1325856,"ip_address":"","ucode":"DAE2599399A8CF","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/20/060b78e2.jpg","comment_is_top":false,"comment_ctime":1546266744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546266744","product_id":100021701,"comment_content":"似懂非懂  能不能用实践来驱动","like_count":0},{"had_liked":false,"id":55668,"user_name":"I.L","can_delete":false,"product_type":"c1","uid":1352435,"ip_address":"","ucode":"965523A3BC7029","user_header":"https://static001.geekbang.org/account/avatar/00/14/a2/f3/801c2561.jpg","comment_is_top":false,"comment_ctime":1546257217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546257217","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>\t&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>\t&#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([<br>\t(&#39;ZhangFei&#39;, 66, 65, 30),<br>\t(&#39;GuanYu&#39;, 95, 85, 98),<br>\t(&#39;ZhaoYun&#39;, 93, 92, 96),<br>\t(&#39;HuangZhong&#39;, 90, 88, 77),<br>\t(&#39;DianWei&#39;, 80, 90, 90)<br>\t], dtype=persontype)<br><br>Chineses = peoples[:][&#39;chinese&#39;]<br>Englishs = peoples[:][&#39;english&#39;]<br>Maths = peoples[:][&#39;math&#39;]<br><br>print(Chineses,Englishs,Maths)<br><br>def ClassAnalyze(subject):<br>\tprint(&quot;&quot;&quot;<br>\t---<br>\t平均成绩: %r<br>\t最小成绩: %r<br>\t最大成绩: %r<br>\t方差: %r<br>\t标准差: %r<br>\t---&quot;&quot;&quot; %(np.average(subject), np.min(subject), np.max(subject), np.var(subject), np.std(subject)))<br><br>print(ClassAnalyze(Chineses), ClassAnalyze(Englishs), ClassAnalyze(Maths))<br><br>newsort = sorted(peoples, key=lambda x:x[1]+x[2]+x[3], reverse=True)<br><br>print(newsort)<br><br>=====<br>几个概念问题：<br>1. axis的index为顺序轴，0轴为默认x轴，1轴为第二轴（此处即y轴）<br>2. np.array()数组为向量数组，可进行直接向量计算<br>3. 定义dtype时，对应formats中的S32，i，f等对应的应是数据格式（int，float，str32等）<br><br>年底忙死了，趁节日来学习了，感觉numpy这类计算被pandas完爆","like_count":0},{"had_liked":false,"id":55585,"user_name":"胡","can_delete":false,"product_type":"c1","uid":1353712,"ip_address":"","ucode":"3917AFED7701CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/f0/e3212f18.jpg","comment_is_top":false,"comment_ctime":1546237100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546237100","product_id":100021701,"comment_content":"<br>__author__ = &#39;Administrator&#39;<br><br><br>import numpy as np<br><br>persontype = np.dtype(<br>    {&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>     &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]<br>    }<br>)<br><br><br>peoples = np.array(<br>    [(&#39;ZhangFei&#39;, 66, 65, 30,0),<br>     (&#39;GuanYu&#39;, 95, 85, 98,0),<br>     (&#39;ZhaoYun&#39;, 93, 92,96,0),<br>     (&#39;HuangZhong&#39;, 90, 88, 77,0),<br>     (&#39;DianWei&#39;, 80, 90, 90,0)],<br>    dtype=persontype<br>)<br><br>peoples[:][&#39;total&#39;]= peoples[:][&#39;chinese&#39;] +peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>print (peoples)<br><br>chinese=peoples[:][&#39;chinese&#39;]<br>math=peoples[:][&#39;math&#39;]<br>english=peoples[:][&#39;english&#39;]<br>total=peoples[:][&#39;total&#39;]<br>print(&#39;语文均分：&#39;,np.mean(chinese))<br>print(&#39;数学均分：&#39;,np.mean(math))<br>print(&#39;英语均分：&#39;,np.mean(english))#<br>print(&#39;语文最低分：&#39;,np.amin(chinese))<br>print(&#39;数学最低分：&#39;,np.amin(math))<br>print(&#39;英语最低分：&#39;,np.amin(english))#<br>print(&#39;语文最高分：&#39;,np.amax(chinese))<br>print(&#39;数学最高分：&#39;,np.amax(math))<br>print(&#39;英语最高分：&#39;,np.amax(english))#<br><br>print (np.sort(peoples, order=&#39;total&#39;))<br><br>","like_count":0},{"had_liked":false,"id":55554,"user_name":"胡","can_delete":false,"product_type":"c1","uid":1353712,"ip_address":"","ucode":"3917AFED7701CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/f0/e3212f18.jpg","comment_is_top":false,"comment_ctime":1546230618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546230618","product_id":100021701,"comment_content":"老师能否帮忙看下为什么numpy已经安装好，但是pycharm无法ipmort?检查好久，不得解。","like_count":0},{"had_liked":false,"id":55447,"user_name":"caidy","can_delete":false,"product_type":"c1","uid":1188783,"ip_address":"","ucode":"AEFB529C32C7EE","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/af/84f4714e.jpg","comment_is_top":false,"comment_ctime":1546181144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546181144","product_id":100021701,"comment_content":"1. 为什么要用numpy而不用python自带的列表list，这个是因为list是分散储存的，而numpy储存在一个连续的内存地址，使用numpy会更高效<br><br>2.<br>import numpy as np<br><br>persontype = np.dtype({<br>\t&#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;],<br>\t&#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>\t})<br><br>peoples = np.array([<br>\t(&quot;ZhangFei&quot;, 66, 65, 30),<br>\t(&quot;GuanYU&quot;, 95, 85, 98),<br>\t(&quot;ZhaoYun&quot;, 93, 92, 96),<br>\t(&quot;GuangZhong&quot;, 90, 88, 77),<br>\t(&quot;DianWei&quot;, 80, 90, 90)],<br>\tdtype = persontype)<br>names = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>def display(subject, scores):<br>\tprint(subject + &#39; | &#39; + str(np.mean(scores)) + &quot; | &quot; + str(np.amin(scores)) + &#39; | &#39;+<br>\t  str(np.amax(scores)) + &#39; | &#39; + str(np.std(scores)) + &#39; | &#39; + str(np.var(scores)))<br><br>print(&quot;subject | sorce_avg | score_min | score_max | score_std | score_var&quot;)<br>display(&#39;chineses&#39;, chineses)<br>display(&#39;englishs&#39;, englishs)<br>display(&#39;maths&#39;, maths)<br><br>persontype1 = np.dtype({<br>\t&#39;names&#39;:[&#39;name&#39;, &#39;scores&#39;],<br>\t&#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;]<br>\t})<br>score = np.array([<br>\t(&quot;ZhangFei&quot;, peoples[0][1]+peoples[0][2]+peoples[0][3]),<br>\t(&quot;GuanYU&quot;, peoples[1][1]+peoples[1][2]+peoples[1][3]),<br>\t(&quot;ZhaoYun&quot;,  peoples[2][1]+peoples[2][2]+peoples[2][3]),<br>\t(&quot;GuangZhong&quot;, peoples[3][1]+peoples[3][2]+peoples[3][3]),<br>\t(&quot;DianWei&quot;, peoples[4][1]+peoples[4][2]+peoples[4][3])],<br>\tdtype = persontype1)<br><br>print(np.sort(score, order=&#39;scores&#39;))","like_count":0},{"had_liked":false,"id":55431,"user_name":"竹本先生","can_delete":false,"product_type":"c1","uid":1357379,"ip_address":"","ucode":"83D292AACD1E20","user_header":"https://static001.geekbang.org/account/avatar/00/14/b6/43/c7b2a6f9.jpg","comment_is_top":false,"comment_ctime":1546176872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546176872","product_id":100021701,"comment_content":"score_type = np.dtype({<br>\t&#39;names&#39;: [&#39;name&#39;, &#39;yuwen&#39;, &#39;yingyu&#39;, &#39;shuxue&#39;, &#39;heji&#39;],<br>\t&#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]<br>})<br>person = np.array([<br>\t(&#39;ZhangFei&#39;,66,65,30,0),<br>\t(&#39;GuanYu&#39;,95,85,98,0),<br>\t(&#39;ZhaoYun&#39;,93,92,96,0),<br>\t(&#39;HuangZhong&#39;,90,88,77,0),<br>\t(&#39;DianWei&#39;,80,90,90,0)<br>], dtype=score_type)<br><br># ~ 先求和<br>person[:][&#39;heji&#39;] = person[:][&#39;yuwen&#39;] + person[:][&#39;yingyu&#39;] + person[:][&#39;shuxue&#39;] <br><br>yuwens = person[:][&#39;yuwen&#39;]<br>yingyus = person[:][&#39;yingyu&#39;]<br>shuxues = person[:][&#39;shuxue&#39;]<br><br>print(&#39;语文：平均分%f 最低分%i 最高分%i 方差%f 标准差%f&#39; %(yuwens.mean(), yuwens.min(), yuwens.max(), yuwens.var(), yuwens.std()))<br><br>print(&#39;英语：平均分%f 最低分%i 最高分%i 方差%f 标准差%f&#39; %(yingyus.mean(), yingyus.min(), yingyus.max(), yingyus.var(), yingyus.std()))<br><br>print(&#39;数学：平均分%f 最低分%i 最高分%i 方差%f 标准差%f&#39; %(shuxues.mean(), shuxues.min(), shuxues.max(), shuxues.var(), shuxues.std()))<br><br># ~ 排序<br>person = np.sort(person, order=&quot;heji&quot;)<br><br>for i in range(person.size):<br>\tprint(&#39;第%i名：%s %i分&#39; %(i+1, person[4-i][&#39;name&#39;], person[4-i][&#39;heji&#39;]))<br><br>运行结果这样：<br>语文：平均分84.800000 最低分66 最高分95 方差114.960000 标准差10.721940<br>英语：平均分84.000000 最低分65 最高分92 方差95.600000 标准差9.777525<br>数学：平均分78.200000 最低分30 最高分98 方差634.560000 标准差25.190474<br>第1名：b&#39;ZhaoYun&#39; 281分<br>第2名：b&#39;GuanYu&#39; 278分<br>第3名：b&#39;DianWei&#39; 260分<br>第4名：b&#39;HuangZhong&#39; 255分<br>第5名：b&#39;ZhangFei&#39; 161分<br><br>原来我用php和js比较多，学这课程颇费力，求和、降序的实现给我感觉很别扭，<br>另外为何姓名输出会前面带个b，还输出了引号","like_count":0},{"had_liked":false,"id":55377,"user_name":"易平","can_delete":false,"product_type":"c1","uid":1356284,"ip_address":"","ucode":"87821C032D7499","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/fc/8503c08a.jpg","comment_is_top":false,"comment_ctime":1546152368,"is_pvip":false,"replies":[{"id":"20190","content":"你能把专栏的代码，还有题目都做一遍就是很好的。如果还有时间，自己整理下课程的笔记，可以发到留言区里，和大家一起交流学习","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1546394431,"ip_address":"","comment_id":55377,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546152368","product_id":100021701,"comment_content":"老师，想我们这种编程基础比较差的，除了听您的课程和每一课后面的题目以外，还需要额外做哪些课外训练呢？谢谢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434755,"discussion_content":"你能把专栏的代码，还有题目都做一遍就是很好的。如果还有时间，自己整理下课程的笔记，可以发到留言区里，和大家一起交流学习","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546394431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55376,"user_name":"易平","can_delete":false,"product_type":"c1","uid":1356284,"ip_address":"","ucode":"87821C032D7499","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/fc/8503c08a.jpg","comment_is_top":false,"comment_ctime":1546152298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546152298","product_id":100021701,"comment_content":"#------------第4课---------------------------<br>#你能用自己的话说明一下为什么要用 NumPy 而不是 而不是 Python 的列表 list 吗？<br>#除此之外，你还知道那些数据结构类型？<br>&#39;&#39;&#39;<br>1. 在python中的list实际上就是数组结构，由于python数组中的元素可以是任意的对象，<br>所以列表中list保存的对象的指针。这样我们保存一个N个元素的数组。就需要N个指针和N个对象，这样对<br>于python来说是非常不经济的，浪费了内存和计算时间<br><br>2. 在python中List的元素在系统内存中是分散存储的，而NumPy数组存储在一个均匀连续的内存块中。这样<br>数组计算遍历所有元素，不像list还需要对内存进行查找，从而结算了计算资源。<br><br>3. 在内存访问模式中，因为数据连续的存储在内存中，Numpy直接利用现代CPU的矢量化指令计算，加载寄存器中的<br>多个连续浮点数。<br><br>4. Numpy中的矩阵计算可以采用多线程的方式，充分利用多核CPU计算资源<br><br><br>&#39;&#39;&#39;<br><br>&#39;&#39;&#39;<br>练习题：统计全班的成绩假设一个团队里有 5 名学员，成绩如下表所示.<br>你可以用 NumPy 统计下这些人在语文、英语、数学中的<br>平均成绩、最小成绩、最大成绩、方差、标准差。然后把这些人的总总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br><br>#自定义数组类型<br>#自定义数组类型<br>persontype=np.dtype({<br>        &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;,&#39;total&#39;],<br>        &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>        })<br>    <br>peoples=np.array([(&#39;zhangfei&#39;,66,65,30,0),(&#39;guanyu&#39;,95,85,98,0),(&#39;zhaoyun&#39;,93,92,96,0),<br>                  (&#39;huangzhong&#39;,90,88,77,0),(&#39;dianwei&#39;,80,90,90,0)],<br>    dtype=persontype)<br><br><br>chinese=peoples[:][&#39;chinese&#39;]<br>english=peoples[:][&#39;english&#39;]<br>math=peoples[:][&#39;math&#39;]<br>peoples[:][&#39;total&#39;]=peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br><br>#计算平均成绩<br>print(&#39;avg_chinese:&#39;, np.mean(chinese))<br>print(&#39;avg_english:&#39;, np.mean(english))<br>print(&#39;avg_math:&#39;, np.mean(math))<br><br>#计算最小成绩<br>print(&#39;min_chinese:&#39;, np.amin(chinese))<br>print(&#39;min_english:&#39;, np.amin(english))<br>print(&#39;min_math:&#39;, np.amin(math))<br><br>#计算最大成绩<br>print(&#39;max_chinese:&#39;, np.amax(chinese))<br>print(&#39;max_english:&#39;, np.amax(english))<br>print(&#39;max_math:&#39;, np.max(math))<br><br>#方差和标准差<br>print(&#39;std_chinese:&#39;, np.std(chinese))<br>print(&#39;std_english:&#39;, np.std(english))<br>print(&#39;std_math:&#39;, np.std(math))<br>print(&#39;var_chinese:&#39;, np.var(chinese))<br>print(&#39;var_english:&#39;, np.var(english))<br>print(&#39;var_math:&#39;, np.var(math))<br><br><br>#计算总成绩<br><br>print(np.sort(peoples,order=&#39;total&#39;))","like_count":0},{"had_liked":false,"id":55367,"user_name":"米可哲","can_delete":false,"product_type":"c1","uid":1363705,"ip_address":"","ucode":"9BDBC109461CB1","user_header":"","comment_is_top":false,"comment_ctime":1546149702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546149702","product_id":100021701,"comment_content":"import numpy as np<br>student_type=np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>student=np.array([(&quot;zhangfei&quot;,66,65,30),(&quot;guanyu&quot;,95,85,98),(&quot;zhaoyun&quot;,93,92,96),(&quot;huangzhong&quot;,90,88,77),(&quot;dianwei&quot;,80,90,90)],dtype=student_type)print(student)<br>chinese=student[:][&#39;chinese&#39;]<br>english=student[:][&#39;english&#39;]<br>math=student[:][&#39;math&#39;]<br>def show(name,sco):  <br>  print(&quot;科目:{}  平均成绩:{}  最小成绩:{}  最大成绩:{}  方差:{}  标准差:<br>{}&quot;.format(name,np.mean(sco),np.min(sco),np.max(sco),np.var(sco),np.std(sco)))<br>show(&quot;chinese&quot;,chinese)<br>show(&quot;math&quot;,math)<br>show(&quot;english&quot;,english)<br>ranker=sorted(student,key=lambda x:(x[1]+x[2]+x[3]),reverse=True)<br>print(ranker)","like_count":0},{"had_liked":false,"id":55226,"user_name":"Albert Ou","can_delete":false,"product_type":"c1","uid":1360585,"ip_address":"","ucode":"DDBC8585A6B554","user_header":"https://static001.geekbang.org/account/avatar/00/14/c2/c9/0abcaadf.jpg","comment_is_top":false,"comment_ctime":1546069890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546069890","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*<br><br>import numpy as np<br>student_type = np.dtype({<br>    &#39;names&#39;:[&#39;姓名&#39;,&#39;语文&#39;,&#39;英语&#39;,&#39;数学&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;]<br>})<br>students=np.array([(&#39;zhangfei&#39;,66,65,30),<br>                  (&#39;guanyu&#39;,95,85,98),<br>                  (&#39;zhaoyun&#39;,93,92,96),<br>                  (&#39;huangzhong&#39;,90,88,77),<br>                  (&#39;dianwei&#39;,80,90,90)],dtype=student_type)<br><br>print(&#39;科目|平均成绩|最小成绩|最大成绩|方差|标准差&#39;)<br>for i in range(1,4):<br>    kemu = students.dtype.names[i]<br>    score = students[:][kemu]   <br>    print(&#39;%s|%f|%f|%f|%f|%f&#39; % (kemu,np.mean(score),np.min(score),np.max(score),np.var(score),np.std(score)))<br>    <br>print(&#39;\\n&#39;)<br>ranking=sorted(students,key=lambda x: (x[1]+x[2]+x[3]), reverse=True)<br>print(&#39;姓名|语文|英语|数学&#39;)<br>for student in students:<br>    print(&#39;%s|%f|%f|%f&#39; %(student[&#39;姓名&#39;],student[&#39;语文&#39;],student[&#39;英语&#39;],student[&#39;数学&#39;]))","like_count":0},{"had_liked":false,"id":55211,"user_name":"一帆时空杨丰","can_delete":false,"product_type":"c1","uid":1358184,"ip_address":"","ucode":"02A3C8D892A642","user_header":"https://static001.geekbang.org/account/avatar/00/14/b9/68/e8a22492.jpg","comment_is_top":false,"comment_ctime":1546067135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546067135","product_id":100021701,"comment_content":"# -*- coding: utf-8 -* #<br><br>import numpy as np<br><br>studenttype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>students = np.array([(&quot;Zhangfei&quot;, 66, 65, 30, 0),<br>                     (&quot;Guanyu&quot;, 95, 85, 98, 0),<br>                     (&quot;Zhaoyun&quot;, 93, 92, 96, 0),<br>                     (&quot;Huangzhong&quot;, 90, 88, 77, 0),<br>                     (&quot;Dianwei&quot;, 80, 90, 90, 0)],<br>                    dtype=studenttype)<br><br>chineses = students[:][&#39;chinese&#39;]<br>englishs = students[:][&#39;english&#39;]<br>maths = students[:][&#39;math&#39;]<br><br># print(type(maths))<br># 各科平均分<br>print(&quot;语文平均分：&quot; + str(np.mean(chineses)))<br>print(&quot;数学平均分：&quot; + str(np.mean(maths)))<br>print(&quot;英语平均分：&quot; + str(np.mean(englishs)))<br><br># 最低分<br>print(&quot;语文最低分：&quot; + str(np.amin(chineses)))<br>print(&quot;数学最低分：&quot; + str(np.amin(maths)))<br>print(&quot;英语最低分：&quot; + str(np.amin(englishs)))<br><br># 最高分<br>print(&quot;语文最高分：&quot; + str(np.amax(chineses)))<br>print(&quot;数学最高分：&quot; + str(np.amax(maths)))<br>print(&quot;英语最高分：&quot; + str(np.amax(englishs)))<br><br># 标准差 标准差是方差的算术平方根<br>print(&quot;语文标准差：&quot; + str(np.std(chineses)))<br>print(&quot;数学标准差：&quot; + str(np.std(maths)))<br>print(&quot;英语标准差：&quot; + str(np.std(englishs)))<br><br># 方差<br>print(&quot;语文方差：&quot; + str(np.var(chineses)))<br>print(&quot;数学方差：&quot; + str(np.var(maths)))<br>print(&quot;英语方差：&quot; + str(np.var(englishs)))<br><br>students[:][&#39;total&#39;] = np.add(students[:][&#39;chinese&#39;], students[:][&#39;math&#39;])<br>students[:][&#39;total&#39;] = np.add(students[:][&#39;total&#39;], students[:][&#39;english&#39;])<br>print(np.sort(students, order=&#39;total&#39;))","like_count":0},{"had_liked":false,"id":54920,"user_name":"ikel","can_delete":false,"product_type":"c1","uid":1009002,"ip_address":"","ucode":"1D5CE7803C1C2B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/6a/be36c108.jpg","comment_is_top":false,"comment_ctime":1545982080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545982080","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&#39;zhangfei&#39;, 66, 65, 30,0), (&#39;guanyu&#39;, 95, 85, 98,0),<br>                    (&#39;zhaoyun&#39;, 93, 92, 96,0), (&#39;huangzhong&#39;, 90, 88, 77,0),<br>                    (&#39;dianwei&#39;, 80, 90, 90,0)], dtype=persontype)<br>#统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br><br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>#print(peoples)<br>#print(ages)<br>#print(np.mean(ages))<br>#平均成绩<br>print(np.mean(chineses))<br>print(np.mean(englishs))<br>print(np.mean(maths))<br>#最小成绩<br>print(np.amin(chineses))<br>print(np.amin(englishs))<br>print(np.amin(maths))<br>#最大成绩<br>print(np.amax(chineses))<br>print(np.amax(englishs))<br>print(np.amax(maths))<br>#方差<br>print(np.var(chineses))<br>print(np.var(englishs))<br>print(np.var(maths))<br>#标准差<br>print(np.std(chineses))<br>print(np.var(englishs))<br>print(np.var(maths))<br>#总成绩排序<br>print(np.sort(peoples, order=&#39;total&#39;))","like_count":0},{"had_liked":false,"id":54805,"user_name":"小熊猫","can_delete":false,"product_type":"c1","uid":1257442,"ip_address":"","ucode":"7549BA17FFBAD4","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/e2/3640e491.jpg","comment_is_top":false,"comment_ctime":1545964093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545964093","product_id":100021701,"comment_content":"1. list列表在内存中是分散存储的，而ndarray存储在一个连续的内存中，遍历数组中的元素时，就不会像list列表那样还要对内存地址进行查找，从而节省了资源。<br>2. Numpy的矩阵运算使用了多线程，大大提升了计算效率","like_count":0},{"had_liked":false,"id":54636,"user_name":"周飞","can_delete":false,"product_type":"c1","uid":1073374,"ip_address":"","ucode":"F85FA236EB0C0D","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/de/5c67895a.jpg","comment_is_top":false,"comment_ctime":1545920237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545920237","product_id":100021701,"comment_content":"# -*- coding: utf-8 -*<br><br>import numpy as np<br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),<br>       (&quot;zhaoyun&quot;,93,92,96,0),(&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)],<br>    dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>print(&#39;========各科平均成绩==========&#39;)<br>print(&#39;语文的平均成绩是 &#39;,np.mean(chineses))<br>print(&#39;数学的平均成绩是 &#39;,np.mean(maths))<br>print(&#39;英语的平均成绩是 &#39;,np.mean(englishs))<br>print(&#39;=========各科最小成绩=========&#39;)<br>print(&#39;语文的最小成绩是 &#39;,np.amin(chineses))<br>print(&#39;数学的最小成绩是 &#39;,np.amin(maths))<br>print(&#39;英语的最小成绩是 &#39;,np.amin(englishs))<br>print(&#39;=========各科最大成绩=========&#39;)<br>print(&#39;语文的最大成绩是 &#39;,np.amax(chineses))<br>print(&#39;数学的最大成绩是 &#39;,np.amax(maths))<br>print(&#39;英语的最大成绩是 &#39;,np.amax(englishs))<br>print(&#39;=========各科成绩标准差=========&#39;)<br>print(&#39;语文成绩标准差是 &#39;,np.std(chineses))<br>print(&#39;数学成绩标准差是 &#39;,np.std(maths))<br>print(&#39;英语成绩标准差是 &#39;,np.std(englishs))<br>print(&#39;=========各科成绩方差=========&#39;)<br>print(&#39;语文成绩方差是 &#39;,np.var(chineses))<br>print(&#39;数学成绩方差是 &#39;,np.var(maths))<br>print(&#39;英语成绩方差是 &#39;,np.var(englishs))<br>peoples[:][&#39;total&#39;]= np.add(chineses,maths)<br>peoples[:][&#39;total&#39;] =np.add(peoples[:][&#39;total&#39;],englishs)<br>print (np.sort(peoples,order=&#39;total&#39;)[::-1])<br>","like_count":0},{"had_liked":false,"id":54591,"user_name":"意无尽","can_delete":false,"product_type":"c1","uid":1234489,"ip_address":"","ucode":"DA179626C46B81","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/39/6b45878d.jpg","comment_is_top":false,"comment_ctime":1545908265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545908265","product_id":100021701,"comment_content":"基本上都懂了～哈哈，虽然前面讲 numpy 的时候有些云里雾里😂😂","like_count":0},{"had_liked":false,"id":54559,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1545900544,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545900544","product_id":100021701,"comment_content":"看了精选留言才写出排序，用的是python3<br>import numpy as np<br><br>&#39;&#39;&#39;<br>假设一个团队里有5名学员，成绩如下表所示。<br>1.用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>2.总成绩排序，得出名次进行成绩输出。<br>&#39;&#39;&#39;<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;i&#39;,&#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;,66,65,30,0),(&quot;GuanYu&quot;,95,85,98,0),<br>                    (&quot;ZhaoYun&quot;,93,92,96,0),(&quot;HuangZhong&quot;,90,88,77,0),<br>                    (&quot;Dianwei&quot;,80,90,90,0)],<br>                   dtype=persontype)<br># print(peoples)<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]<br>total = peoples[:][&#39;total&#39;]<br>name = peoples[:][&#39;name&#39;]<br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br>def show(name,data):<br>    print(&quot;科目 | 平均成绩 | 最小成绩 | 最大成绩 | 方差 | 标准差&quot;)<br>    print(name,&quot;|&quot;,np.mean(data),&quot;|&quot;,np.min(data),&quot;|&quot;,np.max(data),&quot;|&quot;,np.var(data),&quot;|&quot;,np.std(data))<br><br>show(&quot;语文&quot;,chineses)<br>show(&quot;英语&quot;,chineses)<br>show(&quot;数学&quot;,chineses)<br><br>print(&quot;排名:&quot;)<br>print(np.sort(peoples,order=&#39;total&#39;))<br><br>","like_count":0},{"had_liked":false,"id":54545,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1545896913,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545896913","product_id":100021701,"comment_content":"老师，您用的是python2","like_count":0},{"had_liked":false,"id":54270,"user_name":"Ety_李","can_delete":false,"product_type":"c1","uid":1235449,"ip_address":"","ucode":"4214C7E65BC86B","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/f9/814a1ea7.jpg","comment_is_top":false,"comment_ctime":1545819000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545819000","product_id":100021701,"comment_content":"“NumPy 中的矩阵计算可以采用多线程的方式，充分利用多核”，因为python GIL 全局锁的存在，python并不能利用多核进行多线程处理，python中多核只能通过多进程来进行利用。","like_count":0},{"had_liked":false,"id":54264,"user_name":"Chino","can_delete":false,"product_type":"c1","uid":1347181,"ip_address":"","ucode":"0240D89E5F74B4","user_header":"https://static001.geekbang.org/account/avatar/00/14/8e/6d/c68e07ef.jpg","comment_is_top":false,"comment_ctime":1545818224,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545818224","product_id":100021701,"comment_content":"peoples = np.array([(&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),(&quot;zhaoyun&quot;,93,92,96,0),<br>                    (&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)],dtype=persontype)<br>想问一下老师为什么这里 我把里面的内容 也就是中间的小括号换成中括号就不行了呢 结构体的array一定要用元祖而不能用列表吗 但是前面也有这样定义不是也可以的吗b = np.array([[1, 2, 3], [4, 5...<br>极客时间版权所有: https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;73756<br><br>我用中括号的时候是这样提示的<br>Traceback (most recent call last):<br>  File &quot;C:&#47;Users&#47;Desktop&#47;test.py&quot;, line 7, in &lt;module&gt;<br>    [&quot;huangzhong&quot;,90,88,77],[&quot;dianwei&quot;,80,90,90]],dtype=persontype)<br>ValueError: invalid literal for int() with base 10: &#39;zhangfei&#39;","like_count":0},{"had_liked":false,"id":54150,"user_name":"往事随风","can_delete":false,"product_type":"c1","uid":1352624,"ip_address":"","ucode":"81546853CE51B4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIOSzr2bibaFS6bEiaW1J5eIibezV5ia1xLqE2gniaLgMmPnJymSDMvuoibx9v1nlkwU6d0RInAvlV7jwA/132","comment_is_top":false,"comment_ctime":1545797693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545797693","product_id":100021701,"comment_content":"#!&#47;usr&#47;bin&#47;env python<br># -*- coding: utf-8 -*-<br><br>&#39;&#39;&#39;<br>练习题：统计全班的成绩<br>假设一个团队里有 5 名学员，成绩如下表所示。使用NumPy统计下这些人的语文、英语、数学中的平均成绩、<br>最小成绩、最大成绩、方差、标准差。然后把这些人的总成绩排序，得出名次进行成绩输出。<br>姓名  语文  英语  数学<br>张飞  66    65    30<br>关羽  95    85    98<br>赵云  93    92    96<br>黄忠  90    88    77<br>典韦  80    90    90<br>&#39;&#39;&#39;<br>import numpy as np<br>import pandas as pd<br><br>persontype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;,  &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;, &#39;i&#39;, &#39;f&#39;, &#39;f&#39;]})<br>peoples = np.array([(&quot;张飞&quot;,66,65, 30,0),(&quot;关羽&quot;,95,85,98,0),<br>       (&quot;赵云&quot;,93,92,96,0),(&quot;黄忠&quot;,80,90,90,0),(&quot;典韦&quot;,80,90,90,0)],<br>    dtype=persontype)<br>chineses = peoples[:][&#39;chinese&#39;]<br>maths = peoples[:][&#39;math&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + peoples[:][&#39;math&#39;] + peoples[:][&#39;english&#39;]<br><br>print &#39;语文平均成绩：&#39;, np.mean(chineses)<br>print  &#39;数学平均成绩：&#39;, np.mean(maths)<br>print &#39;英语平均成绩&#39;, np.mean(englishs)<br>print &#39;语文成绩最低分：&#39;, np.amin(chineses), &#39;最高分：&#39;, np.amax(chineses), &#39;方差：&#39;, np.var(chineses), &#39;标准差：&#39;, np.std(chineses)<br>print &#39;英语成绩最低分：&#39;, np.amin(englishs), &#39;最高分：&#39;, np.amax(englishs), &#39;方差：&#39;, np.var(englishs), &#39;标准差：&#39;, np.std(englishs)<br>print &#39;数学成绩最低分：&#39;, np.amin(maths), &#39;最高分：&#39;, np.amax(maths), &#39;方差：&#39;, np.var(maths), &#39;标准差：&#39;, np.std(maths)<br># print peoples<br><br>print np.sort(peoples, order=&#39;total&#39;)","like_count":0},{"had_liked":false,"id":54047,"user_name":"liuyyy","can_delete":false,"product_type":"c1","uid":1158611,"ip_address":"","ucode":"AAA3922482E4F7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ercic1LB9N9P1lWftkyyNqjILPAedlbRqvJl2KNTrDFCboiakKoTHPBTF3ufaIsdcLb9uXU8hFlptuw/132","comment_is_top":false,"comment_ctime":1545789144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545789144","product_id":100021701,"comment_content":"老师，你说的加total排序是在哪加的呀，我无论怎么做都是报错<br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;english&#39;]+peoples[:][&#39;math&#39;]","like_count":0},{"had_liked":false,"id":53895,"user_name":"闫东汉","can_delete":false,"product_type":"c1","uid":1041830,"ip_address":"","ucode":"A4EA98EF44EA50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/a6/0be17cd5.jpg","comment_is_top":false,"comment_ctime":1545749349,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545749349","product_id":100021701,"comment_content":"a = np.array([[4,3,2],[2,4,1]])<br>print np.sort(a, axis=0)<br>结果是<br>[[2 3 1]<br> [4 4 2]]<br>不太理解<br>","like_count":0},{"had_liked":false,"id":53780,"user_name":"xyw pro","can_delete":false,"product_type":"c1","uid":1233617,"ip_address":"","ucode":"C2B4A69BA04A5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/d2/d1/6cb2904b.jpg","comment_is_top":false,"comment_ctime":1545723776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545723776","product_id":100021701,"comment_content":"交作业！<br>#用NumPy统计下这些人在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。然后把这些人的总成绩排序，得出名次进行成绩输出。<br><br>import numpy as np<br>scoretype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>                       &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>score = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;dianwei&#39;,80,90,90)],dtype=scoretype)<br>chinese = score[:][&#39;chinese&#39;]<br>english = score[:][&#39;english&#39;]<br>math = score[:][&#39;math&#39;]<br><br>#平均成绩<br>print(np.mean(chinese))<br>print(np.mean(english))<br>print(np.mean(math))<br><br>#最小成绩<br>print(np.min(chinese))<br>print(np.min(english))<br>print(np.min(math))<br><br>#最大成绩<br>print(np.max(chinese))<br>print(np.max(english))<br>print(np.max(math))<br><br>#方差<br>print(np.var(chinese))<br>print(np.var(english))<br>print(np.var(math))<br><br>#标准差<br>print(np.std(chinese))<br>print(np.std(english))<br>print(np.std(math))<br><br>print(np.sort(np.add(np.add(chinese,english),math)))","like_count":0},{"had_liked":false,"id":53561,"user_name":"汪汪汪","can_delete":false,"product_type":"c1","uid":1352124,"ip_address":"","ucode":"5BF97C411703C8","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/bc/99c20923.jpg","comment_is_top":false,"comment_ctime":1545677162,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545677162","product_id":100021701,"comment_content":"import numpy as np<br>#1.利用dtype自定义结构类型<br>persontype = np.dtype({&quot;names&quot;:[&quot;name&quot;,&quot;chinese&quot;,&quot;english&quot;,&quot;math&quot;,&quot;total&quot;],<br>                       &quot;formats&quot;:[&quot;S32&quot;,&quot;f&quot;,&quot;f&quot;,&quot;f&quot;,&quot;f&quot;]})<br>#2.调用自定义的persontype，赋值给peoples<br>peoples = np.array([(&quot;zhangfei&quot;,&quot;66&quot;,&quot;65&quot;,&quot;30&quot;,&quot;0&quot;),<br>                    (&quot;guanyu&quot;,&quot;95&quot;,&quot;85&quot;,&quot;98&quot;,&quot;0&quot;),<br>                    (&quot;zhaoyun&quot;,&quot;93&quot;,&quot;92&quot;,&quot;96&quot;,&quot;0&quot;),<br>                    (&quot;huangzhong&quot;,&quot;90&quot;,&quot;88&quot;,&quot;77&quot;,&quot;0&quot;),<br>                    (&quot;dianwei&quot;,&quot;80&quot;,&quot;90&quot;,&quot;90&quot;,&quot;0&quot;)],dtype=persontype)<br><br>#3.调用ufunc相关方法，进行统计（平均成绩、最小成绩、最大成绩、方差、标准差）<br>names = peoples[:][&quot;name&quot;]<br>chineses = peoples[:][&quot;chinese&quot;]<br>englishs = peoples[:][&quot;english&quot;]<br>maths = peoples[:][&quot;math&quot;]<br>total = chineses+englishs+maths<br>#语文科目统计结果<br>print(&quot;语文的平均成绩：%.2f&quot; % np.mean(chineses))<br>print(&quot;语文的最小成绩：%.2f&quot; % np.amin(chineses))<br>print(&quot;语文的最大成绩：%.2f&quot; % np.amax(chineses))<br>print(&quot;语文的方差：%.2f&quot; % np.var(chineses))<br>print(&quot;语文的标准方差：%.2f&quot; % np.std(chineses))<br><br>#英语科目统计结果<br>print(&quot;英语的平均成绩：%.2f&quot; % np.mean(englishs))<br>print(&quot;英语的最小成绩：%.2f&quot; % np.amin(englishs))<br>print(&quot;英语的最大成绩：%.2f&quot; % np.amax(englishs))<br>print(&quot;英语的方差：%.2f&quot; % np.var(englishs))<br>print(&quot;英语的标准方差：%.2f&quot; % np.std(englishs))<br><br>#数学科目统计结果<br>print(&quot;数学的平均成绩：%.2f&quot; % np.mean(maths))<br>print(&quot;数学的最小成绩：%.2f&quot; % np.amin(maths))<br>print(&quot;数学的最大成绩：%.2f&quot; % np.amax(maths))<br>print(&quot;数学的方差：%.2f&quot; % np.var(maths))<br>print(&quot;数学的标准方差：%.2f&quot; % np.std(maths))<br><br>#4.排序（按成绩高低进行排序）<br>print(&quot;总成绩由低到高一次为：&quot;)<br>print (np.sort(total)[::-1])<br>","like_count":0},{"had_liked":false,"id":53503,"user_name":"跳跳","can_delete":false,"product_type":"c1","uid":1172803,"ip_address":"","ucode":"80B697B89E1A0B","user_header":"https://static001.geekbang.org/account/avatar/00/11/e5/43/7bc7cfe3.jpg","comment_is_top":false,"comment_ctime":1545659826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545659826","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>    &#39;name&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;English&#39;,&#39;math&#39;,&#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>peoples=np.array([(&quot;zhangfei&quot;,66,65,30,0),(&quot;guanyu&quot;,95,85,98,0),(&quot;zhaoyun&quot;,93,92,96,0),(&quot;huangzhong&quot;,90,88,77,0),(&quot;dianwei&quot;,80,90,90,0)],dtpye=persontype)<br>chinese=pepole[:][&#39;chinese&#39;]<br>English=pepole[:][&#39;English&#39;]<br>math=pepole[:][&#39;math&#39;]<br>total=people[:][chinese]+people[:][English]+people[:][math]<br>#语文平均成绩、最大成绩、最小成绩、方差、标准差<br>print(np.mean(chinese))<br>print(np.amax(chinese))<br>print(np.amin(chinese))<br>print(np.std(chinese))<br>print(np.var(chinese))<br>#英语平均成绩、最大成绩、最小成绩、方差、标准差<br>print(np.mean(English))<br>print(np.amax(English))<br>print(np.amin(English))<br>print(np.std(English))<br>print(np.std(English))<br>#数学平均成绩、最大成绩、最小成绩、方差、标准差<br>print(np.mean(math))<br>print(np.amax(math))<br>print(np.amin(math))<br>print(np.std(math))<br>print(np.std(math))<br>#排序<br>print(np.sort(peoples,order=&#39;total&#39;))","like_count":0},{"had_liked":false,"id":53333,"user_name":"wolfog","can_delete":false,"product_type":"c1","uid":1005815,"ip_address":"","ucode":"89BFEBE2E00B18","user_header":"https://static001.geekbang.org/account/avatar/00/0f/58/f7/22ea9761.jpg","comment_is_top":false,"comment_ctime":1545627652,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545627652","product_id":100021701,"comment_content":"完成任务","like_count":0},{"had_liked":false,"id":53067,"user_name":"Hot   Heat","can_delete":false,"product_type":"c1","uid":1235964,"ip_address":"","ucode":"EF8E2ADEB29BEA","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/fc/8ddeaccb.jpg","comment_is_top":false,"comment_ctime":1545578509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545578509","product_id":100021701,"comment_content":"courses = [&#39;art&#39;, &#39;english&#39;, &#39;math&#39;]<br>names = [&#39;张飞&#39;, &#39;关羽&#39;, &#39;赵云&#39;, &#39;黄忠&#39;, &#39;典韦&#39;]<br><br>grades = np.array([(66, 65, 30), (95, 85, 98), (93, 92, 96),<br>                   (90, 88, 77), (80, 90, 90)])<br><br>stats = []<br>stats.append(grades.mean(0)),<br>stats.append(grades.min(0)),<br>stats.append(grades.max(0)),<br>stats.append(grades.var(0)),<br>stats.append(grades.std(0))<br>stats = np.array(stats)<br>stats = np.row_stack((courses, stats))<br>stats = np.column_stack(([&#39;name&#39;, &#39;mean&#39;, &#39;min&#39;, &#39;max&#39;, &#39;var&#39;, &#39;std&#39;], stats))<br>### sorting<br>total = grades.sum(1)<br>grades = np.c_[grades, total]<br>grades = grades[np.argsort(grades[:, 3])[::-1]]<br>########### pandas ###############<br><br>df = pd.DataFrame(grades, columns=courses, index=names)<br>stats = df.agg([&#39;mean&#39;, &#39;max&#39;, &#39;min&#39;, &#39;var&#39;, &#39;std&#39;])<br>df[&#39;total&#39;] = df.sum(1)<br>grades = df.sort_values(by=&#39;total&#39;, ascending=False)","like_count":0},{"had_liked":false,"id":53052,"user_name":"Mingjie","can_delete":false,"product_type":"c1","uid":1356757,"ip_address":"","ucode":"58E350527F1261","user_header":"https://static001.geekbang.org/account/avatar/00/14/b3/d5/1ac75658.jpg","comment_is_top":false,"comment_ctime":1545576083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545576083","product_id":100021701,"comment_content":"****我有两个疑问 <br>****1 我想定义一个分析结果的 结构类型数组 gradetable，如何将item[0] 添加到gradetable？？<br>****2 如何用gradetype 定义一个 变量 呢？ 而不是一个数组<br>****下面是我实现的代码<br># !usr&#47;bin&#47;env python3<br># -*- coding:utf-8 -*-<br># Author:Charlie<br>import numpy as np<br><br>studenttye = np.dtype({  # 用dtype来定义结构类型<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>students = np.array([(&quot;zhangfei&quot;,66,65,30,0),<br>                     (&quot;guanyu&quot;,95,85,98,0),<br>                     (&quot;zhaoyun&quot;,93,92,96,0),<br>                     (&quot;huangzhong&quot;,90,88,77,0),<br>                     (&quot;huangzhong&quot;,80,90,90,0)],dtype= studenttye)<br>gradetype =  np.dtype({  <br>    &#39;names&#39;:[&#39;item&#39;, &#39;average&#39;, &#39;min&#39;, &#39;max&#39;,&#39;variance&#39;,&#39;standard&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;,&#39;f&#39;]})<br><br>print(&quot;统计：&quot;)<br>print(gradetype.names)<br>classlist = [&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;]<br>for i in classlist: #这里只能定义一个数组了，只有一个元素<br>    item =  np.array([(i ,np.average(students[:][i]),<br>                        np.amin(students[:][i]),<br>                        np.amax(students[:][i]),<br>                        np.var(students[:][i]),<br>                        np.std(students[:][i]))],dtype=gradetype)<br>    print(item[0])<br>#gradetable = np.array([], dtype=gradetype) ？？？gradetable .insert ？<br><br>print(&quot;排名：&quot;)<br>students[:][&#39;total&#39;] = students[:][&#39;chinese&#39;]+students[:][&#39;math&#39;]+students[:][&#39;english&#39;];<br>stusort = []<br>for studentsort in np.sort(students,order=&#39;total&#39;):<br>    stusort.append(studentsort)<br>stusort.reverse()<br>for i in stusort:<br>    print(i)","like_count":0},{"had_liked":false,"id":53014,"user_name":"daydreamer","can_delete":false,"product_type":"c1","uid":1339168,"ip_address":"","ucode":"375D9D4F9A7AF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/6f/20/53cb569d.jpg","comment_is_top":false,"comment_ctime":1545570086,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545570086","product_id":100021701,"comment_content":"# -*- coding:utf-8 -*-<br>import numpy as np<br><br><br>studenttype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br><br>scores = np.array([(&quot;Zhang Fei&quot;, 66, 65, 30, 0), (&quot;Guan Yu&quot;, 95, 85, 98, 0),<br>(&quot;Zhang Yu&quot;, 93, 92, 96, 0), (&quot;Huang Zhong&quot;, 90, 88, 77, 0),<br>(&quot;Dian Wei&quot;, 80, 90, 90, 0)],dtype=studenttype)<br><br>print(&#39;{:10s}&#39;.format(&#39;&#39;),end=&#39;&#39;)<br>print(&#39;{:8s}&#39;.format(&#39;Max&#39;),end=&#39;&#39;)<br>print(&#39;{:8s}&#39;.format(&#39;Min&#39;),end=&#39;&#39;)<br>print(&#39;{:8s}&#39;.format(&#39;Mean&#39;),end=&#39;&#39;)<br>print(&#39;{:8s}&#39;.format(&#39;Std&#39;),end=&#39;&#39;)<br>print(&#39;{:8s}&#39;.format(&#39;var&#39;))<br>for name in studenttype.names:<br>    if name not in [&#39;name&#39;, &#39;total&#39;]:<br>        print(&#39;{:8s}&#39;.format(name),end=&#39;&#39;)<br>        print(&#39;{:8.2f}&#39;.format(np.amax(scores[:][name])),end=&#39;&#39;)<br>        print(&#39;{:8.2f}&#39;.format(np.amin(scores[:][name])),end=&#39;&#39;)<br>        print(&#39;{:8.2f}&#39;.format(np.mean(scores[:][name])),end=&#39;&#39;)<br>        print(&#39;{:8.2f}&#39;.format(np.std(scores[:][name])),end=&#39;&#39;)<br>        print(&#39;{:8.2f}&#39;.format(np.var(scores[:][name])))<br><br>scores[:][&#39;total&#39;] = scores[:][&#39;chinese&#39;] + scores[:][&#39;english&#39;] + scores[:][&#39;math&#39;] <br>ranks = np.sort(scores, order=&#39;total&#39;)<br>print(&#39;The rank of those five students is:&#39;)<br>for rank in ranks:<br>    for col in rank:<br>        print(col,end=&#39;\\t&#39;)<br>    print(&#39;&#39;)","like_count":0},{"had_liked":false,"id":52969,"user_name":"Being","can_delete":false,"product_type":"c1","uid":1152227,"ip_address":"","ucode":"80A8783927B650","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/e3/ed118550.jpg","comment_is_top":false,"comment_ctime":1545560305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545560305","product_id":100021701,"comment_content":"import numpy as np<br><br>subjectArray = np.array([&#39;Name&#39;,&#39;Chinese&#39;,&#39;English&#39;,&#39;Math&#39;,&#39;Total&#39;])<br><br>persontype = np.dtype({<br>    &#39;names&#39;:subjectArray,<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>})<br><br>students = np.array(<br>    [(&#39;ZhangFei&#39;, 66, 65, 30,0),<br>    (&#39;GuanYu&#39;, 95, 85, 98,0),<br>    (&#39;ZhaoYun&#39;, 93, 92, 96,0),<br>    (&#39;HuangZhong&#39;, 90, 88, 77,0),<br>    (&#39;DianWei&#39;, 80, 90, 90,0)], <br>    dtype=persontype<br>)<br><br>for i in range(students[:][&#39;Name&#39;].shape[0]):<br>    scores = 0<br>    for subjectIndex in range(1, subjectArray.shape[0] - 1):<br>        scores += students[i][subjectArray[subjectIndex]]<br>    students[i][&#39;Total&#39;] = scores<br><br>for subjectIndex in range(1, subjectArray.shape[0] - 1):<br>    subject = students[:][subjectArray[subjectIndex]]<br>    subjectAvg = np.mean(subject)<br>    subjectMin = np.amin(subject)<br>    subjectMax = np.amax(subject)<br>    subjectVar = np.var(subject)<br>    subjectStd = np.std(subject)<br>    print(&quot;Subject: %s&quot; %subjectArray[subjectIndex])<br>    print(&quot;average = %f &quot; %subjectAvg)<br>    print(&quot;Max = %f &quot; %subjectMin)<br>    print(&quot;Min = %f &quot; %subjectMax)<br>    print(&quot;Var = %f&quot; %subjectVar)<br>    print(&quot;Var = %f&quot; %subjectStd)<br>    print(&#39;-----&#39;)<br><br>sortArray = np.sort(students, -1, &#39;quicksort&#39;, &#39;Total&#39;)<br>print(&quot;Rank by Total score : &quot;)<br>print(sortArray)","like_count":0},{"had_liked":false,"id":52930,"user_name":"Being","can_delete":false,"product_type":"c1","uid":1152227,"ip_address":"","ucode":"80A8783927B650","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/e3/ed118550.jpg","comment_is_top":false,"comment_ctime":1545554040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545554040","product_id":100021701,"comment_content":"老师，请教如下问题<br>persontype = np.dtype({   <br>    &#39;names&#39;:[&#39;name&#39;, &#39;age&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]<br>})<br>peoples = np.array(<br>    [(&quot;ZhangFei&quot;, 23,31,32,3.7), (&quot;GuanYu&quot;,45,47,48,4.9), <br>    (&quot;ZhaoYun&quot;,57,53,52,5.8), (&quot;HuangZhong&quot;,67,64,66,6.1)],<br>    dtype=persontype<br>)<br>这个数组，我用sort排序<br>print(np.sort(peoples, axis=-1, kind=&#39;quicksort&#39;, order=&#39;name&#39;))<br>打印结果如下<br>[(b&#39;GuanYu&#39;, 45, 47, 48, 4.9) (b&#39;HuangZhong&#39;, 67, 64, 66, 6.1)<br> (b&#39;ZhangFei&#39;, 23, 31, 32, 3.7) (b&#39;ZhaoYun&#39;, 57, 53, 52, 5.8)]<br>为什么每个元素会多一个b呢？order = 其他type也是一样的，会多个b","like_count":0},{"had_liked":false,"id":52799,"user_name":"清晨","can_delete":false,"product_type":"c1","uid":1358414,"ip_address":"","ucode":"AF1DF347AB37C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKbvQIcyzk59yicuibOtibsqESwyyQA4b2WIskwKIxyX66YPErWpTypxlPFecrKEoZwONWKic92IzicTfA/132","comment_is_top":false,"comment_ctime":1545531969,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1545531969","product_id":100021701,"comment_content":"老师，刚买了您得课程，还没听您的课，我是编程零基础，打扰您一下，请问您推荐的python课程是什么？","like_count":0,"discussions":[{"author":{"id":1449474,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1e/02/2864e0f2.jpg","nickname":"华夏","note":"","ucode":"4D627CFA5A4B82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552,"discussion_content":"https://time.geekbang.org/course/intro/98","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561694529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52784,"user_name":"吴晓岚 jim wu","can_delete":false,"product_type":"c1","uid":1352009,"ip_address":"","ucode":"A4560901000FC8","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/49/a787ddaf.jpg","comment_is_top":false,"comment_ctime":1545528026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545528026","product_id":100021701,"comment_content":"import numpy as np<br>persontype = np.dtype({<br>\t\t\t\t\t\t&#39;names&#39;: [&#39;name&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;],<br>\t\t\t\t\t\t&#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>\t\t\t\t\t\t})<br>peoples = np.array([(&quot;zhangfei&quot;,66,65,30,),<br>\t\t\t\t\t(&quot;guanyu&quot;,95,85,98),<br>\t\t\t\t\t(&quot;zhaoyun&quot;,93,92,96),<br>\t\t\t\t\t(&quot;huangzhong&quot;,90,88,77),<br>\t\t\t\t\t(&quot;dianwei&quot;,80,90,90)],<br>\t\t\t\t\tdtype = persontype<br>\t\t\t\t\t)<br>name = peoples[:][&#39;name&#39;]<br>chinese = peoples[:][&#39;chinese&#39;]<br>math = peoples[:][&#39;math&#39;]<br>english = peoples[:][&#39;english&#39;]<br><br><br>print(&quot;中文平均成绩&quot;,np.mean(chinese),&#39;\\n&#39;)<br>print(&quot;数学平均成绩&quot;,np.mean(math),&#39;\\n&#39;)<br>print(&quot;英文平均成绩&quot;,np.mean(english),&#39;\\n&#39;)<br><br>print(&quot;中文最小成绩&quot;,np.amin(chinese),&#39;\\n&#39;)<br>print(&quot;数学最小成绩&quot;,np.amin(math),&#39;\\n&#39;)<br>print(&quot;英文最小成绩&quot;,np.amin(english),&#39;\\n&#39;)<br><br>print(&quot;中文最大成绩&quot;,np.amax(chinese),&#39;\\n&#39;)<br>print(&quot;数学最大成绩&quot;,np.amax(math),&#39;\\n&#39;)<br>print(&quot;英文最大成绩&quot;,np.amax(english),&#39;\\n&#39;)<br><br>print(&quot;中文方差&quot;,np.var(chinese),&#39;\\n&#39;)<br>print(&quot;数学方差&quot;,np.var(math),&#39;\\n&#39;)<br>print(&quot;英文方差&quot;,np.var(english),&#39;\\n&#39;)<br><br>print(&quot;中文标准差&quot;,np.std(chinese),&#39;\\n&#39;)<br>print(&quot;数学标准差&quot;,np.std(math),&#39;\\n&#39;)<br>print(&quot;英文标准差&quot;,np.std(english),&#39;\\n&#39;)<br><br>total = peoples[:][&#39;chinese&#39;]+peoples[:][&#39;math&#39;]+peoples[:][&#39;english&#39;]<br>print(total)<br>print(np.sort(total))","like_count":0},{"had_liked":false,"id":52750,"user_name":"拉我吃","can_delete":false,"product_type":"c1","uid":1354151,"ip_address":"","ucode":"8BC9C44FE00097","user_header":"https://static001.geekbang.org/account/avatar/00/14/a9/a7/de3ee890.jpg","comment_is_top":false,"comment_ctime":1545495598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545495598","product_id":100021701,"comment_content":"--- python3.6 ---<br>--- pycharm ---<br># coding: utf8<br>import numpy as np<br><br>&quot;&quot;&quot;<br>假设一个团队里有 5 名学员，成绩如下表所示。你可以用 NumPy 统计下这些人<br>在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差。<br>然后把这些人的总成绩排序，得出名次进行成绩输出.<br><br>| 姓名    | 语文   | 英语   | 数学  |<br>| 张飞    | 66    | 65    | 30    |<br>| 关羽    | 95    | 85    | 98    |<br>| 赵云    | 93    | 92    | 96    |<br>| 黄忠    | 90    | 88    | 77    |<br>| 典韦    | 80    | 90    | 90    |<br><br>&quot;&quot;&quot;<br><br># define data type<br>studenttype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;f&#39;]<br>})<br><br># define and init students details<br># init total with 0<br>students = np.array(<br>    [<br>        (&quot;张飞&quot;, 66, 65, 30, 0),<br>        (&quot;关羽&quot;, 95, 85, 98, 0),<br>        (&quot;赵云&quot;, 93, 92, 96, 0),<br>        (&quot;黄忠&quot;, 90, 88, 77, 0),<br>        (&quot;典韦&quot;, 80, 90, 90, 0)<br>    ], dtype=studenttype<br>)<br><br># calculate total<br>students[:][&#39;total&#39;] = students[:][&#39;chinese&#39;] + students[:][&#39;english&#39;] + students[:][&#39;math&#39;]<br>print(students[:])<br><br># p1 统计下这些人<br># 在语文、英语、数学中的平均成绩、最小成绩、最大成绩、方差、标准差<br>print(&#39;语文平均成绩 = &#39;, np.mean(students[:][&#39;chinese&#39;]))<br>print(&#39;英语平均成绩 = &#39;, np.mean(students[:][&#39;english&#39;]))<br>print(&#39;数学平均成绩 = &#39;, np.mean(students[:][&#39;math&#39;]))<br>print(&#39;语文最小成绩 = &#39;, np.amin(students[:][&#39;chinese&#39;]))<br>print(&#39;英语最小成绩 = &#39;, np.amin(students[:][&#39;english&#39;]))<br>print(&#39;数学最小成绩 = &#39;, np.amin(students[:][&#39;math&#39;]))<br>print(&#39;语文最大成绩 = &#39;, np.amax(students[:][&#39;chinese&#39;]))<br>print(&#39;英语最大成绩 = &#39;, np.amax(students[:][&#39;english&#39;]))<br>print(&#39;数学最大成绩 = &#39;, np.amax(students[:][&#39;math&#39;]))<br>print(&#39;语文方差 = &#39;, np.var(students[:][&#39;chinese&#39;]))<br>print(&#39;英语方差 = &#39;, np.var(students[:][&#39;english&#39;]))<br>print(&#39;数学方差 = &#39;, np.var(students[:][&#39;math&#39;]))<br>print(&#39;语文标准差 = &#39;, np.std(students[:][&#39;chinese&#39;]))<br>print(&#39;英语标准差 = &#39;, np.std(students[:][&#39;english&#39;]))<br>print(&#39;数学标准差 = &#39;, np.std(students[:][&#39;math&#39;]))<br><br># p2 然后把这些人的总成绩排序，得出名次进行成绩输出.<br>print(&quot;按总成绩排名&quot;, np.sort(students[:][&#39;total&#39;])[::-1])<br>","like_count":0},{"had_liked":false,"id":52741,"user_name":"无畏不惧@","can_delete":false,"product_type":"c1","uid":1348461,"ip_address":"","ucode":"D910AC390830A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/93/6d/d87c8a2c.jpg","comment_is_top":false,"comment_ctime":1545493354,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545493354","product_id":100021701,"comment_content":"总觉得就一个知识点 axis=0代表跨行，axis=1代表跨列","like_count":0},{"had_liked":false,"id":52709,"user_name":"郝志强","can_delete":false,"product_type":"c1","uid":1141757,"ip_address":"","ucode":"3C51C22DDDE5C2","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/fd/4fc9c910.jpg","comment_is_top":false,"comment_ctime":1545484226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545484226","product_id":100021701,"comment_content":"老师，能用py3.x进行教学吗？现在用的都是3.写的版本","like_count":0},{"had_liked":false,"id":52696,"user_name":"三儿","can_delete":false,"product_type":"c1","uid":1341911,"ip_address":"","ucode":"182E39DAC9529E","user_header":"https://static001.geekbang.org/account/avatar/00/14/79/d7/76fadd07.jpg","comment_is_top":false,"comment_ctime":1545478954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545478954","product_id":100021701,"comment_content":"有木有一些方法论启发从哪些角度进行数据分析的书呢","like_count":0},{"had_liked":false,"id":52660,"user_name":"何楚","can_delete":false,"product_type":"c1","uid":1355689,"ip_address":"","ucode":"51C8258A3EAF11","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/a9/e24380a0.jpg","comment_is_top":false,"comment_ctime":1545468971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545468971","product_id":100021701,"comment_content":"修改后的版本：<br>#!&#47;usr&#47;bin&#47;env python3<br># -*- coding: utf-8 -*-<br><br>import numpy as np<br><br>persontype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;, &#39;total&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&quot;ZhangFei&quot;, 66, 65, 30, 0),<br>                    (&quot;GuanYu&quot;, 95, 85, 98, 0),<br>                    (&quot;ZhaoYun&quot;, 93, 92, 96, 0),<br>                    (&quot;HuangZhong&quot;, 90, 88, 77, 0),<br>                    (&quot;DianWei&quot;, 80, 90, 90, 0)],<br>                   dtype=persontype)<br>for col in persontype.names:<br>    # print(col)<br>    if col in [&quot;name&quot;, &quot;total&quot;]:<br>        continue<br>    print(&quot;-&quot;*36)<br>    print(&quot;mean of {}: {}&quot;.format(col, peoples[col].mean()))<br>    print(&quot;min of {}: {}&quot;.format(col, peoples[col].min()))<br>    print(&quot;max of {}: {}&quot;.format(col, peoples[col].max()))<br>    print(&quot;var of {}: {}&quot;.format(col, peoples[col].var()))<br>    print(&quot;std of {}: {}&quot;.format(col, peoples[col].std()))<br><br>peoples[:][&#39;total&#39;] = peoples[:][&#39;chinese&#39;] + \\<br>    peoples[:][&#39;english&#39;] + peoples[:][&#39;math&#39;]<br>peoples = np.sort(peoples, order=&#39;total&#39;)[::-1]<br>print(&quot;-&quot;*36)<br>print(&quot;sorted score:&quot;)<br>for i in range(peoples.size):<br>    print(&quot;{} - {} : {}&quot;.format(i + 1,<br>                                peoples[&#39;name&#39;][i].decode(&#39;utf-8&#39;), peoples[&#39;total&#39;][i]))<br>","like_count":0},{"had_liked":false,"id":52628,"user_name":"smilecrazy","can_delete":false,"product_type":"c1","uid":1027191,"ip_address":"","ucode":"578F5C507CAA2B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/77/a2a8003d.jpg","comment_is_top":false,"comment_ctime":1545457928,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545457928","product_id":100021701,"comment_content":"使用的python 3.7 没有cmp函数<br><br>看过大家的code，感觉好多人都开了新的空间去保存具体成绩，类似把数据矩阵给倒置了，虽然计算简单，但是新开了内存，而且studenttype的结构体声明看起来没什么用，私以为应该尽量在原数据的基础上进行计算，欢迎老师来批~<br><br>#!&#47;usr&#47;bin&#47;python<br>import numpy as np<br>from functools import cmp_to_key<br><br>studenttype = np.dtype({<br>    &#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;math&#39;, &#39;english&#39;],<br>    &#39;formats&#39;: [&#39;S32&#39;, &#39;float&#39;, &#39;float&#39;, &#39;float&#39;, &#39;float&#39;]<br>})<br><br>student = np.array([(&#39;zhangfei&#39;, 66, 65, 30),(&#39;guanyu&#39;, 95,85, 98),<br>                    (&#39;zhaoyun&#39;, 93, 92, 96),(&#39;huangzhong&#39;, 90, 88, 77),<br>                    (&#39;dianwei&#39;, 80, 90, 90)], dtype=studenttype)<br><br>def get_situation(course):<br>    course_list = {}<br>    course_list[&#39;avg&#39;] = np.average(course)<br>    course_list[&#39;min&#39;] = np.amin(course)<br>    course_list[&#39;max&#39;] = np.amax(course)<br>    course_list[&#39;var&#39;] = np.var(course)<br>    course_list[&#39;std&#39;] = np.std(course)<br>    return course_list<br><br>def cmp(sp1, sp2):<br>    return sp1[&#39;chinese&#39;] + sp1[&#39;math&#39;] + sp1[&#39;english&#39;] - sp2[&#39;chinese&#39;] + sp2[&#39;math&#39;] + sp2[&#39;english&#39;]<br><br>print(get_situation(student[:][&#39;chinese&#39;]))<br>print(get_situation(student[:][&#39;math&#39;]))<br>print(get_situation(student[:][&#39;english&#39;]))<br>print(sorted(student, key=cmp_to_key(cmp)))","like_count":0},{"had_liked":false,"id":52607,"user_name":"mimi","can_delete":false,"product_type":"c1","uid":1043255,"ip_address":"","ucode":"5E2310EE43B2A5","user_header":"","comment_is_top":false,"comment_ctime":1545451959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545451959","product_id":100021701,"comment_content":"import numpy as np<br><br>score_type = np.dtype({<br>    &#39;names&#39;: (&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;),<br>    &#39;formats&#39;: (&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;)<br>})<br><br>score = np.array([<br>    (&#39;张飞&#39;, 66, 65, 30),<br>    (&#39;关羽&#39;, 95, 85, 98),<br>    (&#39;赵云&#39;, 93, 92, 96),<br>    (&#39;黄忠&#39;, 90, 88, 77),<br>    (&#39;典韦&#39;, 80, 90, 90)<br>], dtype=score_type)<br><br>des_type = np.dtype({<br>    &#39;names&#39;: (&#39;course&#39;, &#39;mean&#39;, &#39;min&#39;, &#39;max&#39;, &#39;var&#39;, &#39;std&#39;),<br>    &#39;formats&#39;: (&#39;S32&#39;, &#39;f2&#39;, &#39;f2&#39;, &#39;f2&#39;, &#39;f2&#39;, &#39;f2&#39;)<br>})<br><br>des = np.array([<br>    (<br>        course,<br>        score[:][course].mean(),<br>        score[:][course].min(),<br>        score[:][course].max(),<br>        score[:][course].var(),<br>        score[:][course].std()<br>    ) for course in score_type.names[1:]<br>], dtype=des_type)<br><br>amount_type = np.dtype({<br>    &#39;names&#39;: (&#39;name&#39;, &#39;amount&#39;),<br>    &#39;formats&#39;: (&#39;U32&#39;, &#39;f2&#39;)<br>})<br><br>amount = np.array([<br>    (<br>        name,<br>        sum(tuple(score[i])[1:])<br>    ) for i, name in enumerate(score[:][&#39;name&#39;])<br>], dtype=amount_type)<br><br>amount.sort(0, order=&#39;amount&#39;)<br><br>","like_count":0},{"had_liked":false,"id":52594,"user_name":"X","can_delete":false,"product_type":"c1","uid":1353215,"ip_address":"","ucode":"3C10A7CB921429","user_header":"https://static001.geekbang.org/account/avatar/00/14/a5/ff/a46422a0.jpg","comment_is_top":false,"comment_ctime":1545448219,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545448219","product_id":100021701,"comment_content":"老师您好，我想知道这里定义结构体的时候，类型U32这样的是在哪里找到说明，还是说字符串类型就是U32？还有哪些类型可用？谢谢","like_count":0},{"had_liked":false,"id":52590,"user_name":"lingmacker","can_delete":false,"product_type":"c1","uid":1353113,"ip_address":"","ucode":"2B61674AD47F34","user_header":"https://static001.geekbang.org/account/avatar/00/14/a5/99/db2f6325.jpg","comment_is_top":false,"comment_ctime":1545447047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545447047","product_id":100021701,"comment_content":"import numpy as np<br><br>person_type = np.dtype({&quot;names&quot;: [&quot;name&quot;, &quot;Chinese&quot;, &quot;English&quot;, &quot;Math&quot;],<br>                        &quot;formats&quot;: [&quot;S32&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;]})<br><br>persons = np.array([(&quot;zhangfei&quot;, 66, 65, 30),<br>                    (&quot;guanyu&quot;, 95, 85, 98),<br>                    (&quot;zhaoyun&quot;, 93, 92, 96),<br>                    (&quot;huangzhong&quot;, 90, 88, 77),<br>                    (&quot;dianwei&quot;, 80, 90, 90)], dtype=person_type)<br><br>ch = persons[:][&quot;Chinese&quot;]<br>en = persons[:][&quot;English&quot;]<br>ma = persons[:][&quot;Math&quot;]<br>scores = np.array([ch, en, ma])<br>print(scores.shape)<br><br>print(&quot;姓名           | 平均 | 最小 | 最大 | 方差 | 标准&quot;)<br>for a, b, c, d, e, f in zip(persons[&quot;name&quot;], np.mean(scores, axis=0), np.min(scores, axis=0),<br>                            np.max(scores, axis=0), np.var(scores, axis=0), np.std(scores, axis=0)):<br>    print(&quot;%-15s %4.2f %4.2f %4.2f %4.2f %4.2f&quot; % (a, b, c, d, e, f))<br><br>for i in sorted(persons, key=lambda x: sum([x[&quot;Chinese&quot;], x[&quot;English&quot;], x[&quot;Math&quot;]]), reverse=True):<br>    print(i)","like_count":0},{"had_liked":false,"id":52480,"user_name":"1e-43","can_delete":false,"product_type":"c1","uid":1138688,"ip_address":"","ucode":"8AADC2ED8409E9","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/00/3dbaf430.jpg","comment_is_top":false,"comment_ctime":1545390846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545390846","product_id":100021701,"comment_content":"老师，numpy排序最后两个axis=0 和axis=1的两个不是太明白","like_count":0},{"had_liked":false,"id":52473,"user_name":"29岁","can_delete":false,"product_type":"c1","uid":1353548,"ip_address":"","ucode":"4947F44DDF9DD8","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/4c/3e4b2d96.jpg","comment_is_top":false,"comment_ctime":1545389135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545389135","product_id":100021701,"comment_content":"##coding=utf-8<br>import numpy as np<br><br>personType =np.dtype(<br>    {<br>        &#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;],<br>        &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]<br>        }<br>    )<br><br>peoples =np.array([<br>    (&quot;张飞&quot;,66,65,30),<br>    (&quot;关羽&quot;,95,85,98),<br>    (&quot;赵云&quot;,93,92,96),<br>    (&quot;黄忠&quot;,90,80,77),<br>    (&quot;典韦&quot;,80,90,90)<br><br>    ],dtype=personType)<br><br>#原因：这是因为win的，命令行用的是cp936编码，而上面脚本用的是utf-8编码，因此导致乱码。 <br><br>#解决方法是，使用decode和encode函数对字符重新解码和编码。 <br><br>def printChinese(a,b):<br>    a=a+ str( b)<br>    print(a.decode(&#39;utf-8&#39;).encode(&#39;cp936&#39;) )<br>    print(&quot;-----------------------------------&quot;)<br>    return<br><br>#不知道怎么处理，姓名还是乱码<br>print  peoples <br><br>chineses = peoples[:][&#39;chinese&#39;]<br>englishs = peoples[:][&#39;english&#39;]<br>maths = peoples[:][&#39;math&#39;]<br><br><br>printChinese(&quot;语文平均分:&quot;,np.mean(chineses))<br>printChinese(&quot;英语平均分:&quot;,np.mean(englishs))<br>printChinese(&quot;数学平均分:&quot;,np.mean(maths))<br><br>printChinese(&quot;语文最低分:&quot;,np.amin(chineses))<br>printChinese(&quot;英语最低分:&quot;,np.amin(englishs))<br>printChinese(&quot;数学最低分:&quot;,np.amin(maths))<br><br>printChinese(&quot;语文方差:&quot;,np.var(chineses))<br>printChinese(&quot;英语方差:&quot;,np.var(englishs))<br>printChinese(&quot;数学方差:&quot;,np.var(maths))<br><br>printChinese(&quot;语文标准差:&quot;,np.std(chineses))<br>printChinese(&quot;英语标准差:&quot;,np.std(englishs))<br>printChinese(&quot;数学标准差:&quot;,np.std(maths))<br><br>#不会翻转 <br>printChinese(&quot;总分排序：&quot;,np.sort(chineses+englishs+maths))","like_count":0},{"had_liked":false,"id":52470,"user_name":"Rickie","can_delete":false,"product_type":"c1","uid":1352052,"ip_address":"","ucode":"F859B7837DFD18","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/74/3dfa4436.jpg","comment_is_top":false,"comment_ctime":1545388878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545388878","product_id":100021701,"comment_content":"import numpy as np<br>persontype=np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;age&#39;, &#39;chinese&#39;, &#39;math&#39;,&#39;english&#39;],<br>    &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;,&#39;f&#39;]})<br>peoples=np.array([(&quot;ZhangFei&quot;,32,75,100, 90),(&quot;GuanYu&quot;,24,85,96,88.5),<br>       (&quot;ZhaoYun&quot;,28,85,92,96.5),(&quot;HuangZhong&quot;,29,65,85,100)],dtype=persontype)<br>grade_max=[]<br>grade_min=[]<br>grade_avg=[]<br>grade_var=[]<br>grade_std=[]<br>for subject in [&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;]:<br>    grade_max.append(peoples[subject].max())<br>    grade_min.append(peoples[subject].min())<br>    grade_avg.append(peoples[subject].mean())<br>    grade_var.append(peoples[subject].var())<br>    grade_std.append(peoples[subject].std())<br>#计算总分<br>n=len(peoples)<br>score=np.zeros((n,1))<br>for i in range(n):<br>    for subject in [&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;]:<br>        score[i]=score[i]+peoples[i][subject]<br>print(score)<br># 之后尝试给peoples添加一列，但由于其类型为tuple，无法改变元素内容，因此重建了一个元素为list的二维数组，然后添加计算好的总分数<br>people=np.array([[&quot;ZhangFei&quot;,32,75,100, 90],[&quot;GuanYu&quot;,24,85,96,88.5],<br>       [&quot;ZhaoYun&quot;,28,85,92,96.5],[&quot;HuangZhong&quot;,29,65,85,100]])<br>people_grade_added=np.insert(people,5,values=score.reshape(1,4),axis=1)<br>##<br>用ndarray做这种计算实在太不方便了，由于这个问题中的元素是tuple，给array做各种切片都不成功（不知道是不是这个原因啊。。。？）<br>还是DataFrame好用....","like_count":0},{"had_liked":false,"id":52423,"user_name":"侯晓杰","can_delete":false,"product_type":"c1","uid":1354127,"ip_address":"","ucode":"AE9BA53BA3E3CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/a9/8f/d4a7616f.jpg","comment_is_top":false,"comment_ctime":1545380047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545380047","product_id":100021701,"comment_content":"import numpy as np<br><br>peopletype = np.dtype({<br>    &#39;names&#39;:[&#39;name&#39;, &#39;chinese&#39;, &#39;English&#39;, &#39;math&#39;],<br>    &#39;formats&#39;: [&#39;U32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>peoples = np.array([(&#39;张飞&#39;, 66, 65, 30), (&#39;关羽&#39;, 95, 85, 98), (&#39;赵云&#39;, 93, 92, 96), (&#39;黄忠&#39;, 90, 88, 77), (&#39;典韦&#39;, 80, 90, 90)], dtype=peopletype)<br>chinses = peoples[:][&#39;chinese&#39;]<br>English = peoples[:][&#39;English&#39;]<br>math = peoples[:][&#39;math&#39;]<br>print(&#39;chinese--average:{}, min:{}, max:{}, fx:{}, bzx:{}&#39;.format(np.mean(chinses), np.amin(chinses), np.amax(chinses), np.var(chinses), np.std(chinses)))<br>print(&#39;English--average:{}, min:{}, max:{}, fx:{}, bzx:{}&#39;.format(np.mean(English), np.amin(English), np.amax(English), np.var(English), np.std(English)))<br>print(&#39;math--average:{}, min:{}, max:{}, fx:{}, bzx:{}&#39;.format(np.mean(math), np.amin(math), np.amax(math), np.var(math), np.std(math)))<br><br>name_grade = []<br>for i in range(len(peoples)):<br>    temp = [peoples[i][&#39;name&#39;], peoples[i][&#39;chinese&#39;] + peoples[i][&#39;English&#39;] + peoples[i][&#39;math&#39;]]<br>    name_grade.append(tuple(temp))<br><br>grades = np.array(name_grade, dtype=[(&#39;name&#39;, &#39;U32&#39;), (&#39;grade&#39;, &#39;i&#39;)])<br>grades = np.sort(grades, order=&#39;grade&#39;, )<br>num = 1<br>for grade in grades[::-1]:<br>    print(&#39;name: {}, grade:{}, ranke:{}&#39;.format(grade[&#39;name&#39;], grade[&#39;grade&#39;], num))<br>    num += 1<br>","like_count":0},{"had_liked":false,"id":52402,"user_name":"大萌","can_delete":false,"product_type":"c1","uid":1357028,"ip_address":"","ucode":"5E9EB5659230DE","user_header":"https://static001.geekbang.org/account/avatar/00/14/b4/e4/7c16516d.jpg","comment_is_top":false,"comment_ctime":1545376150,"is_pvip":false,"replies":[{"id":"19096","content":"可以尝试做题，自己写代码<br>看书容易有惰性，写代码是需要跑通才行的，也是学习成果最好的反馈","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545395853,"ip_address":"","comment_id":52402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545376150","product_id":100021701,"comment_content":"期待更快的更新，看完文章之后回顾了一遍numpy，对于基础知识理解的更透彻了一些。<br>import numpy as np<br>#定义类型<br>person_type = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;math&#39;,&#39;english&#39;],&#39;formats&#39;:[&#39;S25&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>info = np.array([(&#39;zhangfei&#39;,66,65,30),(&#39;guanyu&#39;,95,85,98),(&#39;zhaoyun&#39;,93,92,96),(&#39;huangzhong&#39;,90,88,77),(&#39;machao&#39;,80,90,90)],dtype=person_type)<br>chinese = info[:][&#39;chinese&#39;]<br>math = info[:][&#39;math&#39;]<br>english = info[:][&#39;english&#39;]<br>print(&#39;语、数、英各门学科的平均值：&#39;)<br>print(np.mean(chinese))<br>print(np.mean(math))<br>print(np.mean(english))<br>print(&#39;语、数、英各门学科的最大值：&#39;)<br>print(np.max(chinese))<br>print(np.max(math))<br>print(np.max(english))<br>print(&#39;语、数、英各门学科的最小值：&#39;)<br>print(np.min(chinese))<br>print(np.min(math))<br>print(np.min(english))<br>print(&#39;语、数、英各门学科的方差：&#39;)<br>print(np.var(chinese))<br>print(np.var(math))<br>print(np.var(english))<br>print(&#39;语、数、英各门学科的标准差：&#39;)<br>print(np.std(chinese))<br>print(np.std(math))<br>print(np.std(english))<br>print(&#39;排序输出总成绩&#39;)<br>print(np.sort(chinese+math+english,axis=0,kind=&#39;quicksort&#39;))<br><br>表格数据使用dataframe的话，会更方便操作一些，info.describe()就搞定了。<br>想问下老师，自己对于数据知识和算法理解稍弱一些，最近看了《数学之美》和《算法图解》和《机器学习_周志华》等几本书，还没有看完，总是觉得自己学的东西有点乱，不够整体，怎么办呢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433860,"discussion_content":"可以尝试做题，自己写代码\n看书容易有惰性，写代码是需要跑通才行的，也是学习成果最好的反馈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545395853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52393,"user_name":"我的小将军","can_delete":false,"product_type":"c1","uid":1164864,"ip_address":"","ucode":"F5FAFDBF5B044B","user_header":"https://static001.geekbang.org/account/avatar/00/11/c6/40/4f9abfb9.jpg","comment_is_top":false,"comment_ctime":1545374929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545374929","product_id":100021701,"comment_content":"1.最大值和最小值场景与最大值与最小值之差场景<br>两种情况下<br>axis=0取值问题？<br><br>2. studenttype = np.dtype({&#39;names&#39;:[&#39;name&#39;,&#39;chinese&#39;,&#39;english&#39;,&#39;math&#39;], &#39;formats&#39;:[&#39;S32&#39;,&#39;i&#39;,&#39;i&#39;,&#39;i&#39;]})<br>score = np.array([(&#39;ZhangFei&#39;,66,65,30), (&#39;GuanYu&#39;,95,85,98), (&#39;ZhaoYun&#39;,93,92,96),(&#39;HuangZhong&#39;,90,88,77),(&#39;DianWei&#39;,80,90,90)],dtype=studenttype)<br>print(score)<br><br>chineses = score[:][&#39;chinese&#39;]<br>englishs = score[:][&#39;english&#39;]<br>maths = score[:][&#39;math&#39;]<br><br>print(chineses)<br>print(englishs)<br>print(maths)<br><br>newscore = np.array([chineses, englishs, maths])<br>print(newscore)<br><br>#平均成绩、最小成绩、最大成绩、方差、标准差<br>ava = np.mean(newscore)<br>print(ava)<br><br>lowest = np.amin(newscore)<br>print(lowest)<br><br>highest = np.amax(newscore)<br>print(highest)<br><br>std = np.std(newscore)<br>print(std)<br><br>var = np.var(newscore)<br>print(var)","like_count":0},{"had_liked":false,"id":52392,"user_name":"anthony","can_delete":false,"product_type":"c1","uid":1356459,"ip_address":"","ucode":"2752598912273C","user_header":"","comment_is_top":false,"comment_ctime":1545374690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545374690","product_id":100021701,"comment_content":"import numpy as np<br>scoretype = np.dtype(<br>    {&#39;names&#39;: [&#39;name&#39;, &#39;chinese&#39;, &#39;english&#39;, &#39;math&#39;], &#39;formats&#39;: [&#39;S32&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;]})<br>scores = np.array([(&quot;zhangfei&quot;, 66, 65, 30), (&quot;guanyu&quot;, 95, 85, 98), (&quot;zhaoyun&quot;, 93,                                                                     <br>        92, 96), (&quot;huangzhong&quot;, 90, 88, 77), (&quot;dianwei&quot;, 80, 90, 90)], dtype=scoretype)<br>for i in scoretype.names:<br>    if i == &#39;name&#39;:<br>        continue<br>    print(&quot;{} scores stats:&quot;.format(i))<br>    score = scores[:][i]<br>    print(&#39;mean: {:.2f}, min:{:.2f},max:{:.2f},var:{:.2f},std:{:.2f}&#39;.format(np.mean(score), np.amin(<br>        score), np.amax(score), np.var(score), np.std(score)))<br><br>chinese=scores[:][&#39;chinese&#39;]<br>english=scores[:][&#39;english&#39;]<br>math=scores[:][&#39;math&#39;]<br>sums=list(zip(scores[:][&#39;name&#39;],chinese+english+math))<br>sort_sum=sorted(sums,key=lambda x:x[:][1],reverse=True)<br>print(sort_sum)<br><br>尽量想写的python style一点，但是python和numpy的库都不是太熟悉，还是写得比较笨重","like_count":0},{"had_liked":false,"id":52338,"user_name":"鱼鱼鱼培填","can_delete":false,"product_type":"c1","uid":1195489,"ip_address":"","ucode":"5D99ED5A01AB3D","user_header":"https://static001.geekbang.org/account/avatar/00/12/3d/e1/5279ea2f.jpg","comment_is_top":false,"comment_ctime":1545363975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545363975","product_id":100021701,"comment_content":"请教老师两个问题：Python中的list的元素在内存中的存储是离散的，是不是相当于链表呢，而numpy中的array相当于数组？list是动态分配的，如果内存中不是连续的，那扩容时是怎么增加空间的呢？望老师指点","like_count":0},{"had_liked":false,"id":52300,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1545360316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545360316","product_id":100021701,"comment_content":"请老师详细讲解一下，统计最大值与最小值之差、统计百分位数、统计中位数、统计标准差、方差的实际应用意义。谢谢。","like_count":0},{"had_liked":false,"id":52288,"user_name":"Robin","can_delete":false,"product_type":"c1","uid":1355154,"ip_address":"","ucode":"8D2C75DEA95E5F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ad/92/8f1b5144.jpg","comment_is_top":false,"comment_ctime":1545358823,"is_pvip":false,"replies":[{"id":"19136","content":"来得及 掌握工具和锻炼实战能力，这样你就提升的很快","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545407919,"ip_address":"","comment_id":52288,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545358823","product_id":100021701,"comment_content":"工作四年后转数据分析还来得及吗？老师","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433822,"discussion_content":"来得及 掌握工具和锻炼实战能力，这样你就提升的很快","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545407919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52285,"user_name":"Robin","can_delete":false,"product_type":"c1","uid":1355154,"ip_address":"","ucode":"8D2C75DEA95E5F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ad/92/8f1b5144.jpg","comment_is_top":false,"comment_ctime":1545358639,"is_pvip":false,"replies":[{"id":"19137","content":"一共就3篇基础python，因为后面还要讲数据挖掘算法、常用的数据预处理方法、数据可视化以及项目实战，所以东西还挺多的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545408009,"ip_address":"","comment_id":52285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545358639","product_id":100021701,"comment_content":"一下就到numpy！好快","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433820,"discussion_content":"一共就3篇基础python，因为后面还要讲数据挖掘算法、常用的数据预处理方法、数据可视化以及项目实战，所以东西还挺多的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545408009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52277,"user_name":"王十三","can_delete":false,"product_type":"c1","uid":1234767,"ip_address":"","ucode":"308FC4D02A284E","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/4f/952e9a0f.jpg","comment_is_top":false,"comment_ctime":1545357150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545357150","product_id":100021701,"comment_content":"1.因为list在内存中分散存储，所以里面存了对象+指针（用于找到对象的）<br>2.而Numpy在内存中是以块的形式存储，不需要按照指针对其对象进行查找，提高了效率，所以要使用Numpy<br>------------------------------------------------------<br>其他的数据结构只了解像链表，栈，一些基础的数据结构","like_count":0},{"had_liked":false,"id":52274,"user_name":"荀辰龙","can_delete":false,"product_type":"c1","uid":1353526,"ip_address":"","ucode":"44928C45030753","user_header":"https://static001.geekbang.org/account/avatar/00/14/a7/36/b402abda.jpg","comment_is_top":false,"comment_ctime":1545357029,"is_pvip":false,"replies":[{"id":"19139","content":"因为王者荣耀里的马超还没上线😄","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545408172,"ip_address":"","comment_id":52274,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545357029","product_id":100021701,"comment_content":"为啥不是马超，而是典韦，强迫症看着难受 [斜眼笑]","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433816,"discussion_content":"因为王者荣耀里的马超还没上线😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545408172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52263,"user_name":"求知鸟","can_delete":false,"product_type":"c1","uid":1309134,"ip_address":"","ucode":"76249BB4897629","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/ce/4985c6fc.jpg","comment_is_top":false,"comment_ctime":1545355964,"is_pvip":false,"replies":[{"id":"19141","content":"对 直接实战 效率高太多","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545408212,"ip_address":"","comment_id":52263,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545355964","product_id":100021701,"comment_content":"有其它语言基础，练习起来就理解的快。这样的方式比啃书本高效太多。晚上回家操练起来","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433811,"discussion_content":"对 直接实战 效率高太多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545408212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52256,"user_name":"React","can_delete":false,"product_type":"c1","uid":1100554,"ip_address":"","ucode":"A176EF0AA242B5","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/0a/6a9e6602.jpg","comment_is_top":false,"comment_ctime":1545355225,"is_pvip":false,"replies":[{"id":"19142","content":"是啊 封装的很好，后面讲pandas更加强大","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1545408271,"ip_address":"","comment_id":52256,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545355225","product_id":100021701,"comment_content":"numpy的功能果然很强大","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433806,"discussion_content":"是啊 封装的很好，后面讲pandas更加强大","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545408271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52203,"user_name":"Tommy","can_delete":false,"product_type":"c1","uid":1354011,"ip_address":"","ucode":"98C30F99B5670D","user_header":"https://static001.geekbang.org/account/avatar/00/14/a9/1b/1f13e299.jpg","comment_is_top":false,"comment_ctime":1545351271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545351271","product_id":100021701,"comment_content":"不会掉包，安装其它模块","like_count":0}]}
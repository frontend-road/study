{"id":274473,"title":"42 | pytest标记：查找测试策略、标记测试函数","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p><p><strong>如果你无法从GitHub正常下载课件及Demo，请打开下方链接进行下载：</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p>","comments":[{"had_liked":false,"id":288158,"user_name":"Mnemosyne","can_delete":false,"product_type":"c3","uid":2449344,"ip_address":"","ucode":"19BCEA59B90259","user_header":"https://static001.geekbang.org/account/avatar/00/25/5f/c0/9c1ec76e.jpg","comment_is_top":false,"comment_ctime":1618325029,"is_pvip":false,"replies":[{"id":105554,"content":"路径不对 查看一下","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1620266879,"ip_address":"","comment_id":288158,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，请问为什么在命令行使用第三种筛选方法时会出现这样的异常呢：\nno tests ran in 0.02s\nERROR: file or directory not found: t_2.py\n","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518532,"discussion_content":"路径不对 查看一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620266879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248548,"user_name":"Mhc测试","can_delete":false,"product_type":"c3","uid":1910801,"ip_address":"","ucode":"7B95A87CBFC92E","user_header":"https://static001.geekbang.org/account/avatar/00/1d/28/11/f5d97eb3.jpg","comment_is_top":false,"comment_ctime":1600219988,"is_pvip":false,"replies":[{"id":91361,"content":"都可以","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1600382771,"ip_address":"","comment_id":248548,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，您已经在test01的方法前面加了@pytest.mark.do了，为什么通过命令行执行的时候，还要用pytest -m do test04.py.感觉直接用pytest test04.pyj就可以了呀或者文件上不加@pytest.mark.do，命令行执行用pytest -m do test04.py","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505679,"discussion_content":"都可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600382771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1184635,"avatar":"https://static001.geekbang.org/account/avatar/00/12/13/7b/22ac5a92.jpg","nickname":"蒸蒸","note":"","ucode":"7130908D56060C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325124,"discussion_content":"@pytest.mark.do 只是添加标记，.do也不是系统级标记，是自定义的，所以在执行的时候需要加-m do告诉python要执行我自定义标记的这个方法\n另外，自定义标记要写在一个ini文件中，文件名必须是pytest\n我是这样理解的，不知道对不对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605239336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1910801,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/28/11/f5d97eb3.jpg","nickname":"Mhc测试","note":"","ucode":"7B95A87CBFC92E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1184635,"avatar":"https://static001.geekbang.org/account/avatar/00/12/13/7b/22ac5a92.jpg","nickname":"蒸蒸","note":"","ucode":"7130908D56060C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337357,"discussion_content":"你的理解应该是对的，我现在又看了一遍，发现就是你这么个意思","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608883147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325124,"ip_address":"","group_id":0},"score":337357,"extra":""}]}]},{"had_liked":false,"id":244709,"user_name":"痕近痕远","can_delete":false,"product_type":"c3","uid":1234652,"ip_address":"","ucode":"1EC697FC345C39","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/dc/c454588f.jpg","comment_is_top":false,"comment_ctime":1598626656,"is_pvip":false,"replies":[{"id":90503,"content":"都可以","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1599226260,"ip_address":"","comment_id":244709,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师，请问一下，mark标记，要和pytest.ini一起使用吗？只用mark标记，然后用pytest -m这种可以吗？两个有什么区别？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504674,"discussion_content":"都可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599226260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370175,"user_name":"金亮","can_delete":false,"product_type":"c3","uid":1366114,"ip_address":"北京","ucode":"D2FE3DA0C53BD7","user_header":"","comment_is_top":false,"comment_ctime":1678452080,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"有这么个场景：数据驱动的参数化执行的一个测试用例函数，需要控制某条用例是否执行执行，这个markers的do标签就不太适用了，是不是得需要数据驱动里有个字段表示是否执行。在测试用例的函数里根据这个字段进行判断执行？","like_count":0}]}
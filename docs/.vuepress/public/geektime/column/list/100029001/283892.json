{"id":283892,"title":"43 | å¦‚ä½•è¿›è¡ŒDockerå®éªŒç¯å¢ƒæ­å»ºï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Chronoã€‚</p><p>ã€Šé€è§†HTTPåè®®ã€‹è¿™ä¸ªä¸“æ æ­£å¼å®Œç»“å·²ç»ä¸€å¹´å¤šäº†ï¼Œæ„Ÿè°¢ä½ çš„æ”¯æŒä¸é¼“åŠ±ã€‚</p><p>è¿™ä¸€å¹´çš„æ—¶é—´ä¸‹æ¥ï¼Œæˆ‘å‘ç°ä¸“æ â€œå®éªŒç¯å¢ƒçš„æ­å»ºâ€ç¡®å®æ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼šè™½ç„¶æˆ‘å·²ç»å°½é‡æŠŠWindowsã€macOSã€Linuxé‡Œçš„æ­å»ºæ­¥éª¤å†™æ¸…æ¥šäº†ï¼Œä½†å› ä¸ºå…·ä½“çš„ç³»ç»Ÿç¯å¢ƒåƒå·®ä¸‡åˆ«ï¼Œæ€»ä¼šæœ‰å„å¼å„æ ·å¥‡æ€ªçš„é—®é¢˜å‡ºç°ï¼Œæ¯”å¦‚ç«¯å£å†²çªã€ç›®å½•æƒé™ç­‰ç­‰ã€‚</p><p>æ‰€ä»¥ï¼Œä¸ºäº†å½»åº•è§£å†³è¿™ä¸ªéº»çƒ¦ï¼Œæˆ‘ç‰¹æ„åˆ¶ä½œäº†ä¸€ä¸ªDockeré•œåƒï¼Œé‡Œé¢æ˜¯å®Œæ•´å¯ç”¨çš„HTTPå®éªŒç¯å¢ƒï¼Œä¸‹é¢æˆ‘å°±æ¥è¯¦ç»†è¯´ä¸€ä¸‹è¯¥æ€ä¹ˆç”¨ã€‚</p><h2>å®‰è£…Dockerç¯å¢ƒ</h2><p>å› ä¸ºæˆ‘ä¸çŸ¥é“ä½ å¯¹Dockeræ˜¯å¦äº†è§£ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æˆ‘è¿˜æ˜¯å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹å®ƒã€‚</p><p>Dockeræ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒåŸºäºLinuxçš„å®¹å™¨æœºåˆ¶ï¼ˆLinux Containersï¼Œç®€ç§°LXCï¼‰ï¼Œä½ å¯ä»¥æŠŠå®ƒè¿‘ä¼¼åœ°ç†è§£æˆæ˜¯ä¸€ä¸ªâ€œè½»é‡çº§çš„è™šæ‹Ÿæœºâ€ï¼Œåªæ¶ˆè€—è¾ƒå°‘çš„èµ„æºå°±èƒ½å®ç°å¯¹è¿›ç¨‹çš„éš”ç¦»ä¿æŠ¤ã€‚</p><p>ä½¿ç”¨Dockerå¯ä»¥æŠŠåº”ç”¨ç¨‹åºå’Œå®ƒç›¸å…³çš„å„ç§ä¾èµ–ï¼ˆå¦‚åº•å±‚åº“ã€ç»„ä»¶ç­‰ï¼‰â€œæ‰“åŒ…â€åœ¨ä¸€èµ·ï¼Œè¿™å°±æ˜¯Dockeré•œåƒï¼ˆDocker imageï¼‰ã€‚Dockeré•œåƒå¯ä»¥è®©åº”ç”¨ç¨‹åºä¸å†é¡¾è™‘ç¯å¢ƒçš„å·®å¼‚ï¼Œåœ¨ä»»æ„çš„ç³»ç»Ÿä¸­ä»¥å®¹å™¨çš„å½¢å¼è¿è¡Œï¼ˆå½“ç„¶å¿…é¡»è¦åŸºäºDockerç¯å¢ƒï¼‰ï¼Œæå¤§åœ°å¢å¼ºäº†åº”ç”¨éƒ¨ç½²çš„çµæ´»æ€§å’Œé€‚åº”æ€§ã€‚</p><!-- [[[read_end]]] --><p>Dockeræ˜¯è·¨å¹³å°çš„ï¼Œæ”¯æŒWindowsã€macOSã€Linuxç­‰æ“ä½œç³»ç»Ÿï¼Œåœ¨Windowsã€macOSä¸Šåªè¦ä¸‹è½½ä¸€ä¸ªå®‰è£…åŒ…ï¼Œç„¶åç®€å•ç‚¹å‡ ä¸‹é¼ æ ‡å°±å¯ä»¥å®Œæˆå®‰è£…ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/24/b2/2490f6a2a514710e0b683d6cdb4614b2.png?wh=1142*558\" alt=\"\"></p><p>ä¸‹é¢æˆ‘ä»¥Ubuntuä¸ºä¾‹ï¼Œè¯´ä¸€ä¸‹åœ¨Linuxä¸Šçš„å®‰è£…æ–¹æ³•ã€‚</p><p>ä½ å¯ä»¥åœ¨Linuxä¸Šç”¨apt-getæˆ–è€…yumå®‰è£…Dockerï¼Œä¸è¿‡æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨Dockerå®˜æ–¹æä¾›çš„è„šæœ¬ï¼Œè‡ªåŠ¨å®Œæˆå…¨å¥—çš„å®‰è£…æ­¥éª¤ã€‚</p><pre><code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n</code></pre><p>å› ä¸ºDockeræ˜¯å›½å¤–ç½‘ç«™ï¼Œç›´æ¥ä»å®˜ç½‘å®‰è£…é€Ÿåº¦å¯èƒ½æ¯”è¾ƒæ…¢ã€‚æ‰€ä»¥ä½ è¿˜å¯ä»¥é€‰æ‹©å›½å†…çš„é•œåƒç½‘ç«™æ¥åŠ å¿«é€Ÿåº¦ï¼Œåƒè¿™é‡Œæˆ‘å°±ä½¿ç”¨â€œâ€“mirrorâ€é€‰é¡¹æŒ‡å®šäº†â€œæŸæŸäº‘â€ã€‚</p><p>Dockeræ˜¯C/Sæ¶æ„ï¼Œå®‰è£…ä¹‹åè¿˜éœ€è¦å†æ‰§è¡Œä¸€æ¡å‘½ä»¤å¯åŠ¨å®ƒçš„æœåŠ¡ã€‚</p><pre><code>sudo service docker start    #Ubuntuå¯åŠ¨dockeræœåŠ¡\n</code></pre><p>æ­¤å¤–ï¼Œæ“ä½œDockerå¿…é¡»è¦æœ‰sudoæƒé™ï¼Œä½ å¯ä»¥ç”¨â€œusermodâ€å‘½ä»¤æŠŠå½“å‰çš„ç”¨æˆ·åŠ å…¥â€œDockerâ€ç»„é‡Œã€‚å¦‚æœå›¾çœäº‹ï¼Œä¹Ÿå¯ä»¥ç”¨sudoå‘½ä»¤ç›´æ¥åˆ‡æ¢æˆrootç”¨æˆ·æ¥æ“ä½œã€‚</p><pre><code>sudo usermod -aG docker ${USER}  #å½“å‰ç”¨æˆ·åŠ å…¥Dockerç»„\nsudo su -                        #æˆ–è€…ç›´æ¥ç”¨rootç”¨æˆ·\n</code></pre><p>è¿™äº›åšå®Œåï¼Œä½ éœ€è¦æ‰§è¡Œå‘½ä»¤â€œ<strong>docker version</strong>â€â€œ<strong>docker info</strong>â€æ¥æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚æ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾ï¼Œæ˜¾ç¤ºçš„å°±æ˜¯æˆ‘ä½¿ç”¨çš„Dockerç¯å¢ƒï¼Œç‰ˆæœ¬æ˜¯â€œ18.06.3-ceâ€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/91/d3ba248bf564yy289a197dab8635c991.png?wh=1142*848\" alt=\"\"></p><h2>è·å–Dockeré•œåƒ</h2><p>å¦‚æœä½ å·²ç»å®‰è£…å¥½äº†Dockerè¿è¡Œç¯å¢ƒï¼Œç°åœ¨å°±å¯ä»¥ä»Docker Hubä¸Šè·å–è¯¾ç¨‹ç›¸åº”çš„Dockeré•œåƒæ–‡ä»¶äº†ï¼Œç”¨çš„æ˜¯â€œ<strong>docker pull</strong>â€å‘½ä»¤ã€‚</p><pre><code>docker pull chronolaw/http_study\n</code></pre><p>è¿™ä¸ªé•œåƒé‡Œæ‰“åŒ…äº†æ“ä½œç³»ç»ŸUbuntu 18.04å’Œæœ€æ–°çš„Openresty 1.17.8.2ï¼Œè¿˜æœ‰é¡¹ç›®çš„å…¨éƒ¨ç¤ºä¾‹ä»£ç ã€‚ä¸ºäº†æ–¹ä¾¿ä½ å­¦ä¹ ï¼Œæˆ‘è¿˜åœ¨é‡Œé¢åŠ å…¥äº†Vimã€Gitã€Telnetã€Curlã€Tcpdumpç­‰å®ç”¨å·¥å…·ã€‚</p><p>ç”±äºé•œåƒé‡Œçš„ä¸œè¥¿å¤šï¼Œæ‰€ä»¥ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œä¸‹è½½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œä½ è¦æœ‰ç‚¹è€å¿ƒã€‚é•œåƒä¸‹è½½å®Œæˆä¹‹åï¼Œä½ å¯ä»¥ç”¨â€œDocker imagesâ€æ¥æŸ¥çœ‹ç»“æœï¼Œåˆ—å‡ºç›®å‰æœ¬åœ°çš„æ‰€æœ‰é•œåƒæ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/07/22/0779b1016002f4bdafc6a785c991ba22.png?wh=1142*75\" alt=\"\"></p><p>ä»å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªé•œåƒçš„åå­—æ˜¯â€œchronolaw/http_studyâ€ï¼Œå¤§å°æ˜¯645MBã€‚</p><h2>å¯åŠ¨Dockerå®¹å™¨</h2><p>æœ‰äº†é•œåƒæ–‡ä»¶ï¼Œä½ å°±å¯ä»¥ç”¨â€œ<strong>docker run</strong>â€å‘½ä»¤ï¼Œä»é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨äº†ã€‚</p><p>è¿™é‡Œé¢å°±æ˜¯æˆ‘ä»¬å®Œæ•´çš„HTTPå®éªŒç¯å¢ƒï¼Œä¸éœ€è¦å†æ“å¿ƒè¿™æ ·ã€é‚£æ ·çš„é—®é¢˜äº†ï¼Œåšåˆ°äº†çœŸæ­£çš„â€œå¼€ç®±å³ç”¨â€ã€‚</p><pre><code>docker run -it --rm chronolaw/http_study\n</code></pre><p>å¯¹äºä¸Šé¢è¿™æ¡å‘½ä»¤ï¼Œæˆ‘è¿˜è¦ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼šâ€œ-itâ€å‚æ•°è¡¨ç¤ºå¼€å¯ä¸€ä¸ªäº¤äº’å¼çš„Shellï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯bashï¼›â€œâ€“rmâ€å‚æ•°è¡¨ç¤ºå®¹å™¨æ˜¯â€œç”¨å®Œå³æ‰”â€ï¼Œä¸ä¿å­˜å®¹å™¨å®ä¾‹ï¼Œä¸€æ—¦é€€å‡ºShellå°±ä¼šè‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼ˆä½†ä¸ä¼šåˆ é™¤é•œåƒï¼‰ï¼Œå…å»äº†ç®¡ç†å®¹å™¨çš„éº»çƒ¦ã€‚</p><p>â€œdocker runâ€ä¹‹åï¼Œä½ å°±ä¼šåƒè™šæ‹Ÿæœºä¸€æ ·è¿›å…¥å®¹å™¨çš„è¿è¡Œç¯å¢ƒï¼Œè¿™é‡Œå°±æ˜¯Ubuntu 18.04ï¼Œèº«ä»½ä¹Ÿè‡ªåŠ¨å˜æˆäº†rootç”¨æˆ·ï¼Œå¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·çš„ã€‚</p><pre><code>docker run -it --rm chronolaw/http_study\n\nroot@8932f62c972:/#\n</code></pre><p>é¡¹ç›®çš„æºç æˆ‘æ”¾åœ¨äº†rootç”¨æˆ·ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥ç›´æ¥è¿›å…¥â€œ<strong>http_study/www</strong>â€ç›®å½•ï¼Œç„¶åæ‰§è¡Œâ€œ<strong>run.sh</strong>â€å¯åŠ¨OpenRestyæœåŠ¡ï¼ˆå¯å‚è€ƒ<a href=\"https://time.geekbang.org/column/article/146833\">ç¬¬41è®²</a>ï¼‰ã€‚</p><pre><code>cd ~/http_study/www\n./run.sh start\n</code></pre><p>ä¸è¿‡å› ä¸ºDockerè‡ªèº«çš„é™åˆ¶ï¼Œé•œåƒé‡Œçš„hostsæ–‡ä»¶ä¸èƒ½ç›´æ¥æ·»åŠ â€œ<a href=\"http://www.chrono.com\">www.chrono.com</a>â€ç­‰å®éªŒåŸŸåçš„è§£æã€‚å¦‚æœä½ æƒ³è¦åœ¨URIé‡Œä½¿ç”¨åŸŸåï¼Œå°±å¿…é¡»åœ¨å®¹å™¨å¯åŠ¨åæ‰‹åŠ¨ä¿®æ”¹hostsæ–‡ä»¶ï¼Œç”¨Vimæˆ–è€…catéƒ½å¯ä»¥ã€‚</p><pre><code>vim /etc/hosts                        #æ‰‹åŠ¨ç¼–è¾‘hostsæ–‡ä»¶\ncat ~/http_study/hosts &gt;&gt; /etc/hosts  #catè¿½åŠ åˆ°hostsæœ«å°¾\n</code></pre><p>å¦ä¸€ç§æ–¹å¼æ˜¯åœ¨â€œdocker runâ€çš„æ—¶å€™ç”¨â€œ<strong>â€“add-host</strong>â€å‚æ•°ï¼Œæ‰‹åŠ¨æŒ‡å®šåŸŸå/IPçš„æ˜ å°„å…³ç³»ã€‚</p><pre><code>docker run -it --rm --add-host=www.chrono.com:127.0.0.1 chronolaw/http_study \n</code></pre><p>ä¿é™©èµ·è§ï¼Œæˆ‘å»ºè®®ä½ è¿˜æ˜¯ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒå¥½ã€‚ä¹Ÿå°±æ˜¯å¯åŠ¨å®¹å™¨åï¼Œç”¨â€œcatâ€å‘½ä»¤ï¼ŒæŠŠå®éªŒåŸŸåçš„è§£æè¿½åŠ åˆ°hostsæ–‡ä»¶é‡Œï¼Œç„¶åå†å¯åŠ¨OpenRestyæœåŠ¡ã€‚</p><pre><code>docker run -it --rm chronolaw/http_study\n\ncat ~/http_study/hosts &gt;&gt; /etc/hosts\ncd ~/http_study/www\n./run.sh start\n</code></pre><h2>åœ¨Dockerå®¹å™¨é‡Œåšå®éªŒ</h2><p>æŠŠä¸Šé¢çš„å·¥ä½œéƒ½åšå®Œä¹‹åï¼Œæˆ‘ä»¬çš„å®éªŒç¯å¢ƒå°±ç®—æ˜¯å®Œç¾åœ°è¿è¡Œèµ·æ¥äº†ï¼Œç°åœ¨ä½ å°±å¯ä»¥åœ¨é‡Œé¢ä»»æ„éªŒè¯å„èŠ‚è¯¾é‡Œçš„ç¤ºä¾‹äº†ï¼Œæˆ‘æ¥ä¸¾å‡ ä¸ªä¾‹å­ã€‚</p><p>ä¸è¿‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘è¦æé†’ä½ ä¸€ç‚¹ï¼Œå› ä¸ºè¿™ä¸ªDockeré•œåƒæ˜¯åŸºäºLinuxçš„ï¼Œæ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œæ‰€ä»¥åªèƒ½ç”¨å‘½ä»¤è¡Œï¼ˆæ¯”å¦‚telnetã€curlï¼‰æ¥è®¿é—®HTTPæœåŠ¡ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŸ¥ä¸€ä¸‹èµ„æ–™ï¼Œè®©å®¹å™¨å¯¹å¤–æš´éœ²80ç­‰ç«¯å£ï¼ˆæ¯”å¦‚ä½¿ç”¨å‚æ•°â€œâ€“net=hostâ€ï¼‰ï¼Œåœ¨å¤–éƒ¨ç”¨æµè§ˆå™¨æ¥è®¿é—®ï¼Œè¿™é‡Œæˆ‘å°±ä¸ç»†è¯´äº†ã€‚</p><p>å…ˆæ¥çœ‹æœ€ç®€å•çš„ï¼Œ<a href=\"https://time.geekbang.org/column/article/100124\">ç¬¬7è®²</a>é‡Œçš„æµ‹è¯•å®éªŒç¯å¢ƒï¼Œç”¨curlæ¥è®¿é—®localhostï¼Œä¼šè¾“å‡ºä¸€ä¸ªæ–‡æœ¬å½¢å¼çš„HTMLæ–‡ä»¶å†…å®¹ã€‚</p><pre><code>curl http://localhost      #è®¿é—®æœ¬æœºçš„HTTPæœåŠ¡\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/30/1a/30671d607d6cb74076c467bab1b95b1a.png?wh=1142*697\" alt=\"\"></p><p>ç„¶åæˆ‘ä»¬æ¥çœ‹<a href=\"https://time.geekbang.org/column/article/100513\">ç¬¬9è®²</a>ï¼Œç”¨telnetæ¥è®¿é—®HTTPæœåŠ¡ï¼Œè¾“å…¥â€œ<strong>telnet 127.0.0.1 80</strong>â€ï¼Œå›è½¦ï¼Œå°±è¿›å…¥äº†telnetç•Œé¢ã€‚</p><p>Linuxä¸‹çš„telnetæ“ä½œè¦æ¯”Windowsçš„å®¹æ˜“ä¸€äº›ï¼Œä½ å¯ä»¥ç›´æ¥æŠŠHTTPè¯·æ±‚æŠ¥æ–‡å¤åˆ¶ç²˜è´´è¿›å»ï¼Œå†æŒ‰ä¸¤ä¸‹å›è½¦å°±è¡Œäº†ï¼Œç»“æŸtelnetå¯ä»¥ç”¨â€œCtrl+Câ€ã€‚</p><pre><code>GET /09-1 HTTP/1.1\nHost:   www.chrono.com\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/8d/fa/8d40c02c57b13835c8dd92bda97fa3fa.png?wh=1142*778\" alt=\"\"></p><p>å®éªŒç¯å¢ƒé‡Œæµ‹è¯•HTTPSå’ŒHTTP/2ä¹Ÿæ˜¯æ¯«æ— é—®é¢˜çš„ï¼Œåªè¦ä½ æŒ‰ä¹‹å‰è¯´çš„ï¼Œæ­£ç¡®ä¿®æ”¹äº†hostsåŸŸåè§£æï¼Œå°±å¯ä»¥ç”¨curlæ¥è®¿é—®ï¼Œä½†è¦åŠ ä¸Šâ€œ<strong>-k</strong>â€å‚æ•°æ¥å¿½ç•¥è¯ä¹¦éªŒè¯ã€‚</p><pre><code>curl https://www.chrono.com/23-1 -vk\ncurl https://www.metroid.net:8443/30-1 -vk\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/yy/94/yyff754d5fbe34cd2dfdb002beb00094.png?wh=1142*714\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/69/51/69163cc988f8b95cf906cd4dbcyy3151.png?wh=1142*171\" alt=\"\"></p><p>è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œå› ä¸ºDockeré•œåƒé‡Œçš„Openresty 1.17.8.2å†…ç½®äº†OpenSSL1.1.1gï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯TLS1.3ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³è¦æµ‹è¯•TLS1.2çš„è¯ï¼Œéœ€è¦ä½¿ç”¨å‚æ•°â€œ<strong>â€“tlsv1.2</strong>â€ã€‚</p><pre><code>curl https://www.chrono.com/30-1 -k --tlsv1.2\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/b6/aa/b62a2278b73a4f264a14a04f0058cbaa.png?wh=1142*167\" alt=\"\"></p><h2>åœ¨Dockerå®¹å™¨é‡ŒæŠ“åŒ…</h2><p>åˆ°è¿™é‡Œï¼Œè¯¾ç¨‹ä¸­çš„å¤§éƒ¨åˆ†ç¤ºä¾‹éƒ½å¯ä»¥è¿è¡Œäº†ã€‚æœ€åæˆ‘å†ç¤ºèŒƒä¸€ä¸‹åœ¨Dockerå®¹å™¨é‡ŒtcpdumpæŠ“åŒ…çš„ç”¨æ³•ã€‚</p><p>é¦–å…ˆï¼Œä½ è¦æŒ‡å®šæŠ“å–çš„åè®®ã€åœ°å€å’Œç«¯å£å·ï¼Œå†ç”¨â€œ-wâ€æŒ‡å®šå­˜å‚¨ä½ç½®ï¼Œå¯åŠ¨tcpdumpåæŒ‰â€œCtrl+Zâ€è®©å®ƒåœ¨åå°è¿è¡Œã€‚æ¯”å¦‚ä¸ºäº†æµ‹è¯•TLS1.3ï¼Œå°±å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œï¼ŒæŠ“å–HTTPSçš„443ç«¯å£ï¼Œå­˜æ”¾åˆ°â€œ/tmpâ€ç›®å½•ã€‚</p><pre><code>tcpdump tcp port 443 -i lo -w /tmp/a.pcap\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬æ‰§è¡Œä»»æ„çš„telnetæˆ–è€…curlå‘½ä»¤ï¼Œå®ŒæˆHTTPè¯·æ±‚ä¹‹åï¼Œè¾“å…¥â€œfgâ€æ¢å¤tcpdumpï¼Œå†æŒ‰â€œCtrl+Câ€ï¼Œè¿™æ ·æŠ“åŒ…å°±ç»“æŸäº†ã€‚</p><p>å¯¹äºHTTPSéœ€è¦å¯¼å‡ºå¯†é’¥çš„æƒ…å½¢ï¼Œä½ å¿…é¡»åœ¨curlè¯·æ±‚çš„åŒæ—¶æŒ‡å®šç¯å¢ƒå˜é‡â€œSSLKEYLOGFILEâ€ï¼Œä¸ç„¶æŠ“åŒ…è·å–çš„æ•°æ®æ— æ³•è§£å¯†ï¼Œä½ å°±åªèƒ½çœ‹åˆ°ä¹±ç äº†ã€‚</p><pre><code>SSLKEYLOGFILE=/tmp/a.log curl https://www.chrono.com/11-1 -k\n</code></pre><p>æˆ‘æŠŠå®Œæ•´çš„æŠ“åŒ…è¿‡ç¨‹æˆªäº†ä¸ªå›¾ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/40/40/40f3c47814a174a4d135316b7cfdcf40.png?wh=1142*487\" alt=\"\"></p><p>æŠ“åŒ…ç”Ÿæˆçš„æ–‡ä»¶åœ¨å®¹å™¨å…³é—­åå°±ä¼šæ¶ˆå¤±ï¼Œæ‰€ä»¥è¿˜è¦ç”¨â€œ<strong>docker cp</strong>â€å‘½ä»¤åŠæ—¶ä»å®¹å™¨é‡Œæ‹·å‡ºæ¥ï¼ˆæŒ‡å®šå®¹å™¨çš„IDï¼Œçœ‹æç¤ºç¬¦ï¼Œæˆ–è€…ç”¨â€œdocker ps -aâ€æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥ä»GitHubä»“åº“é‡Œè·å–43-1.pcap/43-1.logï¼‰ã€‚</p><pre><code>docker cp xxx:/tmp/a.pcap .  #éœ€è¦æŒ‡å®šå®¹å™¨çš„ID\ndocker cp xxx:/tmp/a.log .   #éœ€è¦æŒ‡å®šå®¹å™¨çš„ID\n</code></pre><p>ç°åœ¨æœ‰äº†pcapæ–‡ä»¶å’Œlogæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨Wiresharkæ¥çœ‹ç½‘ç»œæ•°æ®ï¼Œç»†è‡´åœ°åˆ†æHTTP/HTTPSé€šä¿¡è¿‡ç¨‹äº†ï¼ˆHTTPSè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹Wiresharkï¼Œè§<a href=\"https://time.geekbang.org/column/article/110354\">ç¬¬26è®²</a>ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1a/bf/1ab18685ca765e8050b58ee76abd3cbf.png?wh=1142*438\" alt=\"\"></p><p>åœ¨è¿™ä¸ªåŒ…é‡Œï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œé€šä¿¡æ—¶ä½¿ç”¨çš„æ˜¯TLS1.3åè®®ï¼ŒæœåŠ¡å™¨é€‰æ‹©çš„å¯†ç å¥—ä»¶æ˜¯TLS_AES_256_GCM_SHA384ã€‚</p><p>æŒæ¡äº†tcpdumpçš„ç”¨æ³•ä¹‹åï¼Œä½ ä¹Ÿå¯ä»¥å†å‚è€ƒ<a href=\"https://time.geekbang.org/column/article/110718\">ç¬¬27è®²</a>ï¼Œæ”¹æ”¹Nginxé…ç½®æ–‡ä»¶ï¼Œè‡ªå·±æŠ“åŒ…ä»”ç»†ç ”ç©¶TLS1.3åè®®çš„â€œsupported_versionsâ€â€œkey_shareâ€â€œserver_nameâ€ç­‰å„ä¸ªæ‰©å±•åè®®ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©è®²äº†Dockerå®éªŒç¯å¢ƒçš„æ­å»ºï¼Œæˆ‘å†å°ç»“ä¸€ä¸‹è¦ç‚¹ã€‚</p><ol>\n<li>Dockeræ˜¯ä¸€ç§éå¸¸æµè¡Œçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥è¿‘ä¼¼åœ°æŠŠå®ƒç†è§£æˆæ˜¯ä¸€ä¸ªâ€œè½»é‡çº§çš„è™šæ‹Ÿæœºâ€ï¼›</li>\n<li>å¯ä»¥ç”¨â€œdocker pullâ€å‘½ä»¤ä»Docker Hubä¸Šè·å–è¯¾ç¨‹ç›¸åº”çš„Dockeré•œåƒæ–‡ä»¶ï¼›</li>\n<li>å¯ä»¥ç”¨â€œdocker runâ€å‘½ä»¤ä»é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢æ˜¯å®Œæ•´çš„HTTPå®éªŒç¯å¢ƒï¼Œæ”¯æŒTLS1.3ï¼›</li>\n<li>å¯ä»¥åœ¨Dockerå®¹å™¨é‡Œä»»æ„éªŒè¯å„èŠ‚è¯¾é‡Œçš„ç¤ºä¾‹ï¼Œä½†éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œå½¢å¼çš„telnetæˆ–è€…curlï¼›</li>\n<li>æŠ“åŒ…éœ€è¦ä½¿ç”¨tcpdumpï¼ŒæŒ‡å®šæŠ“å–çš„åè®®ã€åœ°å€å’Œç«¯å£å·ï¼›</li>\n<li>å¯¹äºHTTPSï¼Œéœ€è¦æŒ‡å®šç¯å¢ƒå˜é‡â€œSSLKEYLOGFILEâ€å¯¼å‡ºå¯†é’¥ï¼Œå†å‘é€curlè¯·æ±‚ã€‚</li>\n</ol><p>å¾ˆé«˜å…´æ—¶éš”ä¸€å¹´åå†æ¬¡ä¸ä½ è§é¢ï¼Œä»Šå¤©å°±åˆ°è¿™é‡Œå§ï¼ŒæœŸå¾…ä¸‹æ¬¡HTTP/3å‘å¸ƒæ—¶çš„ç›¸ä¼šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/26/e3/26bbe56074b40fd5c259f396ddcfd6e3.png?wh=750*892\" alt=\"\"></p>","neighbors":{"left":{"article_title":"42 | DHE/ECDHEç®—æ³•çš„åŸç†","id":148188},"right":{"article_title":"44 | å…ˆç¹ä¸ºå¿«ï¼šHTTP/3å®éªŒç‰ˆæœ¬é•¿ä»€ä¹ˆæ ·å­ï¼Ÿ","id":347446}},"comments":[{"had_liked":false,"id":247431,"user_name":"Howard.Wundt","can_delete":false,"product_type":"c1","uid":1202030,"ip_address":"","ucode":"A94474F731C816","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/6e/ae14e53b.jpg","comment_is_top":false,"comment_ctime":1599707400,"is_pvip":false,"replies":[{"id":"90887","content":"ç›®å‰çœ‹æ¥è¿˜æ²¡æœ‰åŒé‡çº§çš„å¯¹æ‰‹ï¼Œdockerå·²ç»ç®—æ˜¯äº‹å®æ ‡å‡†äº†ï¼Œè€Œä¸”è¿˜æœ‰å›´ç»•å®ƒçš„å¾ˆå¤šç”Ÿæ€ï¼Œæ¯”å¦‚k8sï¼Œæƒ³è¦æ›¿ä»£çŸ­æ—¶æœŸå†…çœ‹ä¸åˆ°å¯èƒ½æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599711368,"ip_address":"","comment_id":247431,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18779576584","product_id":100029001,"comment_content":"é¦–å…ˆç¥è€å¸ˆæ•™å¸ˆèŠ‚å¿«ä¹ï¼å¾ˆæœŸå¾…ç€ä¸è€å¸ˆçš„é‡é€¢ã€‚æœ‰ä¸ªé—®é¢˜è¯·æ•™è€å¸ˆï¼šè½»é‡åŒ–è™šæ‹ŸæœºæŠ€æœ¯é™¤äº†Docker å¤–è¿˜æœ‰å…¶ä»–é€‰æ‹©å—ï¼ŸDocker ç°åœ¨çš„æ”¿æ²»åŒ–è®©äººå¾ˆä¸èˆ’æœã€‚","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505397,"discussion_content":"ç›®å‰çœ‹æ¥è¿˜æ²¡æœ‰åŒé‡çº§çš„å¯¹æ‰‹ï¼Œdockerå·²ç»ç®—æ˜¯äº‹å®æ ‡å‡†äº†ï¼Œè€Œä¸”è¿˜æœ‰å›´ç»•å®ƒçš„å¾ˆå¤šç”Ÿæ€ï¼Œæ¯”å¦‚k8sï¼Œæƒ³è¦æ›¿ä»£çŸ­æ—¶æœŸå†…çœ‹ä¸åˆ°å¯èƒ½æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599711368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3024820,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/27/b4/df65c0f7.jpg","nickname":"| ~æµ‘è›‹~","note":"","ucode":"B6904B44DFA805","race_medal":4,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592134,"discussion_content":"multipassä¹ŸæŒºå¥½ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667140003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259535,"user_name":"Shanks-ç‹å†²","can_delete":false,"product_type":"c1","uid":1042983,"ip_address":"","ucode":"C4B90A17850E20","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/27/a3737d61.jpg","comment_is_top":false,"comment_ctime":1604747083,"is_pvip":false,"replies":[{"id":"94380","content":"dockeræŒºå¥½ç©çš„ï¼Œæˆ‘ä¹‹å‰ä¹Ÿæ˜¯ä¸å¤ªç†Ÿæ‚‰ï¼Œå¶ç„¶ä¸€æ¥è§¦ï¼Œæ“ä½œäº†å‡ ä¸‹å°±ä¼šç”¨äº†ï¼Œç„¶åå°±ç ”ç©¶äº†ä¸‹å»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1604819616,"ip_address":"","comment_id":259535,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10194681675","product_id":100029001,"comment_content":"è°¢è°¢è€å¸ˆçš„Docker tutorial quick guideï¼Œè®©æˆ‘å¯¹Dockeræœ‰äº†fist touchï¼›å‰å‡ å¤©çœ‹Androidå¼€å‘çš„æŠ€æœ¯åšå®¢æ—¶ï¼Œä¸çŸ¥æ€ä¹ˆåœ°å°±è·³åˆ°Dockerå®˜ç½‘ï¼Œå¹¶ç§äº†ç§ï¼Œæ²¡æ•¢ä¸‹è½½æ¥ç©ï¼›ä½†ä»Šå¤©åˆæœºç¼˜å·§åˆçœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼ŒI just pulledï¼Œæ„Ÿè°¢è€å¸ˆï¼","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508953,"discussion_content":"dockeræŒºå¥½ç©çš„ï¼Œæˆ‘ä¹‹å‰ä¹Ÿæ˜¯ä¸å¤ªç†Ÿæ‚‰ï¼Œå¶ç„¶ä¸€æ¥è§¦ï¼Œæ“ä½œäº†å‡ ä¸‹å°±ä¼šç”¨äº†ï¼Œç„¶åå°±ç ”ç©¶äº†ä¸‹å»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604819616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311852,"user_name":"silence","can_delete":false,"product_type":"c1","uid":1540936,"ip_address":"","ucode":"92689E713088CB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/eHNmzejyQW9Ag5g3EELS1d9pTgJsvxC7CxSCxIFQqeFLXUDT52HWianQWzw14kaAT4P9UhTUSNficc9W5DlWZWJQ/132","comment_is_top":false,"comment_ctime":1631506438,"is_pvip":false,"replies":[{"id":"113012","content":"æ„Ÿè§‰åƒæ˜¯ç½‘ç»œçš„é—®é¢˜ï¼Œå¦‚æœå¯èƒ½çš„è¯æ¢ä¸ªç¯å¢ƒå†åšå®éªŒï¼Œæ¯”å¦‚dockeré•œåƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1631521285,"ip_address":"","comment_id":311852,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5926473734","product_id":100029001,"comment_content":"è€å¸ˆè¯·é—®æˆ‘åœ¨æµ‹è¯•tcpdumpæŠ“åŒ…çš„æ—¶å€™ï¼Œå°†æ‚¨çš„å‘½ä»¤ç²˜è´´è¿›å»<br>tcpdump tcp port 443 -i lo -w &#47;tmp&#47;a.pcap<br>æŠ¥äº†ä»¥ä¸‹é”™è¯¯æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<br>tcpdump: lo: SIOCETHTOOL(ETHTOOL_GET_TS_INFO) ioctl failed: Function not implemented","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526772,"discussion_content":"æ„Ÿè§‰åƒæ˜¯ç½‘ç»œçš„é—®é¢˜ï¼Œå¦‚æœå¯èƒ½çš„è¯æ¢ä¸ªç¯å¢ƒå†åšå®éªŒï¼Œæ¯”å¦‚dockeré•œåƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631521285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1540936,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/eHNmzejyQW9Ag5g3EELS1d9pTgJsvxC7CxSCxIFQqeFLXUDT52HWianQWzw14kaAT4P9UhTUSNficc9W5DlWZWJQ/132","nickname":"silence","note":"","ucode":"92689E713088CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393848,"discussion_content":"2021å¹´è¿˜èƒ½æ”¶åˆ°è€å¸ˆå›å¤ï¼Œå¤ªæ•¬ä¸šäº†ï¼Œæ„Ÿè°¢è€å¸ˆ(â—Â°uÂ°â—)â€‹Â ã€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631617904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249314,"user_name":"Geek_78044b","can_delete":false,"product_type":"c1","uid":2172245,"ip_address":"","ucode":"28DA345B0C5D43","user_header":"","comment_is_top":false,"comment_ctime":1600589205,"is_pvip":false,"replies":[{"id":"91452","content":"å—¯ï¼Œè¿™ä¸ªä¹Ÿè·Ÿè¯¾ç¨‹çš„æ€»ä½“è®¾è®¡æœ‰å…³ï¼Œä¸€èˆ¬éƒ½æ˜¯è¦ç”±æµ…å…¥æ·±å¾ªåºæ¸è¿›ï¼Œå°½é‡å…¨é¢è¦†ç›–çŸ¥è¯†ç‚¹ã€‚å¦‚æœåŸºç¡€å¥½å¯ä»¥è·³è¿‡å‰é¢çš„ï¼Œç›´æ¥çœ‹åé¢æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1600594135,"ip_address":"","comment_id":249314,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5895556501","product_id":100029001,"comment_content":"è€å¸ˆç¡®å®å¾ˆæ•¬ä¸šï¼Œæœ€è¿‘åˆšä¹°äº†è¯¾ç¨‹ï¼Œä¸€å‘¨å¤šæ—¶é—´å¿«é€Ÿå­¦ä¹ äº†ä¸€ç¯‡ï¼Œå¼€å§‹çš„ç ´å†°ç¯‡ç¡®å®ç‰¹åˆ«åŸºç¡€ï¼Œæˆ‘è¿˜ä»¥ä¸ºè¿™é—¨ç§‘æ˜¯åªé’ˆå¯¹çš„åˆå­¦è€…çš„ï¼Œæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œåé¢è®²http1.1ï¼Œ 2ï¼Œ 3ï¼Œ å®‰å…¨ç¯‡ç­‰éƒ½è¿˜æ˜¯æ¯”è¾ƒæœ‰æ·±åº¦ï¼Œæ„Ÿè°¢è€å¸ˆçš„ä»˜å‡ºã€‚","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505894,"discussion_content":"å—¯ï¼Œè¿™ä¸ªä¹Ÿè·Ÿè¯¾ç¨‹çš„æ€»ä½“è®¾è®¡æœ‰å…³ï¼Œä¸€èˆ¬éƒ½æ˜¯è¦ç”±æµ…å…¥æ·±å¾ªåºæ¸è¿›ï¼Œå°½é‡å…¨é¢è¦†ç›–çŸ¥è¯†ç‚¹ã€‚å¦‚æœåŸºç¡€å¥½å¯ä»¥è·³è¿‡å‰é¢çš„ï¼Œç›´æ¥çœ‹åé¢æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600594135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247418,"user_name":"å¤§åœŸè±†","can_delete":false,"product_type":"c1","uid":1121636,"ip_address":"","ucode":"67445DC3EC9DB0","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg","comment_is_top":false,"comment_ctime":1599704562,"is_pvip":true,"replies":[{"id":"90880","content":"ç°åœ¨åªæ˜¯è‰æ¡ˆï¼Œè™½ç„¶è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒï¼Œä½†ä¼°è®¡å’Œæœ€ç»ˆç‰ˆå·®è·ä¸ä¼šå¤ªå¤§ï¼Œæ‰€ä»¥å¤§å®¶éƒ½æå‰åšã€‚<br><br>å‘å¸ƒä¼šè‚¯å®šæ˜¯ä¸ä¼šæœ‰çš„ï¼Œä¸ä¼šé‚£ä¹ˆå¤¸å¼ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599706197,"ip_address":"","comment_id":247418,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5894671858","product_id":100029001,"comment_content":"HTTP&#47;3ä¼šæœ‰ä¸ªæ­£å¼çš„å‘å¸ƒä¼šå—ã€‚ã€‚ã€‚æˆ‘çœ‹ç°åœ¨å¿«æ‰‹å’Œç™¾åº¦ï¼ŒHTTP3éƒ½å·²ç»åœ¨çº¿ä¸Šç”¨äº†","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505394,"discussion_content":"ç°åœ¨åªæ˜¯è‰æ¡ˆï¼Œè™½ç„¶è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒï¼Œä½†ä¼°è®¡å’Œæœ€ç»ˆç‰ˆå·®è·ä¸ä¼šå¤ªå¤§ï¼Œæ‰€ä»¥å¤§å®¶éƒ½æå‰åšã€‚\n\nå‘å¸ƒä¼šè‚¯å®šæ˜¯ä¸ä¼šæœ‰çš„ï¼Œä¸ä¼šé‚£ä¹ˆå¤¸å¼ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599706197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247394,"user_name":"é»é»é»ï¼Œç‚¹é¡›","can_delete":false,"product_type":"c1","uid":1790368,"ip_address":"","ucode":"1BC77F6E044650","user_header":"https://static001.geekbang.org/account/avatar/00/1b/51/a0/5db02ac2.jpg","comment_is_top":false,"comment_ctime":1599699912,"is_pvip":false,"replies":[{"id":"90877","content":"ç­‰ä»¥åhttp&#47;3æ—¶å†ç›¸èšã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599704382,"ip_address":"","comment_id":247394,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5894667208","product_id":100029001,"comment_content":"è€å¸ˆæ•™å¸ˆèŠ‚å¿«ä¹ğŸ˜ã€‚æ„Ÿè°¢è€å¸ˆè¿˜è®°å¾—æˆ‘ä»¬","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505387,"discussion_content":"ç­‰ä»¥åhttp/3æ—¶å†ç›¸èšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599704382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247393,"user_name":"dongge","can_delete":false,"product_type":"c1","uid":1008016,"ip_address":"","ucode":"CEFE4D0CC42907","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/90/de8c61a0.jpg","comment_is_top":false,"comment_ctime":1599699287,"is_pvip":true,"replies":[{"id":"90878","content":"thanksã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599704393,"ip_address":"","comment_id":247393,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5894666583","product_id":100029001,"comment_content":"å¥½æ•¬ä¸šã€‚","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505386,"discussion_content":"thanksã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599704393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247371,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1599680519,"is_pvip":false,"replies":[{"id":"90870","content":"æ„Ÿè°¢æ”¯æŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599699199,"ip_address":"","comment_id":247371,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5894647815","product_id":100029001,"comment_content":"<br>æœŸå¾…å†æ¬¡ä¸è€å¸ˆç›¸ä¼šï¼Œ<br>è°¢è°¢è€å¸ˆï¼","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505380,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599699199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247359,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1599668153,"is_pvip":false,"replies":[{"id":"90871","content":"nice to meet you again.","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599699217,"ip_address":"","comment_id":247359,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5894635449","product_id":100029001,"comment_content":"è€å¸ˆï¼Œå¾ˆæ£’ğŸ‘ğŸ»ï¼","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505377,"discussion_content":"nice to meet you again.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599699217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327570,"user_name":"å¿§å¤©å°é¸¡","can_delete":false,"product_type":"c1","uid":1073947,"ip_address":"","ucode":"A1412BDC108FD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/1b/83ac7733.jpg","comment_is_top":false,"comment_ctime":1640172620,"is_pvip":false,"replies":[{"id":"119242","content":"dockerå¾ˆå¥½ç©ï¼Œç°åœ¨å®¹å™¨åŒ–æ˜¯å¤§è¶‹åŠ¿ï¼Œæ—©å­¦æœ‰å¥½å¤„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1640214401,"ip_address":"","comment_id":327570,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640172620","product_id":100029001,"comment_content":"åˆå­¦äº†ä¸€ç‚¹ç‚¹dockerï¼Œå¾ˆæ£’çš„ä½“éªŒï¼Œè®¤çœŸè´Ÿè´£","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540927,"discussion_content":"dockerå¾ˆå¥½ç©ï¼Œç°åœ¨å®¹å™¨åŒ–æ˜¯å¤§è¶‹åŠ¿ï¼Œæ—©å­¦æœ‰å¥½å¤„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640214401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316642,"user_name":"dongge","can_delete":false,"product_type":"c1","uid":1008016,"ip_address":"","ucode":"CEFE4D0CC42907","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/90/de8c61a0.jpg","comment_is_top":false,"comment_ctime":1634468895,"is_pvip":true,"replies":[{"id":"114646","content":"many thanks.","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1634516583,"ip_address":"","comment_id":316642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634468895","product_id":100029001,"comment_content":"Chronoè€å¸ˆï¼Œæ˜¯æˆ‘åœ¨æå®¢æ—¶é—´è§è¿‡çš„æœ€è´Ÿè´£çš„è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528443,"discussion_content":"many thanks.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634516583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254460,"user_name":"zha.qiang","can_delete":false,"product_type":"c1","uid":1039136,"ip_address":"","ucode":"49AFC57D32D80C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/20/491dd5cc.jpg","comment_is_top":false,"comment_ctime":1603118152,"is_pvip":false,"replies":[{"id":"92874","content":"æ„Ÿè°¢æŒ‡æ­£ï¼Œä¼šè”ç³»ç¼–è¾‘å°½å¿«ä¿®å¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1603155840,"ip_address":"","comment_id":254460,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603118152","product_id":100029001,"comment_content":"Found a typo:<br><br>```<br>cuåŠ l https:&#47;&#47;www.chrono.com&#47;30-1 -k --tlsv1.2<br>```","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507406,"discussion_content":"æ„Ÿè°¢æŒ‡æ­£ï¼Œä¼šè”ç³»ç¼–è¾‘å°½å¿«ä¿®å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603155840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247503,"user_name":"candy","can_delete":false,"product_type":"c1","uid":1449024,"ip_address":"","ucode":"9CA127B28F1058","user_header":"","comment_is_top":false,"comment_ctime":1599727986,"is_pvip":false,"replies":[{"id":"90911","content":"ä¸å®¢æ°”ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä½ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1599743937,"ip_address":"","comment_id":247503,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1599727986","product_id":100029001,"comment_content":"è°¢è°¢è€å¸ˆï¼ŒèŠ‚æ—¥å¿«ä¹ï¼è¿˜å»ºç«‹äº†é•œåƒï¼Œå­¦ä¹ æ›´æ–¹ä¾¿äº†","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505419,"discussion_content":"ä¸å®¢æ°”ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä½ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599743937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2586118,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7yz4laYtdBNmK7zngt4RibfVbnM4dLr531h5BrCsphxw72XOpBlQOiazoKPYvWxDA3oHkQta5p6Yrw/132","nickname":"Geek_bb819e","note":"","ucode":"4D11DD85D32FFC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580495,"discussion_content":"è€å¸ˆå¥½,è¿™äº›æµ‹è¯•çš„URIåªèƒ½åœ¨å®¹å™¨å†…è®¿é—®å—?æˆ‘åœ¨dockerçš„å®¿ä¸»æœºä¸Šè®¿é—®æ—¶æç¤ºè®¿é—®æ‹’ç»,å·²ç»åœ¨å®¿ä¸»æœºä¸Šæ·»åŠ äº†åŸŸåå’ŒIPçš„å¯¹åº”å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658217573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
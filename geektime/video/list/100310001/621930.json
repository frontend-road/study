{"id":621930,"title":"79ï½œæ€æ ·å°† Python å’Œ C++ ç»“åˆèµ·æ¥æ··åˆç¼–ç¨‹ï¼Ÿ","content":"<p><strong>æœ¬è®²ç›¸å…³é“¾æ¥</strong><br>\n1.ä½¿ç”¨ctypesåº“åŠ è½½C++ç¼–å†™çš„åŠ¨æ€é“¾æ¥åº“ï¼Œå‚è€ƒé“¾æ¥ï¼š<a href=\"https://docs.python.org/zh-cn/3.10/library/ctypes.html\">https://docs.python.org/zh-cn/3.10/library/ctypes.html</a><br>\n2. ä½¿ç”¨pybindå°†C++ç¼–è¯‘ä¸ºPythonåº“ï¼Œå‚è€ƒé“¾æ¥ï¼š<a href=\"https://github.com/pybind/python_example\">https://github.com/pybind/python_example</a><br>\n3. ä½¿ç”¨Pythranåº“å°†Pythonç›´æ¥è½¬æ¢ä¸ºC++ä»£ç ï¼Œå‚è€ƒé“¾æ¥ï¼š<a href=\"https://pypi.org/project/pythran\">https://pypi.org/project/pythran</a></p><p><strong>è¯¾åä¹ é¢˜</strong><br>\nè¯·ä½ åŸºäºPythranç¼–å†™ä¸€ä¸ªè®¡ç®—åœ†å‘¨ç‡çš„Pythonå‡½æ•°ï¼Œå¹¶ä½¿ç”¨C++è°ƒç”¨è¯¥å‡½æ•°ï¼Œè¿è¡Œåï¼Œæ¯”è¾ƒä¸€ä¸‹çº¯Pythonä»£ç å’ŒC++ä»£ç çš„è¿è¡Œæ—¶é—´ã€‚</p><p><strong>è¯¾ç¨‹ä»£ç ã€è¯¾ä»¶åŠå…¶ä»–ç›¸å…³èµ„æ–™åœ°å€</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":366400,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"æ±Ÿè‹","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1673705884,"is_pvip":false,"replies":[{"id":133627,"content":"è¿™é‡Œå°±ä¸å¾—ä¸çœ‹ cal_pi() å‡½æ•°çš„C++ å®ç°æ–¹æ³•äº†ï¼Œ é‡Œé¢å¯èƒ½æœ‰æŸäº›â€œæ½œåœ¨è§„åˆ™â€å¯¼è‡´è½¬æ¢ä¹‹åå‡ºé”™ï¼Œ æ¯”å¦‚Pythonå¯¹å¾…æŸä¸ªå˜é‡æ˜¯æµ®ç‚¹æ•°ï¼Œä½†æ˜¯è½¬æ¢æˆC++ä»£ç æ—¶ï¼Œè¢«å½“åšäº†æ•´æ•°ï¼Œå°±å‡ºç°ç»“æœä¸ç²¾ç¡®çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•æ˜¯æ˜¾ç¤ºçš„ä½¿ç”¨float(å˜é‡)ï¼Œç¡®ä¿è½¬æ¢æ—¶ä¸è¦è¢«C++æ›²è§£æˆint()æ•°æ®ç±»å‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1056235,"ctime":1674201282,"ip_address":"å¹¿ä¸œ","comment_id":366400,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import random\n\n# è’™ç‰¹å¡æ´›æ–¹æ³•\ndef cal_pi(n:int) -&gt; float:\n    count = 0\n\n    for i in range(int(n)):\n        x = random.random()\n        y = random.random()\n        d = (x - 0.5) ** 2 + (y - 0.5) ** 2\n        if d &lt;= 0.5 ** 2:\n            count+=1\n        else:\n            pass\n\n    return (4*count)&#47;n\n\n----------------------------------\næˆ‘å°†ä¸Šè¿°ä»£ç å°è£…æˆ cal_pi.py ï¼Œç„¶åé€šè¿‡ Pythran å¾—åˆ° cal_pi.hpp ï¼›\nå†™äº†ä¸€ä¸ª cal_pi.cpp ï¼Œå¦‚ä¸‹ï¼š\n----------------------------------\n#include &quot;cal_pi.hpp&quot;\nusing namespace __pythran_cal_pi ;\n\nint main() \n{ \n    int n = 10000;\n\n    float pi = cal_pi()(n);\n    printf(&quot;%f\\n&quot;, pi);\n    \n    return 0 ; \n}\n----------------------------------\nä½†æ˜¯å¾—åˆ°ç»“æœå´æ˜¯ 4.000000 ï¼Œå’Œç›´æ¥è°ƒç”¨ Python å‡½æ•°çš„ç»“æœä¸ä¸€æ ·ï¼Œé—®ä¸‹æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600311,"discussion_content":"è¿™é‡Œå°±ä¸å¾—ä¸çœ‹ cal_pi() å‡½æ•°çš„C++ å®ç°æ–¹æ³•äº†ï¼Œ é‡Œé¢å¯èƒ½æœ‰æŸäº›â€œæ½œåœ¨è§„åˆ™â€å¯¼è‡´è½¬æ¢ä¹‹åå‡ºé”™ï¼Œ æ¯”å¦‚Pythonå¯¹å¾…æŸä¸ªå˜é‡æ˜¯æµ®ç‚¹æ•°ï¼Œä½†æ˜¯è½¬æ¢æˆC++ä»£ç æ—¶ï¼Œè¢«å½“åšäº†æ•´æ•°ï¼Œå°±å‡ºç°ç»“æœä¸ç²¾ç¡®çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•æ˜¯æ˜¾ç¤ºçš„ä½¿ç”¨float(å˜é‡)ï¼Œç¡®ä¿è½¬æ¢æ—¶ä¸è¦è¢«C++æ›²è§£æˆint()æ•°æ®ç±»å‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1674201282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379573,"user_name":"å¥½å›°å•Š","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"ä¸Šæµ·","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1692116014,"is_pvip":false,"replies":[{"id":138343,"content":"ChatGPTæ˜¯ä¸ªå¥½å¸®æ‰‹ï¼Œç›¸æ¯”æœç´¢å¼•æ“ï¼Œå®ƒèƒ½ç»§ç»­è¿½é—®ï¼Œæ˜¯æˆ‘è§‰å¾—å­¦ä¹ ç¼–ç¨‹æ—¶éå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œ ä½†æ˜¯åŠ¡å¿…è¦è®©ChatGPTç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæœ‰æ—¶å€™ChatGPTæä¾›çš„ä»£ç æœ‰bugï¼Œä¸å¤Ÿç²¾ç¡®ã€‚è¿™ä¸€ç‚¹ä¸è¦è¢«ChatGPTè¯¯å¯¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1056235,"ctime":1692534556,"ip_address":"ç”˜è‚ƒ","comment_id":379573,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"æ™šä¸Šæäº† 3 ä¸ªå°æ—¶ç»ˆäºå¼„å‡ºæ¥äº†ï¼ŒåŸºäºchatgptå¸®æˆ‘æŸ¥æ‰¾é”™è¯¯ä¿®æ”¹ä»£ç ï¼Œæœ€å¼€å§‹ç”¨çš„æ˜¯pythran script.pyæ¥ç”Ÿæˆc++å…±äº«åº“ï¼Œç»“æœè°ƒç”¨c++çš„æ—¶å€™ä¸€ç›´è¯´å‡½æ•°æ‰¾ä¸åˆ°æˆ–è€…æœ‰é—®é¢˜ï¼Œç„¶åæŒ‰ç…§è€å¸ˆçš„ä»£ç æ“ä½œï¼Œå…¶ä¸­åˆä¿®æ”¹äº†.hppçš„æ–‡ä»¶ï¼Œç»ˆäºæ‰§è¡ŒæˆåŠŸäº†","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626098,"discussion_content":"ChatGPTæ˜¯ä¸ªå¥½å¸®æ‰‹ï¼Œç›¸æ¯”æœç´¢å¼•æ“ï¼Œå®ƒèƒ½ç»§ç»­è¿½é—®ï¼Œæ˜¯æˆ‘è§‰å¾—å­¦ä¹ ç¼–ç¨‹æ—¶éå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œ ä½†æ˜¯åŠ¡å¿…è¦è®©ChatGPTç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæœ‰æ—¶å€™ChatGPTæä¾›çš„ä»£ç æœ‰bugï¼Œä¸å¤Ÿç²¾ç¡®ã€‚è¿™ä¸€ç‚¹ä¸è¦è¢«ChatGPTè¯¯å¯¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1692534556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç”˜è‚ƒ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369760,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1677900448,"is_pvip":false,"replies":[{"id":134851,"content":"é»˜è®¤ä¼šå®‰è£…åœ¨site-packagesä¸‹ï¼Œè€Œä¸”site-packagesåœ¨pythonå®‰è£…åä¼šè‡ªåŠ¨åŠ å…¥åˆ°å‘½ä»¤æœç´¢è·¯å¾„ï¼Œ æ‰€ä»¥è§†é¢‘ä¸­å®‰è£…åç›´æ¥å¯ä»¥ä½¿ç”¨ã€‚\n\nå¦‚æœæ— æ³•è¿è¡Œï¼Œä½ å¯ä»¥å°è¯•å…ˆå…³é—­ç»ˆç«¯ï¼Œå†æ‰“å¼€ï¼Œé‡æ–°åŠ è½½ç»ˆç«¯æ˜¯å¦å¯è¡Œ\nå¦ä¸€ä¸ªåŠæ³•å°±æ˜¯æ‰‹åŠ¨è§£å†³ï¼Œé€šè¿‡python -m site æ‰¾åˆ°site-packagesæ–‡ä»¶å¤¹ï¼Œ å†æ‰¾åˆ°pythranæ‰€åœ¨çš„è·¯å¾„ï¼Œå°†è·¯å¾„åŠ å…¥ windows ç¯å¢ƒå˜é‡çš„PATHä¸­ï¼Œä»ç„¶è¦é‡å¯ç»ˆç«¯ç”Ÿæ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1056235,"ctime":1678156285,"ip_address":"å¹¿ä¸œ","comment_id":369760,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"è¯·é—®è€å¸ˆï¼š\nwindowç¯å¢ƒä¸‹ï¼Œåœ¨Anacondaä¸‹çš„Powershell Prompt ä¸‹ pip å®‰è£…å®Œpythranåã€‚ä¸‹ä¸€æ­¥æ˜¯åœ¨å“ªä¸ªè¿è¡Œç¯å¢ƒæ‰§è¡Œpythranå‘½ä»¤è¡Œçš„ï¼Ÿ\næœç´¢ä¸åˆ°pythrançš„å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607849,"discussion_content":"é»˜è®¤ä¼šå®‰è£…åœ¨site-packagesä¸‹ï¼Œè€Œä¸”site-packagesåœ¨pythonå®‰è£…åä¼šè‡ªåŠ¨åŠ å…¥åˆ°å‘½ä»¤æœç´¢è·¯å¾„ï¼Œ æ‰€ä»¥è§†é¢‘ä¸­å®‰è£…åç›´æ¥å¯ä»¥ä½¿ç”¨ã€‚\n\nå¦‚æœæ— æ³•è¿è¡Œï¼Œä½ å¯ä»¥å°è¯•å…ˆå…³é—­ç»ˆç«¯ï¼Œå†æ‰“å¼€ï¼Œé‡æ–°åŠ è½½ç»ˆç«¯æ˜¯å¦å¯è¡Œ\nå¦ä¸€ä¸ªåŠæ³•å°±æ˜¯æ‰‹åŠ¨è§£å†³ï¼Œé€šè¿‡python -m site æ‰¾åˆ°site-packagesæ–‡ä»¶å¤¹ï¼Œ å†æ‰¾åˆ°pythranæ‰€åœ¨çš„è·¯å¾„ï¼Œå°†è·¯å¾„åŠ å…¥ windows ç¯å¢ƒå˜é‡çš„PATHä¸­ï¼Œä»ç„¶è¦é‡å¯ç»ˆç«¯ç”Ÿæ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678156285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899757,"avatar":"","nickname":"yanyu-xin","note":"","ucode":"3AA389F9E4C236","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608258,"discussion_content":"è°¢è°¢è€å¸ˆã€‚åå¤æœç´¢ç ”ç©¶ï¼Œç”¨å„ç§å‚æ•°é‡æ–°å®‰è£…åº“ï¼Œå‘ç°æ˜¯å®‰è£…pythranæœ‰é”™ï¼Œå¹¶ä¸”ä¾èµ–åº“ç‰ˆæœ¬é«˜ä¸å…¼å®¹ã€‚ï¼ˆpipç®€æ˜“å®‰è£…æ—¶æ²¡æœ‰æç¤ºé”™è¯¯ï¼‰ã€‚æŠ˜è…¾äº†å¾ˆä¹…å°šéœ€è¦ç»§ç»­å­¦ä¹ ï¼Œç ”ç©¶è§£å†³é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678350052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿è¥¿","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389078,"user_name":"å†¯ä¸½å¨Ÿ","can_delete":false,"product_type":"c3","uid":2362891,"ip_address":"åŒ—äº¬","ucode":"C470B564979A1C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ3ibJunUcvkAibM9tBDyVB9PoiaWgf3dMZgCBbeAZUF1ISr0fiaicjRjNgThebJyHJHgxr0vjh2JeYSlA/132","comment_is_top":false,"comment_ctime":1711512193,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"æ‰§è¡Œï¼špythran -e test.py  -p pythran.optimizations.ConstantFolding -o output.hpp\næç¤ºï¼šWARNING: No pythran specification, nothing will be exported\næ²¡æœ‰ç”Ÿæˆ.cppæ–‡ä»¶ã€‚\ntest.pyæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\nimport random\n\ndef calculate_pi(n):\n    num_points_circle = 0\n    num_points_total = 0\n    for _ in range(n):\n        x = random.uniform(0, 1)\n        y = random.uniform(0, 1)\n        distance = x ** 2 + y ** 2\n        if distance &lt;= 1:\n            num_points_circle += 1\n        num_points_total += 1\n    pi=4 * num_points_circle &#47; num_points_total\n    print(pi)\n    return pi\n# if __name__ == &#39;__main__&#39;:\n#     calculate_pi(10000000)","like_count":0},{"had_liked":false,"id":385143,"user_name":"è“å®šæœˆ","can_delete":false,"product_type":"c3","uid":1497795,"ip_address":"ä¸Šæµ·","ucode":"3765E44A958022","user_header":"https://static001.geekbang.org/account/avatar/00/16/da/c3/4133a67a.jpg","comment_is_top":false,"comment_ctime":1702195634,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# pythran export calculate_pi(int)\nimport random\nimport time\n\n\n# è®¡ç®—åœ†å‘¨ç‡ï¼Œä½¿ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•\ndef calculate_pi(n):\n    start_time = time.time()\n    num_in = 0\n    for i in range(n):\n        x, y = random.random(), random.random()\n        if x * x + y * y &lt;= 1:\n            num_in += 1\n    pi = 4 * num_in &#47; n\n    end_time = time.time()\n    elased_time = end_time - start_time\n    print(&#39;time: %.5f s&#39; % elased_time)\n    return pi\n    \nc++ä»£ç ï¼š\n#inclue &quot;test_pi.hpp&quot;\nusing namespace __pythran_first-1;\nint main()\n{\n        int n = 100000000;\n        pi = calculate_pi()(n);\n        print(&quot;%f\\n&quot;,pi);\n        return 0;\n}\n\npythonä»£ç ç”¨æ—¶14.15630sï¼Œç»“æœä¸º3.14150672\nc++ä»£ç ç”¨æ—¶10.09400sï¼Œç»“æœä¸º3.141633","like_count":0},{"had_liked":false,"id":384682,"user_name":"ä¾æ‰˜ç­”è¾©","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"ä¸Šæµ·","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701335129,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"PS D:\\PythonLearning\\python-homework\\tong\\practice&gt; pythran -e customModule.py -p pythran.optimizations.ConstantFolding -o customModule.hpp\nTraceback (most recent call last):\n  File &quot;&lt;frozen runpy&gt;&quot;, line 198, in _run_module_as_main\n  File &quot;&lt;frozen runpy&gt;&quot;, line 88, in _run_code\n  File &quot;C:\\Users\\tong_zheng\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\Scripts\\pythran.exe\\__main__.py&quot;, line 4, in &lt;module&gt;\n  File &quot;C:\\Users\\tong_zheng\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pythran\\run.py&quot;, line 13, in &lt;module&gt; \n    from distutils.errors import CompileError\nModuleNotFoundError: No module named &#39;distutils&#39;\n\næ‰§è¡Œè¿™ä¸ªå‘½ä»¤åä¸ºä»€ä¹ˆæŠ¥é”™ModuleNotFoundError: No module named &#39;distutils&#39;","like_count":0},{"had_liked":false,"id":382735,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"å±±ä¸œ","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1697933764,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"pi.py\n# pythran export compute_pi(int)\n\ndef compute_pi(n):\n    sum = 0.0\n    for i in range(n):\n        x = (i + 0.5) &#47; n\n        sum += 4.0 &#47; (1.0 + x * x)\n    pi = sum &#47; n\n    return pi\n\npi.cpp\n#include &quot;pi.hpp&quot;\nusing namespace __pythran_pi;\n\nint main()\n{\n    int n = 100000000;\n    float pi = compute_pi()(n);\n    printf(&quot;%f\\n&quot;, pi);\n    return 0;\n}\n\nc++æ¯”pyï¼Œä»¥100000000ä¸ºé‡Œ\næ‰§è¡Œæ„Ÿå®˜ï¼š\nc++ 2~3s\npy 10s","like_count":0},{"had_liked":false,"id":382133,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"å‰æ—","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1696755516,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"3.ä½¿ç”¨Pvthranåº“å°†Pythonç›´æ¥è½¬æ¢ä¸ºC++ä»£ç \n        å‚è€ƒé“¾æ¥: https:&#47;&#47;pypi.org&#47;project&#47;pythran\n        \n        1ã€ç¼–å†™å¯æ‰§è¡Œçš„pyå‡½æ•°\n            79_pyAndC.py\n               ä½¿ç”¨çš„è€å¸ˆçš„é‚£ä¸ªhelloæ–‡ä»¶ \n                \n        2ã€å°†pyè½¬æ¢ä¸º.hpp æ–‡ä»¶\n        pythran -e 79_pyAndC.py è¦è½¬ä¸ºc++çš„python è·¯å¾„\n                -p pythran.optimizations.ConstantFoldingï¼ˆæ ¼å¼åŒ–ï¼‰\n                -o 79_pyAndCoutput.hpp (è¾“å‡ºçš„æ–‡ä»¶)\n        \n        ä¾‹å¦‚ï¼š\n        pythran -e 79_pyAndC.py -p pythran.optimizations.ConstantFolding -o 79_pyAndCoutput.hpp\n        ä¼šç”Ÿæˆä¸€ä¸ª 79_pyAndCoutput.hpp æ–‡ä»¶ã€‚ \n            \n        3ã€ç¼–å†™è°ƒç”¨pyå‡½æ•°çš„ cppçš„ç¨‹åº\n            79_pyAndC.cpp\n            \n        4ã€å°† 79_pyAndCoutput.hpp æ–‡ä»¶ ï¼Œå˜å¼‚ä¸ºå¯æ‰§è¡Œæ–‡ä»¶\n        `pythran-config --compiler --cflags` -std=c++11 79_pyAndC.cpp -o 79_pyAndCoutput\n       \n        5ã€æ‰§è¡Œæ–‡ä»¶\n        .&#47;79_pyAndCoutput","like_count":0},{"had_liked":false,"id":380824,"user_name":"æµ©ä»”æ˜¯ç¨‹åºå‘˜","can_delete":false,"product_type":"c3","uid":1104601,"ip_address":"å¹¿ä¸œ","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1694239506,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"ç¼–è¯‘å®Œå¯æ‰§è¡Œæ–‡ä»¶ä¹‹åï¼Œæ€ä¹ˆåœ¨pythonä»£ç ä¸­è°ƒç”¨å‘¢","like_count":0},{"had_liked":false,"id":373559,"user_name":"äº‹å·²è‡³æ­¤å¼€å§‹æ’¤é€€","can_delete":false,"product_type":"c3","uid":2901316,"ip_address":"ä¸Šæµ·","ucode":"1076FDF53DA81D","user_header":"https://static001.geekbang.org/account/avatar/00/2c/45/44/8df79d3c.jpg","comment_is_top":false,"comment_ctime":1682661696,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"è¿™èŠ‚ä¸é”™","like_count":0},{"had_liked":false,"id":367681,"user_name":"èªå°‘ Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"å¹¿ä¸œ","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1675417620,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"è€å¸ˆï¼Œä¹‹å‰æé—®æˆ‘å·²ç»æ‰¾åˆ°ç­”æ¡ˆå•¦ï¼Œæ˜¯æˆ‘æ²¡æœ‰è®¤çœŸçœ‹å¥½pyå’Œcppä»£ç ä¸­é‡è¦ä¿¡æ¯ã€‚","like_count":0,"discussions":[{"author":{"id":1179005,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/7d/b0ca572b.jpg","nickname":"jefferyqjy","note":"","ucode":"30A2191B644966","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607575,"discussion_content":"å¸…å“¥æˆ‘ä¹Ÿé‡åˆ°è·Ÿä½ ä¸€æ ·çš„é—®é¢˜~è¯·æ•™ä¸‹ï¼Œä½ æ‰¾åˆ°çš„æ˜¯ä»€ä¹ˆåŸå› å“ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677953702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"èªå°‘ Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179005,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/7d/b0ca572b.jpg","nickname":"jefferyqjy","note":"","ucode":"30A2191B644966","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607613,"discussion_content":"å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆï¼Œå°±æ˜¯æœ¬æ¬¡è¯¾ç¨‹è€å¸ˆæ¼”ç¤ºä»£ç å½“ä¸­çš„cè¯­è¨€æ–‡ä»¶åœ¨giteeé‡Œé¢æœ‰ï¼Œéœ€è¦æå‰ä¸‹è½½å‡†å¤‡ä¸€ä¸‹è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678016506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":607575,"ip_address":"å¹¿ä¸œ","group_id":0},"score":607613,"extra":""},{"author":{"id":1179005,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/7d/b0ca572b.jpg","nickname":"jefferyqjy","note":"","ucode":"30A2191B644966","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"èªå°‘ Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607653,"discussion_content":"å—·å—·ï¼Œå¥½çš„ğŸ‘ŒğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678068450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":607613,"ip_address":"æ±Ÿè‹","group_id":0},"score":607653,"extra":""},{"author":{"id":1179005,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/7d/b0ca572b.jpg","nickname":"jefferyqjy","note":"","ucode":"30A2191B644966","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1159983,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","nickname":"èªå°‘ Jeff","note":"","ucode":"C791ACA9B47679","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607654,"discussion_content":"è°¢è°¢å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678068456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":607613,"ip_address":"æ±Ÿè‹","group_id":0},"score":607654,"extra":""}]}]},{"had_liked":false,"id":367676,"user_name":"èªå°‘ Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"å¹¿ä¸œ","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1675416151,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"è¯·é—®è€å¸ˆï¼Œæˆ‘åœ¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆmacï¼‰ä½¿ç”¨è½¬æ¢pyæ–‡ä»¶è½¬æ¢æˆhppæ—¶å‘½ä»¤ï¼Œå‡ºç°è­¦å‘Šå¦‚ä¸‹ï¼š\nWARNING:root:No pythran specification, nothing will be exported\nä½†æ˜¯ï¼Œæ–‡ä»¶è½¬æ¢æ˜¯æˆåŠŸçš„ï¼Œå°±æ˜¯ä¸çŸ¥é“è¿™ä¸ªè­¦å‘Šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1483179,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epr30DNcGHZ61PJicNvaBPNZVlLDqCcVPVgYCsicgArxWThibyK4L7pDge2sTlD9SugfB3qLIkIK4gjw/132","nickname":"Geek_adc450","note":"","ucode":"59FBC6D59F9BE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":623425,"discussion_content":"# pythran export foo()\n# pythran export msg\nå‰ä¸¤è¡Œæ³¨é‡Šä¸èƒ½çœç•¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1689476230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
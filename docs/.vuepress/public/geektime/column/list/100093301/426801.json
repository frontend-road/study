{"id":426801,"title":"03 | NumPyï¼ˆä¸‹ï¼‰ï¼šæ·±åº¦å­¦ä¹ ä¸­çš„å¸¸ç”¨æ“ä½œ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ–¹è¿œã€‚</p><p>é€šè¿‡ä¸ŠèŠ‚è¯¾çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»å¯¹NumPyæ•°ç»„æœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œæ­£æ‰€è°“å®è·µå‡ºçœŸçŸ¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±ä»¥ä¸€ä¸ªå›¾åƒåˆ†ç±»çš„é¡¹ç›®ä¸ºä¾‹ï¼Œçœ‹çœ‹NumPyçš„åœ¨å®é™…é¡¹ç›®ä¸­éƒ½æœ‰å“ªäº›é‡è¦åŠŸèƒ½ã€‚</p><p>æˆ‘ä»¬å…ˆä»ä¸€ä¸ªå¸¸è§çš„å·¥ä½œåœºæ™¯å‡ºå‘ï¼Œäº’è”ç½‘æ•™è‚²æ¨èå¹³å°ï¼Œæ¯å¤©éƒ½æœ‰åƒä¸‡é‡çº§çš„æ–‡å­—ä¸å›¾ç‰‡çš„å¹¿å‘Šä¿¡æ¯æµå…¥ã€‚ä¸ºäº†ç»™ç”¨æˆ·æä¾›æ›´åŠ ç²¾å‡†çš„æ¨èï¼Œä½ çš„è€æ¿äº¤ä»£ä½ è®¾è®¡ä¸€ä¸ªæ¨¡å‹ï¼Œè®©ä½ æŠŠåŒ…å«å„ä¸ªå¹³å°Logoï¼ˆæ¯”å¦‚åŒ…å«æå®¢æ—¶é—´Logoï¼‰çš„å›¾ç‰‡è‡ªåŠ¨æ‰¾å‡ºæ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/5d/1ecb3ccdd0b408b0350e255f7e0c875d.png?wh=318x116\" alt=\"å›¾ç‰‡\"></p><p>æƒ³è¦è§£å†³è¿™ä¸ªå›¾ç‰‡åˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†è§£æˆæ•°æ®åŠ è½½ã€è®­ç»ƒä¸æ¨¡å‹è¯„ä¼°ä¸‰éƒ¨åˆ†ï¼ˆå…¶å®åŸºæœ¬æ‰€æœ‰æ·±åº¦å­¦ä¹ çš„é¡¹ç›®éƒ½å¯ä»¥è¿™æ ·åˆ’åˆ†ï¼‰ã€‚å…¶ä¸­æ•°æ®åŠ è½½è·Ÿæ¨¡å‹è¯„ä¼°ä¸­ï¼Œå°±ç»å¸¸ä¼šç”¨åˆ°NumPyæ•°ç»„çš„ç›¸å…³æ“ä½œã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ•°æ®çš„åŠ è½½ã€‚</p><h2>æ•°æ®åŠ è½½é˜¶æ®µ</h2><p>è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠè®­ç»ƒæ•°æ®è¯»è¿›æ¥ï¼Œç„¶åç»™æ¨¡å‹è®­ç»ƒä½¿ç”¨ã€‚è®­ç»ƒæ•°æ®ä¸å¤–ä¹è¿™ä¸‰ç§ï¼šå›¾ç‰‡ã€æ–‡æœ¬ä»¥åŠç±»ä¼¼äºŒç»´è¡¨é‚£æ ·çš„ç»“æ„åŒ–æ•°æ®ã€‚</p><p>ä¸ç®¡ä½¿ç”¨PyTorchè¿˜æ˜¯TensorFlowï¼Œæˆ–è€…æ˜¯ä¼ ç»Ÿæœºå™¨å­¦ä¹ çš„scikit-learnï¼Œæˆ‘ä»¬åœ¨è¯»å…¥æ•°æ®è¿™ä¸€å—ï¼Œéƒ½ä¼šå…ˆæŠŠæ•°æ®è½¬æ¢æˆNumPyçš„æ•°ç»„ï¼Œç„¶åå†è¿›è¡Œåç»­çš„ä¸€ç³»åˆ—æ“ä½œã€‚</p><p>å¯¹åº”åˆ°æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œéœ€è¦åšçš„å°±æ˜¯æŠŠè®­ç»ƒé›†ä¸­çš„å›¾ç‰‡è¯»å…¥è¿›æ¥ã€‚å¯¹äºå›¾ç‰‡çš„å¤„ç†ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨Pillowä¸OpenCVè¿™ä¸¤ä¸ªæ¨¡å—ã€‚</p><!-- [[[read_end]]] --><p>è™½ç„¶Pillowå’ŒOpenCVåŠŸèƒ½çœ‹ä¸Šå»éƒ½å·®ä¸å¤šï¼Œä½†è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚åœ¨PyTorchä¸­ï¼Œå¾ˆå¤šå›¾ç‰‡çš„æ“ä½œéƒ½æ˜¯åŸºäºPillowçš„ï¼Œæ‰€ä»¥å½“ä½¿ç”¨PyTorchç¼–ç¨‹å‡ºç°é—®é¢˜ï¼Œæˆ–è€…è¦æ€è€ƒã€è§£å†³ä¸€äº›å›¾ç‰‡ç›¸å…³é—®é¢˜æ—¶ï¼Œè¦ä»Pillowçš„è§’åº¦å‡ºå‘ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å…ˆä»¥å•å¼ å›¾ç‰‡ä¸ºä¾‹ï¼Œå°†æå®¢æ—¶é—´çš„é‚£å¼ Logoå›¾ç‰‡åˆ†åˆ«ç”¨Pillowä¸OpenCVè¯»å…¥ï¼Œç„¶åè½¬æ¢ä¸ºNumPyçš„æ•°ç»„ã€‚</p><h3>Pillowæ–¹å¼</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Pillowä¸­çš„ä¸‹è¿°ä»£ç è¯»å…¥ä¸Šé¢çš„å›¾ç‰‡ã€‚</p><pre><code class=\"language-plain\">from PIL import Image\nim = Image.open('jk.jpg')\nim.size\nè¾“å‡º: 318, 116\n</code></pre><p>Pillowæ˜¯ä»¥äºŒè¿›åˆ¶å½¢å¼è¯»å…¥ä¿å­˜çš„ï¼Œé‚£æ€ä¹ˆè½¬ä¸ºNumPyæ ¼å¼å‘¢ï¼Ÿè¿™ä¸ªå¹¶ä¸éš¾ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ©ç”¨NumPyçš„asarrayæ–¹æ³•ï¼Œå°±å¯ä»¥å°†Pillowçš„æ•°æ®è½¬æ¢ä¸ºNumPyçš„æ•°ç»„æ ¼å¼ã€‚</p><pre><code class=\"language-plain\">import numpy as np\n\nim_pillow = np.asarray(im)\n\nim_pillow.shape\nè¾“å‡ºï¼š(116, 318, 3)\n</code></pre><h3>OpenCVæ–¹å¼ï¼š</h3><p>OpenCVçš„è¯ï¼Œä¸å†éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è½¬æ ¼å¼ï¼Œå®ƒç›´æ¥è¯»å…¥å›¾ç‰‡åï¼Œå°±æ˜¯ä»¥NumPyæ•°ç»„çš„å½¢å¼æ¥ä¿å­˜æ•°æ®çš„ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚</p><pre><code class=\"language-plain\">import cv2\nim_cv2 = cv2.imread('jk.jpg')\ntype(im_cv2)\nè¾“å‡ºï¼šnumpy.ndarray\n\nim_cv2.shape\nè¾“å‡ºï¼š(116, 318, 3)\n</code></pre><p>ç»“åˆä»£ç è¾“å‡ºå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬è¯»å…¥åçš„æ•°ç»„çš„æœ€åä¸€ä¸ªç»´åº¦æ˜¯3ï¼Œè¿™æ˜¯å› ä¸ºå›¾ç‰‡çš„æ ¼å¼æ˜¯RGBæ ¼å¼ï¼Œè¡¨ç¤ºæœ‰Rã€Gã€Bä¸‰ä¸ªé€šé“ã€‚å¯¹äºè®¡ç®—è§†è§‰ä»»åŠ¡æ¥è¯´ï¼Œç»å¤§å¤šæ•°å¤„ç†çš„å›¾ç‰‡éƒ½æ˜¯RGBæ ¼å¼ï¼Œå¦‚æœä¸æ˜¯RGBæ ¼å¼çš„è¯ï¼Œè¦è®°å¾—äº‹å…ˆè½¬æ¢æˆRGBæ ¼å¼ã€‚<br>\nè¿™é‡Œæœ‰ä¸ªåœ°æ–¹éœ€è¦ä½ å…³æ³¨ï¼ŒPillowè¯»å…¥åé€šé“çš„é¡ºåºå°±æ˜¯Rã€Gã€Bï¼Œè€ŒOpenCVè¯»å…¥åé¡ºåºæ˜¯<strong>Bã€Gã€R</strong>ã€‚</p><p>æ¨¡å‹è®­ç»ƒæ—¶çš„é€šé“é¡ºåºéœ€ä¸é¢„æµ‹çš„é€šé“é¡ºåºè¦ä¿æŒä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨Pillowè®­ç»ƒï¼Œä½¿ç”¨OpenCVè¯»å…¥å›¾ç‰‡ç›´æ¥è¿›è¡Œé¢„æµ‹çš„è¯ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä½†ç»“æœä¼šä¸æ­£ç¡®ï¼Œæ‰€ä»¥å¤§å®¶ä¸€å®šè¦æ³¨æ„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±éªŒè¯ä¸€ä¸‹Pillowä¸OpenCVè¯»å…¥æ•°æ®é€šé“çš„é¡ºåºæ˜¯å¦å¦‚æ­¤ï¼Œå€Ÿæ­¤å¼•å‡ºæœ‰å…³Numpyæ•°ç»„ç´¢å¼•ä¸åˆ‡ç‰‡ã€åˆå¹¶ç­‰å¸¸è§é—®é¢˜ã€‚</p><p>æ€ä¹ˆéªŒè¯è¿™æ¡ç»“è®ºå‘¢ï¼Ÿåªéœ€è¦å°†Rã€Gã€Bä¸‰ä¸ªé€šé“çš„æ•°æ®å•ç‹¬æå–å‡ºæ¥ï¼Œç„¶åä»¤å¦å¤–ä¸¤ä¸ªé€šé“çš„æ•°æ®å…¨ä¸º0å³å¯ã€‚</p><p>è¿™é‡Œæˆ‘ç»™ä½ è¯´è¯´ä¸ºä»€ä¹ˆè¿™æ ·åšã€‚RGBè‰²å½©æ¨¡å¼æ˜¯å·¥ä¸šç•Œçš„ä¸€ç§é¢œè‰²æ ‡å‡†ï¼ŒRGBåˆ†åˆ«ä»£è¡¨çº¢ã€ç»¿ã€è“ä¸‰ä¸ªé€šé“çš„é¢œè‰²ï¼Œå°†è¿™ä¸‰ç§é¢œè‰²æ··åˆåœ¨ä¸€èµ·ï¼Œå°±å½¢æˆäº†æˆ‘ä»¬çœ¼ç›æ‰€èƒ½çœ‹åˆ°çš„æ‰€æœ‰é¢œè‰²ã€‚</p><p>RGBä¸‰ä¸ªé€šé“å„æœ‰256ä¸ªäº®åº¦ï¼Œåˆ†åˆ«ç”¨æ•°å­—0åˆ°255è¡¨ç¤ºï¼Œæ•°å­—è¶Šé«˜ä»£è¡¨äº®åº¦è¶Šå¼ºï¼Œæ•°å­—0åˆ™æ˜¯ä»£è¡¨æœ€å¼±çš„äº®åº¦ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä¸€ä¸ªé€šé“çš„æ•°æ®å†åŠ å¦å¤–ä¸¤ä¸ªå…¨0çš„é€šé“ï¼ˆç›¸å½“äºå…³é—­å¦å¤–ä¸¤ä¸ªé€šé“ï¼‰ï¼Œæœ€ç»ˆå›¾åƒä»¥çº¢è‰²æ ¼è°ƒï¼ˆå¯ä»¥å…ˆçœ‹ä¸€ä¸‹åæ–‡ä¸­çš„æœ€ç»ˆè¾“å‡ºç»“æœï¼‰å‘ˆç°å‡ºæ¥çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºè¯¥é€šé“çš„æ•°æ®æ˜¯æ¥æºäºRé€šé“ï¼ŒGä¸Bé€šé“çš„è¯æ˜åŒæ ·å¯ä»¥å¦‚æ­¤ã€‚</p><p>å¥½ï¼Œé¦–å…ˆæˆ‘ä»¬æå–å‡ºRGBä¸‰ä¸ªé€šé“çš„æ•°æ®ï¼Œè¿™å¯ä»¥ä»æ•°ç»„çš„ç´¢å¼•ä¸åˆ‡ç‰‡è¯´èµ·ã€‚</p><h3>ç´¢å¼•ä¸åˆ‡ç‰‡</h3><p>å¦‚æœä½ äº†è§£Pythonï¼Œé‚£ä¹ˆç´¢å¼•å’Œåˆ‡ç‰‡çš„æ¦‚å¿µä½ åº”è¯¥ä¸é™Œç”Ÿã€‚</p><p>å°±åƒå›¾ä¹¦ç›®å½•é‡Œçš„ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ç´¢å¼•æ ‡æ³¨çš„é¡µç å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„å†…å®¹ï¼Œè€ŒPython</p><p>é‡Œçš„ç´¢å¼•ä¹Ÿæ˜¯åŒæ ·çš„åŠŸèƒ½ï¼Œå®ƒç”¨æ¥å®šä½æ•°ç»„ä¸­çš„æŸä¸€ä¸ªå€¼ã€‚è€Œåˆ‡ç‰‡æ„æ€å°±ç›¸å½“äºæå–å›¾ä¹¦ä¸­ä»æŸä¸€é¡µåˆ°æŸä¸€é¡µçš„å†…å®¹ã€‚</p><p>NumPyæ•°ç»„çš„ç´¢å¼•æ–¹å¼ä¸Pythonçš„åˆ—è¡¨çš„ç´¢å¼•æ–¹å¼ç›¸åŒï¼Œä¹ŸåŒæ ·æ”¯æŒåˆ‡ç‰‡ç´¢å¼•ã€‚</p><p>è¿™é‡Œéœ€è¦ä½ æ³¨æ„çš„æ˜¯åœ¨NumPyæ•°ç»„ä¸­ç»å¸¸ä¼šå‡ºç°ç”¨å†’å·æ¥æ£€ç´¢æ•°æ®çš„å½¢å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">im_pillow[:, :, 0]\n</code></pre><p>è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ã€‚â€œï¼šâ€ä»£è¡¨å…¨éƒ¨é€‰ä¸­çš„æ„æ€ã€‚æˆ‘ä»¬çš„å›¾ç‰‡è¯»å…¥åï¼Œä¼šä»¥ä¸‹å›¾çš„çŠ¶æ€ä¿å­˜åœ¨æ•°ç»„ä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/20/01/20ayy454079771245f44f983b2130e01.jpg?wh=1920x1391\" alt=\"\"></p><p>ä¸Šè¿°ä»£ç çš„å«ä¹‰å°±æ˜¯å–ç¬¬ä¸‰ä¸ªç»´åº¦ç´¢å¼•ä¸º0çš„å…¨éƒ¨æ•°æ®ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œå–å›¾ç‰‡ç¬¬0ä¸ªé€šé“çš„æ‰€æœ‰æ•°æ®ã€‚</p><p>è¿™æ ·çš„è¯ï¼Œé€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å¾—æ¯ä¸ªé€šé“çš„æ•°æ®äº†ã€‚</p><pre><code class=\"language-plain\">im_pillow_c1 = im_pillow[:, :, 0]\nim_pillow_c2 = im_pillow[:, :, 1]\nim_pillow_c3 = im_pillow[:, :, 2]\n</code></pre><p>è·å¾—äº†æ¯ä¸ªé€šé“çš„æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ç”Ÿæˆä¸€ä¸ªå…¨0æ•°ç»„ï¼Œè¯¥æ•°ç»„è¦ä¸im_pillowå…·æœ‰ç›¸åŒçš„å®½é«˜ã€‚</p><p>å…¨0æ•°ç»„ä½ è¿˜è®°å¾—æ€ä¹ˆç”Ÿæˆå—ï¼Ÿå¯ä»¥è‡ªå·±å…ˆæ€è€ƒä¸€ä¸‹ï¼Œç”Ÿæˆçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code class=\"language-plain\">zeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 1))\nzeros.shape\nè¾“å‡ºï¼š(116, 318, 1)\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦å°†å…¨0çš„æ•°ç»„ä¸im_pillow_c1ã€im_pillow_c2ã€im_pillow_c3è¿›è¡Œæ‹¼æ¥ï¼Œå°±å¯ä»¥è·å¾—å¯¹åº”é€šé“çš„å›¾åƒæ•°æ®äº†ã€‚</p><h3>æ•°ç»„çš„æ‹¼æ¥</h3><p>åˆšæ‰æˆ‘ä»¬æ‹¿åˆ°äº†å•ç‹¬é€šé“çš„æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦æŠŠä¸€ä¸ªåˆ†ç¦»å‡ºæ¥çš„æ•°æ®è·Ÿä¸€ä¸ªå…¨0æ•°ç»„æ‹¼æ¥èµ·æ¥ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¢è‰²çš„å¯ä»¥çœ‹ä½œå•é€šé“æ•°æ®ï¼Œç™½è‰²çš„ä¸ºå…¨0æ•°æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/c1/eedf20bf55a6c0521309d7c102719bc1.jpg?wh=1920x899\" alt=\"å›¾ç‰‡\"></p><p>NumPyæ•°ç»„ä¸ºæˆ‘ä»¬æä¾›äº†np.concatenate((a1, a2, â€¦), axis=0)æ–¹æ³•è¿›è¡Œæ•°ç»„æ‹¼æ¥ã€‚å…¶ä¸­ï¼Œa1ï¼Œa2, â€¦å°±æ˜¯æˆ‘ä»¬è¦åˆå¹¶çš„æ•°ç»„ï¼›axisæ˜¯æˆ‘ä»¬è¦æ²¿ç€å“ªä¸€ä¸ªç»´åº¦è¿›è¡Œåˆå¹¶ï¼Œé»˜è®¤æ˜¯æ²¿ç€0è½´æ–¹å‘ã€‚</p><p>å¯¹äºæˆ‘ä»¬çš„é—®é¢˜ï¼Œæ˜¯è¦æ²¿ç€2è½´çš„æ–¹å‘è¿›è¡Œåˆå¹¶ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡æ˜¯è¦è·å¾—ä¸‹é¢çš„ä¸‰å¹…å›¾åƒã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/68/7e/68bcd8107bf71ef876a339350a10c77e.jpg?wh=1603x653\" alt=\"\"></p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å…ˆå°†im_pillow_c1ä¸å…¨0æ•°ç»„è¿›è¡Œåˆå¹¶ï¼Œç”Ÿæˆä¸Šå›¾ä¸­æœ€å·¦ä¾§çš„æ•°ç»„ï¼Œæœ‰äº†å›¾åƒçš„æ•°ç»„æ‰èƒ½è·å¾—æœ€ç»ˆå›¾åƒã€‚åˆå¹¶çš„ä»£ç è·Ÿè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)\n---------------------------------------------------------------------------\nAxisError                                 Traceback (most recent call last)\n&lt;ipython-input-21-e3d53c33c94d&gt; in &lt;module&gt;\n----&gt; 1 im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)\n&lt;__array_function__ internals&gt; in concatenate(*args, **kwargs)\nAxisError: axis 2 is out of bounds for array of dimension 2\n</code></pre><p>çœ‹åˆ°è¿™é‡Œä½ å¯èƒ½å¾ˆæƒŠè®¶ï¼Œç«Ÿç„¶æŠ¥é”™äº†ï¼Ÿé”™è¯¯çš„åŸå› æ˜¯åœ¨2ç»´æ•°ç»„ä¸­ï¼Œaxiså¦‚æœç­‰äº2çš„è¯ä¼šè¶Šç•Œã€‚</p><p>æˆ‘ä»¬çœ‹çœ‹im_pillow_c1ä¸zerosçš„å½¢çŠ¶ã€‚</p><pre><code class=\"language-plain\">im_pillow_c1.shape\nè¾“å‡ºï¼š(116, 318)\nzeros.shape\nè¾“å‡ºï¼š(116, 318, 1)\n</code></pre><p>åŸæ¥æ˜¯æˆ‘ä»¬è¦åˆå¹¶çš„ä¸¤ä¸ªæ•°ç»„ç»´åº¦ä¸ä¸€æ ·å•Šã€‚é‚£ä¹ˆå¦‚ä½•ç»Ÿä¸€ç»´åº¦å‘¢ï¼Ÿå°†im_pillow_c1å˜æˆ(116, 318, 1)å³å¯ã€‚</p><h4>æ–¹æ³•ä¸€ï¼šä½¿ç”¨np.newaxis</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨np.newaxisè®©æ•°ç»„å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">im_pillow_c1 = im_pillow_c1[:, :, np.newaxis]\nim_pillow_c1.shape\nè¾“å‡ºï¼š(116, 318, 1)\n</code></pre><p>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå°±å¯ä»¥å°†2ä¸ªç»´åº¦çš„æ•°ç»„è½¬æ¢ä¸º3ä¸ªç»´åº¦çš„æ•°ç»„äº†ã€‚<br>\nè¿™ä¸ªæ“ä½œåœ¨ä½ çœ‹æ·±åº¦å­¦ä¹ ç›¸å…³ä»£ç çš„æ—¶å€™ç»å¸¸ä¼šçœ‹åˆ°ï¼Œåªä¸è¿‡PyTorchä¸­çš„å‡½æ•°åunsqueeze(), TensorFlowçš„è¯æ˜¯ä¸NumPyæœ‰ç›¸åŒçš„åå­—ï¼Œç›´æ¥ä½¿ç”¨tf.newaxiså°±å¯ä»¥äº†ã€‚</p><p>ç„¶åæˆ‘ä»¬å†æ¬¡å°†im_pillow_c1ä¸zerosè¿›è¡Œåˆå¹¶ï¼Œè¿™æ—¶å°±ä¸ä¼šæŠ¥é”™äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)\nim_pillow_c1_3ch.shape\nè¾“å‡ºï¼š(116, 318, 3)\n</code></pre><h4>æ–¹æ³•äºŒï¼šç›´æ¥èµ‹å€¼</h4><p>å¢åŠ ç»´åº¦çš„ç¬¬äºŒä¸ªæ–¹æ³•å°±æ˜¯ç›´æ¥èµ‹å€¼ï¼Œå…¶å®æˆ‘ä»¬å®Œå…¨å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸im_pillowå½¢çŠ¶å®Œå…¨ä¸€æ ·çš„å…¨0æ•°ç»„ï¼Œç„¶åå°†æ¯ä¸ªé€šé“çš„æ•°å€¼èµ‹å€¼ä¸ºim_pillow_c1ã€im_pillow_c2ä¸im_pillow_c3å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬ç”¨è¿™ç§æ–¹å¼ç”Ÿæˆä¸Šå›¾ä¸­çš„ä¸­é—´ä¸å³è¾¹å›¾åƒçš„æ•°ç»„ã€‚</p><pre><code class=\"language-plain\">im_pillow_c2_3ch = np.zeros(im_pillow.shape)\nim_pillow_c2_3ch[:,:,1] = im_pillow_c2\n\nim_pillow_c3_3ch = np.zeros(im_pillow.shape)\nim_pillow_c3_3ch[:,:,2] = im_pillow_c3\n</code></pre><p>è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸‰ä¸ªé€šé“çš„RGBå›¾ç‰‡æ‰“å°å‡ºæ¥äº†ã€‚<br>\nå…³äºç»˜å›¾ï¼Œä½ å¯ä»¥ä½¿ç”¨matplotlibè¿›è¡Œç»˜å›¾ï¼Œå®ƒæ˜¯NumPyçš„ç»˜å›¾åº“ã€‚å¦‚æœä½ éœ€è¦ç»˜å›¾ï¼Œå¯ä»¥åœ¨<a href=\"https://matplotlib.org/stable/gallery/index.html\">è¿™ä¸ªç½‘ç«™</a>ä¸Šæ‰¾åˆ°å„ç§å„æ ·çš„ä¾‹å­ï¼Œç„¶åæ ¹æ®å®ƒæä¾›çš„ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå…·ä½“å¦‚ä½•ç»˜å›¾æˆ‘å°±ä¸å±•å¼€äº†ã€‚</p><p>è¯´å›æˆ‘ä»¬çš„é€šé“é¡ºåºéªŒè¯é—®é¢˜ï¼Œå®Œæˆå‰é¢çš„æ“ä½œåï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç å°†åŸå›¾ã€Ré€šé“ã€Gé€šé“ä¸Bé€šé“çš„4å¹…å›¾æ‰“å°å‡ºæ¥ï¼Œä½ çœ‹æ˜¯ä¸æ˜¯RGBé¡ºåºçš„å‘¢ï¼Ÿ</p><pre><code class=\"language-plain\">from matplotlib import pyplot as plt\nplt.subplot(2, 2, 1)\nplt.title('Origin Image')\nplt.imshow(im_pillow)\nplt.axis('off')\nplt.subplot(2, 2, 2)\nplt.title('Red Channel')\nplt.imshow(im_pillow_c1_3ch.astype(np.uint8))\nplt.axis('off')\nplt.subplot(2, 2, 3)\nplt.title('Green Channel')\nplt.imshow(im_pillow_c2_3ch.astype(np.uint8))\nplt.axis('off')\nplt.subplot(2, 2, 4)\nplt.title('Blue Channel')\nplt.imshow(im_pillow_c3_3ch.astype(np.uint8))\nplt.axis('off')\nplt.savefig('./rgb_pillow.png', dpi=150)\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/12/10/1264b5c889bfyy5e0d00668cfa205110.png?wh=900x600\" alt=\"å›¾ç‰‡\"></p><h3>æ·±æ‹·è´ï¼ˆå‰¯æœ¬ï¼‰ä¸æµ…æ‹·è´ï¼ˆè§†å›¾ï¼‰</h3><p>åˆšæ‰æˆ‘ä»¬é€šè¿‡è·å–å›¾ç‰‡é€šé“æ•°æ®çš„ç»ƒä¹ ï¼Œä¸è¿‡æ“ä½œç¡®å®æ¯”è¾ƒç¹çï¼Œä»‹ç»è¿™äº›æ–¹æ³•ä¹Ÿä¸»è¦æ˜¯ä¸ºäº†è®©ä½ æŒæ¡åˆ‡ç‰‡ç´¢å¼•å’Œæ•°ç»„æ‹¼æ¥çš„çŸ¥è¯†ç‚¹ã€‚</p><p>å…¶å®æˆ‘ä»¬è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„æ–¹å¼è·å¾—ä¸‰ä¸ªé€šé“çš„BGRæ•°æ®ï¼Œåªéœ€è¦å°†å›¾ç‰‡è¯»å…¥åï¼Œç›´æ¥å°†å…¶ä¸­çš„ä¸¤ä¸ªé€šé“èµ‹å€¼ä¸º0å³å¯ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">from PIL import Image\nimport numpy as np\n\nim = Image.open('jk.jpg')\nim_pillow = np.asarray(im)\nim_pillow[:,:,1:]=0\nè¾“å‡ºï¼š\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-146-789bda58f667&gt; in &lt;module&gt;\n      4 im = Image.open('jk.jpg')\n      5 im_pillow = np.asarray(im)\n----&gt; 6 im_pillow[:,:,1:-1]=0\nValueError: assignment destination is read-only\n</code></pre><p>è¿è¡Œåˆšæ‰çš„ä»£ç ï¼ŒæŠ¥é”™æç¤ºè¯´æ•°ç»„æ˜¯åªè¯»æ•°ç»„ï¼Œæ²¡åŠæ³•è¿›è¡Œä¿®æ”¹ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨copyæ¥å¤åˆ¶ä¸€ä¸ªæ•°ç»„ã€‚<br>\nè¯´åˆ°copy()çš„è¯ï¼Œå°±è¦è¯´åˆ°æµ…æ‹·è´ä¸æ·±æ‹·è´çš„æ¦‚å¿µï¼Œ<a href=\"https://time.geekbang.org/column/article/426126\">ä¸ŠèŠ‚è¯¾</a>æˆ‘ä»¬è¯´åˆ°åˆ›å»ºæ•°ç»„æ—¶å°±æè¿‡ï¼Œnp.array()å±äºæ·±æ‹·è´ï¼Œnp.asarray()åˆ™æ˜¯æµ…æ‹·è´ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œæµ…æ‹·è´æˆ–ç§°è§†å›¾ï¼ŒæŒ‡çš„æ˜¯ä¸åŸæ•°ç»„å…±äº«<strong>æ•°æ®</strong>çš„æ•°ç»„ï¼Œè¯·æ³¨æ„ï¼Œåªæ˜¯æ•°æ®ï¼Œæ²¡æœ‰è¯´å…±äº«å½¢çŠ¶ã€‚è§†å›¾æˆ‘ä»¬é€šå¸¸ä½¿ç”¨view()æ¥åˆ›å»ºã€‚å¸¸è§çš„åˆ‡ç‰‡æ“ä½œä¹Ÿä¼šè¿”å›å¯¹åŸæ•°ç»„çš„æµ…æ‹·è´ã€‚</p><p>è¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼Œæ•°ç»„aä¸bçš„æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œå½¢çŠ¶ç¡®å®ä¸åŒï¼Œä½†æ˜¯ä¿®æ”¹bä¸­çš„æ•°æ®åï¼Œaçš„æ•°æ®åŒæ ·ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><pre><code class=\"language-plain\">a = np.arange(6)\nprint(a.shape)\nè¾“å‡ºï¼š(6,)\nprint(a)\nè¾“å‡ºï¼š[0 1 2 3 4 5]\n\nb = a.view()\nprint(b.shape)\nè¾“å‡ºï¼š(6,)\nb.shape = 2, 3\nprint(b)\nè¾“å‡ºï¼š[[0 1 2]\n [3 4 5]]\nb[0,0] = 111\nprint(a)\nè¾“å‡ºï¼š[111   1   2   3   4   5]\nprint(b)\nè¾“å‡ºï¼š[[111   1   2]\n [  3   4   5]]\n</code></pre><p>è€Œæ·±æ‹·è´åˆç§°å‰¯æœ¬ï¼Œä¹Ÿå°±æ˜¯å®Œå…¨å¤åˆ¶åŸæœ‰æ•°ç»„ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¿®æ”¹æ–°çš„æ•°ç»„ä¸ä¼šå½±å“åŸæ•°ç»„ã€‚æ·±æ‹·è´ä½¿ç”¨copy()æ–¹æ³•ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†åˆšæ‰æŠ¥é”™çš„ç¨‹åºä¿®æ”¹æˆä¸‹é¢çš„å½¢å¼å°±å¯ä»¥äº†ã€‚</p><pre><code class=\"language-plain\">im_pillow = np.array(im)\nim_pillow[:,:,1:]=0\n</code></pre><p>å¯åˆ«å°çœ‹æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ã€‚è¿™é‡Œè®²ä¸€ä¸ªæˆ‘ä»¥å‰é‡åˆ°çš„å‘å§ï¼Œæˆ‘æ›¾ç»è¦å¼€å‘ä¸€ä¸ªéƒ¨ç½²åœ¨æ‰‹æœºç«¯çš„äººåƒåˆ†å‰²æ¨¡å‹ã€‚</p><p>ä¸ºäº†æé«˜æ¨¡å‹çš„åˆ†å‰²æ•ˆæœï¼Œæˆ‘è€ƒè™‘äº†æ–°çš„å®éªŒæ–¹æ³•â€”â€”å°†å‰ä¸€å¸§çš„æ•°æ®ä¹Ÿä½œä¸ºå½“å‰å¸§çš„è¾“å…¥è¿›è¡Œè€ƒè™‘ï¼Œè®­ç»ƒé˜¶æ®µæ²¡æœ‰å‘ç”Ÿé—®é¢˜ï¼Œä½†æ˜¯åœ¨è°ƒè¯•é˜¶æ®µå‘ç°æ¨¡å‹çš„æ•ˆæœéå¸¸å·®ã€‚</p><p>åæ¥ç»è¿‡ç ”ç©¶ï¼Œæˆ‘æ‰å‘ç°äº†é—®é¢˜çš„åŸå› ã€‚åŸå› æ˜¯æˆ‘ä¸ºäº†å¯è§†åŒ–åˆ†å‰²æ•ˆæœï¼Œæˆ‘å°†å‰ä¸€å¸§çš„æ•°æ®è¿›è¡Œå˜æ¢æ‰“å°å‡ºæ¥ã€‚åŒæ—¶ï¼Œæˆ‘é”™è¯¯çš„é‡‡ç”¨äº†æµ…æ‹·è´çš„æ–¹å¼ï¼Œå°†å‰ä¸€å¸§çš„æ•°æ®ä¼ å…¥å½“å‰å¸§ï¼Œæ‰€ä»¥è¯´ä¼ å…¥åˆ°å½“å‰å¸§çš„æ•°æ®æ˜¯ç»è¿‡å˜åŒ–çš„ï¼Œè€Œä¸æ˜¯åŸå§‹çš„è¾“å‡ºã€‚</p><p>è¿™æ—¶å†ä¼ å…¥å½“å‰å¸§ï¼Œè‡ªç„¶æ— æ³•å¾—åˆ°æ­£ç¡®ç»“æœã€‚å½“æ—¶å› ä¸ºè¿™ä¸ªå‘ï¼Œå·®ç‚¹äº§ç”Ÿè¦æ”¾å¼ƒè¿™ä¸ªå®éªŒçš„æƒ³æ³•ï¼Œåé¢æ”¹æˆæ·±æ‹·è´æ‰è§£å†³äº†é—®é¢˜ã€‚</p><p>å¥½äº†ï¼Œè®²åˆ°è¿™é‡Œï¼Œä½ æ˜¯å¦å¯ä»¥ç”¨ä¸Šè¿°çš„æ–¹æ³•å¯¹OpenCVè¯»å–å›¾ç‰‡è¯»å…¥é€šé“é¡ºåºè¿›è¡Œä¸€ä¸‹éªŒè¯å‘¢ï¼Ÿ</p><h2>æ¨¡å‹è¯„ä¼°</h2><p>åœ¨æ¨¡å‹è¯„ä¼°æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå°†æ¨¡å‹çš„è¾“å‡ºè½¬æ¢ä¸ºå¯¹åº”çš„æ ‡ç­¾ã€‚</p><p>å‡è®¾ç°åœ¨æˆ‘ä»¬çš„é—®é¢˜æ˜¯å°†å›¾ç‰‡åˆ†ä¸º2ä¸ªç±»åˆ«ï¼ŒåŒ…å«æå®¢æ—¶é—´çš„å›¾ç‰‡ä¸ä¸åŒ…å«çš„å›¾ç‰‡ã€‚æ¨¡å‹ä¼šè¾“å‡ºå½¢çŠ¶ä¸º(2, )çš„æ•°ç»„ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åšprobsï¼Œå®ƒå­˜å‚¨äº†ä¸¤ä¸ªæ¦‚ç‡ï¼Œæˆ‘ä»¬å‡è®¾ç´¢å¼•ä¸º0çš„æ¦‚ç‡æ˜¯åŒ…å«æå®¢æ—¶é—´å›¾ç‰‡çš„æ¦‚ç‡ï¼Œå¦ä¸€ä¸ªæ˜¯å…¶å®ƒå›¾ç‰‡çš„æ¦‚ç‡ï¼Œå®ƒä»¬ä¸¤ä¸ªæ¦‚ç‡çš„å’Œä¸º1ã€‚å¦‚æœæå®¢æ—¶é—´å¯¹åº”çš„æ¦‚ç‡å¤§ï¼Œåˆ™å¯ä»¥æ¨æ–­è¯¥å›¾ç‰‡ä¸ºåŒ…å«æå®¢æ—¶é—´çš„å›¾ç‰‡ï¼Œå¦åˆ™ä¸ºå…¶ä»–å›¾ç‰‡ã€‚</p><p>ç®€å•çš„åšæ³•å°±æ˜¯åˆ¤æ–­probs[0]æ˜¯å¦å¤§äº0.5ï¼Œå¦‚æœå¤§äº0.5ï¼Œåˆ™å¯ä»¥è®¤ä¸ºå›¾ç‰‡æ˜¯æˆ‘ä»¬è¦å¯»æ‰¾çš„ã€‚</p><p>è¿™ç§æ–¹æ³•å›ºç„¶å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦åˆ¤æ–­å›¾ç‰‡çš„ç±»åˆ«æœ‰å¾ˆå¤šå¾ˆå¤šç§å‘¢ï¼Ÿ</p><p>ä¾‹å¦‚ï¼Œæœ‰1000ä¸ªç±»åˆ«çš„ImageNetã€‚ä¹Ÿè®¸ä½ ä¼šæƒ³åˆ°éå†è¿™ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºæœ€å¤§å€¼å¯¹åº”çš„ç´¢å¼•ã€‚</p><p>é‚£å¦‚æœè€æ¿è®©ä½ æ‰¾å‡ºæ¦‚ç‡æœ€å¤§çš„å‰5ä¸ªç±»åˆ«å‘¢ï¼Ÿæœ‰æ²¡æœ‰æ›´ç®€å•ç‚¹çš„æ–¹æ³•ï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p><h3>Argmax Vs Argminï¼šæ±‚æœ€å¤§/æœ€å°å€¼å¯¹åº”çš„ç´¢å¼•</h3><p>NumPyçš„argmax(a, axis=None)æ–¹æ³•å¯ä»¥ä¸ºæˆ‘ä»¬è§£å†³æ±‚æœ€å¤§å€¼ç´¢å¼•çš„é—®é¢˜ã€‚å¦‚æœä¸æŒ‡å®šaxisï¼Œåˆ™å°†æ•°ç»„é»˜è®¤ä¸º1ç»´ã€‚</p><p>å¯¹äºæˆ‘ä»¬çš„é—®é¢˜ï¼Œä½¿ç”¨ä¸‹è¿°ä»£ç å³å¯è·å¾—æ‹¥æœ‰æœ€å¤§æ¦‚ç‡å€¼çš„å›¾ç‰‡ã€‚</p><pre><code class=\"language-plain\">np.argmax(probs)\n</code></pre><p>Argminçš„ç”¨æ³•è·ŸArgmaxå·®ä¸å¤šï¼Œä¸è¿‡å®ƒçš„ä½œç”¨æ˜¯è·å¾—å…·æœ‰æœ€å°å€¼çš„ç´¢å¼•ã€‚</p><h3>Argsortï¼šæ•°ç»„æ’åºåè¿”å›åŸæ•°ç»„çš„ç´¢å¼•</h3><p>é‚£ç°åœ¨æˆ‘ä»¬å†æŠŠé—®é¢˜å‡çº§ä¸€ä¸‹ï¼Œæ¯”å¦‚éœ€è¦ä½ å°†å›¾ç‰‡åˆ†æˆ10ä¸ªç±»åˆ«ï¼Œè¦æ‰¾åˆ°å…·æœ‰æœ€å¤§æ¦‚ç‡çš„å‰ä¸‰ä¸ªç±»åˆ«ã€‚</p><p>æ¨¡å‹è¾“å‡ºçš„æ¦‚ç‡å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">probs = np.array([0.075, 0.15, 0.075, 0.15, 0.0, 0.05, 0.05, 0.2, 0.25])\n</code></pre><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©argsort(a, axis=-1, kind=None)å‡½æ•°æ¥è§£å†³è¯¥é—®é¢˜ã€‚np.argsortçš„ä½œç”¨æ˜¯å¯¹åŸæ•°ç»„è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºï¼Œè¿”å›çš„æ˜¯å¯¹åº”å…ƒç´ åœ¨åŸæ•°ç»„ä¸­çš„ç´¢å¼•ã€‚<br>\nnp.argsortåŒ…æ‹¬åé¢è¿™å‡ ä¸ªå…³é”®å‚æ•°ï¼š</p><ul>\n<li>aæ˜¯è¦è¿›è¡Œæ’åºçš„åŸæ•°ç»„ï¼›</li>\n<li>axisæ˜¯è¦æ²¿ç€å“ªä¸€ä¸ªè½´è¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯-1ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªè½´ï¼›</li>\n<li>kindæ˜¯é‡‡ç”¨ä»€ä¹ˆç®—æ³•è¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯å¿«é€Ÿæ’åºï¼Œè¿˜æœ‰å…¶ä»–æ’åºç®—æ³•ï¼Œå…·ä½“ä½ å¯ä»¥çœ‹çœ‹æ•°æ®ç»“æ„çš„æ’åºç®—æ³•ã€‚</li>\n</ul><p>æˆ‘ä»¬è¿˜æ˜¯ç»“åˆä¾‹å­æ¥ç†è§£ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå®ƒæè¿°äº†æˆ‘ä»¬ä½¿ç”¨argsortå¯¹probsè¿›è¡Œæ’åºï¼Œç„¶åè¿”å›å¯¹åº”åæ ‡çš„å…¨è¿‡ç¨‹ã€‚</p><pre><code class=\"language-plain\">probs_idx_sort = np.argsort(-probs)  #æ³¨æ„ï¼ŒåŠ äº†è´Ÿå·ï¼Œæ˜¯æŒ‰é™åºæ’åº\nprobs_idx_sort\nè¾“å‡ºï¼šarray([8, 7, 1, 3, 0, 2, 5, 6, 4])\n#æ¦‚ç‡æœ€å¤§çš„å‰ä¸‰ä¸ªå€¼çš„åæ ‡\nprobs_idx_sort[:3]\nè¾“å‡ºï¼šarray([8, 7, 1])\n</code></pre><h2>å°ç»“</h2><p>æ­å–œä½ ï¼Œå®Œæˆäº†è¿™ä¸€èŠ‚è¯¾çš„å­¦ä¹ ã€‚è¿™ä¸€èŠ‚ä»‹ç»äº†ä¸€äº›å¸¸ç”¨ä¸”é‡è¦çš„åŠŸèƒ½ã€‚å‡ ä¹åœ¨æ‰€æœ‰æ·±åº¦å­¦ä¹ ç›¸å…³çš„é¡¹ç›®ä¸­ï¼Œä½ éƒ½ä¼šå¸¸å¸¸ç”¨åˆ°è¿™äº›å‡½æ•°ï¼Œå½“ä½ é˜…è¯»åˆ«äººçš„ä»£ç çš„æ—¶å€™ä¹Ÿä¼šç»å¸¸çœ‹åˆ°ã€‚</p><p>è®©æˆ‘ä»¬ä¸€èµ·æ¥å¤ä¹ ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„è¿™äº›å‡½æ•°ï¼Œæˆ‘ç”»äº†ä¸€å¼ è¡¨æ ¼ï¼Œç»™ä½ æ€»ç»“äº†å®ƒä»¬å„è‡ªçš„å…³é”®åŠŸèƒ½å’Œä½¿ç”¨è¦ç‚¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/29/yd/296b503a7c2fb89987695035c0184yyd.jpg?wh=1709x798\" alt=\"\"></p><p>æˆ‘è§‰å¾—NumPyæœ€éš¾æ‡‚çš„è¿˜æ˜¯ä¸ŠèŠ‚è¯¾çš„è½´ï¼Œå¦‚æœä½ æŠŠè½´çš„æ¦‚å¿µç†è§£æ¸…æ¥šä¹‹åï¼Œç†è§£ä»Šå¤©çš„å†…å®¹ä¼šæ›´åŠ è½»æ¾ã€‚ç†è§£äº†åŸç†ä¹‹åï¼Œå…³é”®è¿˜æ˜¯åŠ¨æ‰‹ç»ƒä¹ ã€‚</p><h2>æ¯è¯¾ä¸€ç»ƒ</h2><p>ç»™å®šæ•°ç»„scoresï¼Œå½¢çŠ¶ä¸ºï¼ˆ256ï¼Œ256ï¼Œ2ï¼‰ï¼Œscores[: , :, 0] ä¸scores[:, :, 1]å¯¹åº”ä½ç½®å…ƒç´ çš„å’Œä¸º1ï¼Œç°åœ¨æˆ‘ä»¬è¦æ ¹æ®scoresç”Ÿäº§æ•°ç»„maskï¼Œè¦æ±‚scoresé€šé“0çš„å€¼å¦‚æœå¤§äºé€šé“1çš„å€¼ï¼Œåˆ™maskå¯¹åº”çš„ä½ç½®ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚</p><p>scoreså¦‚ä¸‹ï¼Œä½ å¯ä»¥è¯•è¯•ç”¨ä»£ç å®ç°ï¼š</p><pre><code class=\"language-plain\">scores = np.random.rand(256, 256, 2)\nscores[:,:,1] = 1 - scores[:,:,0]\n</code></pre><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„ç–‘é—®æˆ–è€…æ”¶è·ï¼Œä¹Ÿæ¨èä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":316448,"user_name":"IUniverse","can_delete":false,"product_type":"c1","uid":2620618,"ip_address":"","ucode":"077BB2291E25FA","user_header":"https://static001.geekbang.org/account/avatar/00/27/fc/ca/c1b8d9ca.jpg","comment_is_top":false,"comment_ctime":1634306203,"is_pvip":false,"replies":[{"id":"114603","content":"ä½ å¥½ï¼ŒIUniverseã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ä½ çš„å›ç­”æ˜¯æ­£ç¡®çš„ğŸ‘ğŸ»ã€‚^^","user_name":"ä½œè€…å›å¤","comment_id":316448,"uid":"2802608","ip_address":"","utype":1,"ctime":1634350233,"user_name_real":"æ–¹è¿œ"}],"discussion_count":1,"race_medal":0,"score":"70353782939","product_id":100093301,"comment_content":"import numpy as np <br><br>scores=np.random.rand(256,256,2)<br>scores[:,:,0]=1-scores[:,:,1]<br>mask=np.argmax(scores,axis=2)<br>print(mask)","like_count":16,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528385,"discussion_content":"ä½ å¥½ï¼ŒIUniverseã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ä½ çš„å›ç­”æ˜¯æ­£ç¡®çš„ğŸ‘ğŸ»ã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634350233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316386,"user_name":"Yuhan","can_delete":false,"product_type":"c1","uid":2767570,"ip_address":"","ucode":"38CC135D8BBF67","user_header":"https://static001.geekbang.org/account/avatar/00/2a/3a/d2/cbd2c882.jpg","comment_is_top":false,"comment_ctime":1634293805,"is_pvip":false,"replies":[{"id":"114585","content":"ä½ å¥½ï¼ŒYuhanã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ï¼Œä½ çš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ã€‚^^","user_name":"ä½œè€…å›å¤","comment_id":316386,"uid":"2802608","ip_address":"","utype":1,"ctime":1634301994,"user_name_real":"æ–¹è¿œ"}],"discussion_count":2,"race_medal":0,"score":"35994032173","product_id":100093301,"comment_content":"æ–¹æ³•ä¸€ï¼š<br>result = np.argmax(scores, axis=2)<br>æ–¹æ³•äºŒï¼š<br>result = (scores[:, :, 0] &lt; scores[:, :, 1]).astype(&#39;int&#39;)","like_count":9,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528375,"discussion_content":"ä½ å¥½ï¼ŒYuhanã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ï¼Œä½ çš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634301994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2822701,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/12/2d/aba06a9a.jpg","nickname":"ææ³½","note":"","ucode":"136225FC58F164","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580613,"discussion_content":"ç¬¬ä¸€ç§ç§’å•Šï¼Œä½†æ˜¯æˆ‘è§‰å¾—ç¬¬äºŒç§å¯è¯»æ€§æ›´é«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658291822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317926,"user_name":"ç‹éª¥","can_delete":false,"product_type":"c1","uid":1049879,"ip_address":"","ucode":"CE53ADEA51235A","user_header":"https://static001.geekbang.org/account/avatar/00/10/05/17/63887353.jpg","comment_is_top":false,"comment_ctime":1635061128,"is_pvip":false,"replies":[{"id":"115200","content":"ä½ å¥½ï¼Œç‹éª¥ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>é—®é¢˜å‡ºç°åœ¨æœ€åçš„é‚£ä¸ªå†’å·ä¸Š^^ã€‚<br>å…ˆçœ‹åªç•™ r é€šé“çš„ä»£ç ã€‚<br>im_pillow_c1_3ch[:, :, 1:] = 0 è¿™ä¸€è¡Œä¸­çš„&quot;1:&quot;æ˜¯æŒ‡å°†ä»ç¬¬ä¸€ä¸ªé€šé“åˆ°æœ€åé€šé“çš„æ‰€æœ‰æ•°æ®èµ‹å€¼ä¸º0ã€‚<br>im_pillow_c1_3ch[:, :, 2:] = 0è¿™ä¸€è¡Œä¸­çš„&quot;2:&quot;æ˜¯æŒ‡å°†ä»ç¬¬äºŒä¸ªé€šé“åˆ°æœ€åé€šé“çš„æ‰€æœ‰æ•°æ®èµ‹å€¼ä¸º0ã€‚<br>å…¶å®ï¼Œåœ¨ç¬¬ä¸€è¡Œä¸­å·²ç»æŠŠç¬¬äºŒè¡Œçš„æ•°æ®éƒ½èµ‹å€¼ä¸º0äº†ã€‚<br>åˆå› ä¸ºæ˜¾ç¤ºRé€šé“çš„æ•°æ®æ˜¯å°†ç¬¬1å’Œç¬¬2ä¸ªé€šé“çš„æ•°æ®éƒ½èµ‹å€¼ä¸º0ï¼Œæ‰€ä»¥åªæœ‰Rçš„é€šé“æ˜¯æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥ã€‚<br>åœ¨â€œåªä¿ç•™gé€šé“â€çš„ä»£ç ä¸­ï¼Œ&quot;0:&quot;æ˜¯æŒ‡ä»ç¬¬0ä¸ªé€šé“å¼€å§‹åˆ°æœ€åä¸€ä¸ªé€šé“çš„æ‰€æœ‰æ•°æ®éƒ½èµ‹å€¼ä¸º0ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸ºé»‘è‰²äº†ã€‚<br>â€œ# åªç•™ b é€šé“â€çš„ä»£ç åŒç†ã€‚<br><br>å¯ä»¥è¿™æ ·ä¿®æ”¹ä»£ç ï¼š<br># åªç•™ r é€šé“<br>im_pillow_c1_3ch[:, :, 1:] = 0<br># åªç•™ g é€šé“ <br>im_pillow_c2_3ch[:, :, 0] = 0<br>im_pillow_c2_3ch[:, :, 2] = 0<br># åªç•™ b é€šé“ <br>im_pillow_c3_3ch[:, :, 0:1] = 0","user_name":"ä½œè€…å›å¤","comment_id":317926,"uid":"2802608","ip_address":"","utype":1,"ctime":1635078908,"user_name_real":"æ–¹è¿œ"}],"discussion_count":5,"race_medal":0,"score":"10224995720","product_id":100093301,"comment_content":"    im_pillow_c1_3ch = im_pillow.copy()<br>    im_pillow_c2_3ch = im_pillow.copy()<br>    im_pillow_c3_3ch = im_pillow.copy()<br>    # åªç•™ r é€šé“<br>    im_pillow_c1_3ch[:, :, 1:] = 0<br>    im_pillow_c1_3ch[:, :, 2:] = 0<br>    # åªç•™ g é€šé“ <br>    im_pillow_c2_3ch[:, :, 0:] = 0<br>    im_pillow_c2_3ch[:, :, 2:] = 0<br>    # åªç•™ b é€šé“ <br>    im_pillow_c3_3ch[:, :, 0:] = 0<br>    im_pillow_c3_3ch[:, :, 1:] = 0<br><br>è€å¸ˆï¼Œå°è¯•ç”¨æ·±æ‹·è´æ¥å®ç°RGBé€šé“è¿‡æ»¤ã€‚R æ˜¾ç¤ºæ²¡æœ‰é—®é¢˜ï¼Œä¸è¿‡åœ¨æ˜¾ç¤º GB é€šé“çš„æ—¶å€™ï¼Œè·å¾—çš„å›¾ç‰‡èƒŒæ™¯æ˜¯é»‘è‰²çš„ã€‚æ˜¯æˆ‘å“ªé‡Œç†è§£å‡ºäº†é—®é¢˜å—ï¼Ÿè¿˜æ˜¯ä»£ç æœ‰é—®é¢˜ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529033,"discussion_content":"ä½ å¥½ï¼Œç‹éª¥ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\né—®é¢˜å‡ºç°åœ¨æœ€åçš„é‚£ä¸ªå†’å·ä¸Š^^ã€‚\nå…ˆçœ‹åªç•™ r é€šé“çš„ä»£ç ã€‚\nim_pillow_c1_3ch[:, :, 1:] = 0 è¿™ä¸€è¡Œä¸­çš„&amp;quot;1:&amp;quot;æ˜¯æŒ‡å°†ä»ç¬¬ä¸€ä¸ªé€šé“åˆ°æœ€åé€šé“çš„æ‰€æœ‰æ•°æ®èµ‹å€¼ä¸º0ã€‚\nim_pillow_c1_3ch[:, :, 2:] = 0è¿™ä¸€è¡Œä¸­çš„&amp;quot;2:&amp;quot;æ˜¯æŒ‡å°†ä»ç¬¬äºŒä¸ªé€šé“åˆ°æœ€åé€šé“çš„æ‰€æœ‰æ•°æ®èµ‹å€¼ä¸º0ã€‚\nå…¶å®ï¼Œåœ¨ç¬¬ä¸€è¡Œä¸­å·²ç»æŠŠç¬¬äºŒè¡Œçš„æ•°æ®éƒ½èµ‹å€¼ä¸º0äº†ã€‚\nåˆå› ä¸ºæ˜¾ç¤ºRé€šé“çš„æ•°æ®æ˜¯å°†ç¬¬1å’Œç¬¬2ä¸ªé€šé“çš„æ•°æ®éƒ½èµ‹å€¼ä¸º0ï¼Œæ‰€ä»¥åªæœ‰Rçš„é€šé“æ˜¯æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥ã€‚\nåœ¨â€œåªä¿ç•™gé€šé“â€çš„ä»£ç ä¸­ï¼Œ&amp;quot;0:&amp;quot;æ˜¯æŒ‡ä»ç¬¬0ä¸ªé€šé“å¼€å§‹åˆ°æœ€åä¸€ä¸ªé€šé“çš„æ‰€æœ‰æ•°æ®éƒ½èµ‹å€¼ä¸º0ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸ºé»‘è‰²äº†ã€‚\nâ€œ# åªç•™ b é€šé“â€çš„ä»£ç åŒç†ã€‚\n\nå¯ä»¥è¿™æ ·ä¿®æ”¹ä»£ç ï¼š\n# åªç•™ r é€šé“\nim_pillow_c1_3ch[:, :, 1:] = 0\n# åªç•™ g é€šé“ \nim_pillow_c2_3ch[:, :, 0] = 0\nim_pillow_c2_3ch[:, :, 2] = 0\n# åªç•™ b é€šé“ \nim_pillow_c3_3ch[:, :, 0:1] = 0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635078908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2876058,"avatar":"","nickname":"Geek_159427","note":"","ucode":"FB7E15A091844E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":553238,"discussion_content":"# åªç•™ b é€šé“\nim_pillow_c3_3ch[:, :, 0:1] = 0 è¿™ä¸ªç¬¬ä¸‰ç»´ä¸åº”è¯¥æ˜¯ 0:2 è€Œé 0:1 å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645779687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":529033,"ip_address":""},"score":553238,"extra":""}]},{"author":{"id":2823462,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/15/26/f973aa31.jpg","nickname":"å¹³å¸¸å¿ƒ","note":"","ucode":"53CC9FBB44A483","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407877,"discussion_content":"é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œè§£å†³äº†ã€‚è®²çš„å¾ˆæ¸…æ¥š\n# åªç•™ b é€šé“\nim_pillow_c3_3ch[:, :, :2] = 0\nè¿™æ ·æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1635142654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1255866,"avatar":"https://static001.geekbang.org/account/avatar/00/13/29/ba/3e11e36f.jpg","nickname":"æ˜å¤©å‡ºå‘","note":"","ucode":"56DB1CD88BF1A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570326,"discussion_content":"# åªç•™ green é€šé“ \nim_pillow_c2_3ch[:, :, ::2] = 0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651732764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/05/17/63887353.jpg","nickname":"ç‹éª¥","note":"","ucode":"CE53ADEA51235A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408274,"discussion_content":"åŸæ¥æ˜¯è¿™æ ·ï¼Œæ˜¯æˆ‘ç†è§£é”™äº†ã€‚å‰ä¸¤ä¸ªå†’å·ä»£è¡¨1ç»´2ç»´æ‰€æœ‰é€šé“ï¼Œæ‰€ä»¥ç¬¬ä¸‰ä¸ªå†’å·å°±ä»£è¡¨ç¬¬3ç»´æ‰€æœ‰ã€‚1:ä¹Ÿå°±ä»£è¡¨ç¬¬3ç»´ç¬¬ä¸€ä¸ªé€šé“åˆ°æœ€åä¸€ä¸ªé€šé“ã€‚æ—©è¯¥æƒ³åˆ°çš„ï¼Œè„‘å­æ²¡è½¬è¿‡å¼¯ã€‚ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635214902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349775,"user_name":"nico","can_delete":false,"product_type":"c1","uid":3038188,"ip_address":"","ucode":"31A951B7ED3AE2","user_header":"https://static001.geekbang.org/account/avatar/00/2e/5b/ec/c667c792.jpg","comment_is_top":false,"comment_ctime":1656320972,"is_pvip":true,"replies":[{"id":"127364","content":"hiï¼Œä½ å¥½ï¼Œéå¸¸æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>ä¸ºäº†å¼•å‡ºnp.newaxiså’Œconcatenateå¯èƒ½ç¨å¾®æœ‰ç‚¹ç»•äº†ï¼Œconcatenateè®²çš„ä¹Ÿæœ‰ç‚¹ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘ç¨åæ›´æ–°ä¸€ä¸‹ã€‚<br><br>np.concatenateä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦åˆå¹¶çš„æ•°ç»„ï¼Œnp.concatenate((im_pillow_c1, zeros), axis=2) è¿™ä¹ˆå†™å°±æ˜¯è¦å°†im_pillow_c1ä¸zerosæ²¿ç€axis=2è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶åçš„æ•°ç»„çš„shapeæ˜¯(im_pillow_c1.shape[0], im_pillow_c1.shape[1], 3)ã€‚<br>ä»ç¬¬ä¸‰ä¸ªç»´åº¦ä¸Šæ¥çœ‹æœ‰ä¸‰ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯im_pillow_c1ï¼Œç¬¬äºŒä¸ªæ˜¯0ï¼Œç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯0ã€‚<br>æ‰€ä»¥è¿™ä¹ˆå†™ä¸‹æ¥im_pillow_c1_3chï¼Œ im_pillow_c2_3chï¼Œ im_pillow_c3_3chéƒ½æ˜¯ä¸€æ ·çš„ç»“æœã€‚<br><br>å¯ä»¥è¿™ä¹ˆä¿®æ”¹<br>zeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 1))<br>im_pillow_c1 = im_pillow_c1[:,:,np.newaxis]<br>im_pillow_c2 = im_pillow_c2[:,:,np.newaxis]<br>im_pillow_c3 = im_pillow_c3[:,:,np.newaxis]<br>im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)<br>im_pillow_c2_3ch = np.concatenate((zeros, im_pillow_c1, zeros),axis=2)<br>im_pillow_c3_3ch = np.concatenate((zeros, zeros,im_pillow_c1),axis=2)","user_name":"ä½œè€…å›å¤","comment_id":349775,"uid":"2802608","ip_address":"","utype":1,"ctime":1656490315,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5951288268","product_id":100093301,"comment_content":"è¯·é—®ä¸‹ä¸ºä»€ä¹ˆè¿™æ ·åˆå¹¶ä¸‹æ¥éƒ½æ˜¯çº¢è‰²åº•å›¾çš„ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯å¯ä»¥çš„<br>im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros), axis=2)<br>im_pillow_c2_3ch = np.concatenate((im_pillow_c2, zeros), axis=2)<br>im_pillow_c3_3ch = np.concatenate((im_pillow_c3, zeros), axis=2)","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578057,"discussion_content":"hiï¼Œä½ å¥½ï¼Œéå¸¸æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\nä¸ºäº†å¼•å‡ºnp.newaxiså’Œconcatenateå¯èƒ½ç¨å¾®æœ‰ç‚¹ç»•äº†ï¼Œconcatenateè®²çš„ä¹Ÿæœ‰ç‚¹ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘ç¨åæ›´æ–°ä¸€ä¸‹ã€‚\n\nnp.concatenateä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦åˆå¹¶çš„æ•°ç»„ï¼Œnp.concatenate((im_pillow_c1, zeros), axis=2) è¿™ä¹ˆå†™å°±æ˜¯è¦å°†im_pillow_c1ä¸zerosæ²¿ç€axis=2è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶åçš„æ•°ç»„çš„shapeæ˜¯(im_pillow_c1.shape[0], im_pillow_c1.shape[1], 3)ã€‚\nä»ç¬¬ä¸‰ä¸ªç»´åº¦ä¸Šæ¥çœ‹æœ‰ä¸‰ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯im_pillow_c1ï¼Œç¬¬äºŒä¸ªæ˜¯0ï¼Œç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯0ã€‚\næ‰€ä»¥è¿™ä¹ˆå†™ä¸‹æ¥im_pillow_c1_3chï¼Œ im_pillow_c2_3chï¼Œ im_pillow_c3_3chéƒ½æ˜¯ä¸€æ ·çš„ç»“æœã€‚\n\nå¯ä»¥è¿™ä¹ˆä¿®æ”¹\nzeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 1))\nim_pillow_c1 = im_pillow_c1[:,:,np.newaxis]\nim_pillow_c2 = im_pillow_c2[:,:,np.newaxis]\nim_pillow_c3 = im_pillow_c3[:,:,np.newaxis]\nim_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)\nim_pillow_c2_3ch = np.concatenate((zeros, im_pillow_c1, zeros),axis=2)\nim_pillow_c3_3ch = np.concatenate((zeros, zeros,im_pillow_c1),axis=2)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656490315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318169,"user_name":"clee","can_delete":false,"product_type":"c1","uid":1467446,"ip_address":"","ucode":"122875102B23A8","user_header":"","comment_is_top":false,"comment_ctime":1635169461,"is_pvip":false,"replies":[{"id":"115351","content":"ä½ å¥½ï¼Œcleeï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¦‚æœæ˜¯ç”¨Jupyterçš„è¯ï¼Œå¯ä»¥æ£€æŸ¥æ£€æŸ¥ä¸€ä¸ªå•å…ƒæ ¼æ˜¯å¦è¢«æ‰§è¡Œå¤šæ¬¡äº†ã€‚<br>æ¯”å¦‚â€œim_pillow_c1 = im_pillow_c1[:, :, np.newaxis] â€å®ƒæ‰€åœ¨çš„å•å…ƒæ ¼ã€‚ç¬¬ä¸€æ¬¡è¢«æ‰§è¡Œim_pillow_c1å˜ä¸º(116, 318, 1ï¼‰ã€‚<br>ä¸å°å¿ƒå†æ¬¡æ‰§è¡Œçš„è¯ï¼Œä¸ä¼šæŠ¥é”™ï¼Œim_pillow_c1å°±å˜ä¸º(116, 318, 1,1ï¼‰äº†ã€‚<br>å¦‚æœè¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œä½ å¯ä»¥æŠŠä½ çš„ä»£ç å‘ç»™æˆ‘çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":318169,"uid":"2802608","ip_address":"","utype":1,"ctime":1635209830,"user_name_real":"æ–¹è¿œ"}],"discussion_count":2,"race_medal":0,"score":"5930136757","product_id":100093301,"comment_content":"ä½ å¥½ï¼Œä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œ im_pillow_c1 = im_pillow_c1[:, :, np.newaxis] åæ‰“å°im_pillow_c1çš„shapeå˜é‡ï¼Œè¾“å‡ºæ˜¯  (116, 318, 1, 1, 1)ï¼Œ è€Œä¸æ˜¯ (116, 318, 1,) å‘¢<br><br>","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529125,"discussion_content":"ä½ å¥½ï¼Œcleeï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¦‚æœæ˜¯ç”¨Jupyterçš„è¯ï¼Œå¯ä»¥æ£€æŸ¥æ£€æŸ¥ä¸€ä¸ªå•å…ƒæ ¼æ˜¯å¦è¢«æ‰§è¡Œå¤šæ¬¡äº†ã€‚\næ¯”å¦‚â€œim_pillow_c1 = im_pillow_c1[:, :, np.newaxis] â€å®ƒæ‰€åœ¨çš„å•å…ƒæ ¼ã€‚ç¬¬ä¸€æ¬¡è¢«æ‰§è¡Œim_pillow_c1å˜ä¸º(116, 318, 1ï¼‰ã€‚\nä¸å°å¿ƒå†æ¬¡æ‰§è¡Œçš„è¯ï¼Œä¸ä¼šæŠ¥é”™ï¼Œim_pillow_c1å°±å˜ä¸º(116, 318, 1,1ï¼‰äº†ã€‚\nå¦‚æœè¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œä½ å¯ä»¥æŠŠä½ çš„ä»£ç å‘ç»™æˆ‘çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635209830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1467446,"avatar":"","nickname":"clee","note":"","ucode":"122875102B23A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410409,"discussion_content":"è°¢è°¢ï¼Œå°±æ˜¯è¿™ä¸ªåŸå› å¯¼è‡´çš„ï¼Œå¦å¤–æˆ‘ç”¨åŒæ ·çš„æ–¹æ³•ä¸€å°è¯•äº†im_pillow_c2å’Œim_pillow_c3ï¼Œä¸ºä»€ä¹ˆä¹Ÿä¼šå¾—åˆ°çº¢è‰²çš„èƒŒæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635689150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317905,"user_name":"å¹³å¸¸å¿ƒ","can_delete":false,"product_type":"c1","uid":2823462,"ip_address":"","ucode":"53CC9FBB44A483","user_header":"https://static001.geekbang.org/account/avatar/00/2b/15/26/f973aa31.jpg","comment_is_top":false,"comment_ctime":1635044921,"is_pvip":false,"replies":[{"id":"115203","content":"ä½ å¥½ï¼Œå¹³å¸¸å¿ƒï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å…³äºGä¸Bé€šé“çš„ä»£ç å¯ä»¥è¿™æ ·å†™ã€‚ ^^<br><br># g é€šé“ <br>im_pillow_c2_3ch = im_pillow.copy()<br>im_pillow_c2_3ch[:, :, 0] = 0<br>im_pillow_c2_3ch[:, :, 2] = 0<br># b é€šé“ <br>im_pillow_c3_3ch = im_pillow.copy()<br>im_pillow_c3_3ch[:, :, 0:1] = 0","user_name":"ä½œè€…å›å¤","comment_id":317905,"uid":"2802608","ip_address":"","utype":1,"ctime":1635079976,"user_name_real":"æ–¹è¿œ"}],"discussion_count":2,"race_medal":0,"score":"5930012217","product_id":100093301,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œä¸‹è¾¹è¿™ä¸ªé—®é¢˜ï¼š<br><br>è¯¾ç¨‹ä¸­ï¼Œæ‚¨æåˆ°ï¼šâ€œå…¶å®æˆ‘ä»¬è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„æ–¹å¼è·å¾—ä¸‰ä¸ªé€šé“çš„ BGR æ•°æ®ï¼Œåªéœ€è¦å°†å›¾ç‰‡è¯»å…¥åï¼Œç›´æ¥å°†å…¶ä¸­çš„ä¸¤ä¸ªé€šé“èµ‹å€¼ä¸º 0 å³å¯ã€‚â€<br><br>im_pillow = np.array(im)<br>im_pillow[:,:,1:]=0<br><br>è¿™ä¸ªå‡ºæ¥çš„ç»“æœæ˜¯ï¼šRé€šé“çš„å›¾åƒï¼Œæƒ³è¯·æ•™ä¸€ä¸‹ï¼ŒGã€Bé€šé“çš„å›¾åƒï¼Œç”¨åŒæ ·çš„åŠæ³•å®ç°ï¼Œä»£ç im_pillow[:,:,:]=0åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿè°¢è°¢<br>","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529023,"discussion_content":"ä½ å¥½ï¼Œå¹³å¸¸å¿ƒï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å…³äºGä¸Bé€šé“çš„ä»£ç å¯ä»¥è¿™æ ·å†™ã€‚ ^^\n\n# g é€šé“ \nim_pillow_c2_3ch = im_pillow.copy()\nim_pillow_c2_3ch[:, :, 0] = 0\nim_pillow_c2_3ch[:, :, 2] = 0\n# b é€šé“ \nim_pillow_c3_3ch = im_pillow.copy()\nim_pillow_c3_3ch[:, :, 0:1] = 0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635079976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2823462,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/15/26/f973aa31.jpg","nickname":"å¹³å¸¸å¿ƒ","note":"","ucode":"53CC9FBB44A483","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407879,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œå­¦åˆ°äº†ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ„Ÿè°¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635142961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316653,"user_name":"cab","can_delete":false,"product_type":"c1","uid":1983360,"ip_address":"","ucode":"E096A122C35ADE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ0F94uoYZQicSOIfEfSr9gH7CTKibNBsS6d9PRDd8cy7bdTCF9jibXYtf0esGqsQAItHnElejIFovxg/132","comment_is_top":false,"comment_ctime":1634476571,"is_pvip":false,"replies":[{"id":"114645","content":"ä½ å¥½ï¼Œcabï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚æ˜¯çš„ï¼Œä½ è¯´çš„æ²¡é”™ğŸ‘ğŸ»ã€‚OpenCVå¯ä»¥è¿™ä¹ˆæå–é€šé“æ•°æ®ã€‚<br>æ–‡ä¸­åªæ˜¯é€šè¿‡ç¡®å®šé€šé“é¡ºåºè¿™ä¸ªå°ä¾‹å­ï¼Œå¼•å‡ºNumpyæ•°ç»„çš„ä¸€äº›æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","comment_id":316653,"uid":"2802608","ip_address":"","utype":1,"ctime":1634483432,"user_name_real":"æ–¹è¿œ"}],"discussion_count":1,"race_medal":0,"score":"5929443867","product_id":100093301,"comment_content":"OpenCVæå–RGBé€šé“å¾ˆæ–¹ä¾¿:<br>b, g, r = cv2.split(image)","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528447,"discussion_content":"ä½ å¥½ï¼Œcabï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚æ˜¯çš„ï¼Œä½ è¯´çš„æ²¡é”™ğŸ‘ğŸ»ã€‚OpenCVå¯ä»¥è¿™ä¹ˆæå–é€šé“æ•°æ®ã€‚\næ–‡ä¸­åªæ˜¯é€šè¿‡ç¡®å®šé€šé“é¡ºåºè¿™ä¸ªå°ä¾‹å­ï¼Œå¼•å‡ºNumpyæ•°ç»„çš„ä¸€äº›æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634483432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316282,"user_name":"æ–‡æ£®ç‰¹æ²¡æœ‰çœ¼æ³ª","can_delete":false,"product_type":"c1","uid":1584477,"ip_address":"","ucode":"736BBE54D37AA5","user_header":"https://static001.geekbang.org/account/avatar/00/18/2d/5d/49f92fac.jpg","comment_is_top":false,"comment_ctime":1634258952,"is_pvip":false,"replies":[{"id":"114576","content":"ä½ å¥½ï¼Œæ–‡æ£®ç‰¹æ²¡æœ‰çœ¼æ³ªã€‚é¦–å…ˆï¼Œè°¢è°¢ä½ çš„ç•™è¨€ï¼Œç„¶åä¸ºä½ çš„æ€è·¯ç‚¹èµğŸ‘ğŸ»ã€‚<br>ä¸è¿‡ç¨å¾®æœ‰ç‚¹å°ç‘•ç–µï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯ï¼Œå¦‚æœé€šé“0çš„å€¼å¤§äºé€šé“1çš„å€¼ï¼Œé‚£ä¹ˆmaskå¯¹åº”ä½ç½®çš„æ•°å€¼å°±ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚<br>ä½ è¿™æ ·åšçš„ç»“æœæ­£å¥½æ˜¯ç›¸åäº†ã€‚<br>å¦å¤–ï¼Œä½ å¯ä»¥è€ƒè™‘è€ƒè™‘å¦‚ä½•ä½¿ç”¨èšåˆå‡½æ•°np.argmaxæ¥æ±‚è§£ï¼Œæ€è€ƒä¸€ä¸‹å®ƒçš„axisåº”è¯¥ç­‰äºå‡ ï¼Œæ‰èƒ½è·å¾—æ­£ç¡®çš„ç­”æ¡ˆã€‚^^","user_name":"ä½œè€…å›å¤","comment_id":316282,"uid":"2802608","ip_address":"","utype":1,"ctime":1634280342,"user_name_real":"æ–¹è¿œ"}],"discussion_count":1,"race_medal":0,"score":"5929226248","product_id":100093301,"comment_content":"mask = (s[:,:,0] &gt; s[:,:,1])<br>mask = mask.astype(&#39;int&#39;)","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528339,"discussion_content":"ä½ å¥½ï¼Œæ–‡æ£®ç‰¹æ²¡æœ‰çœ¼æ³ªã€‚é¦–å…ˆï¼Œè°¢è°¢ä½ çš„ç•™è¨€ï¼Œç„¶åä¸ºä½ çš„æ€è·¯ç‚¹èµğŸ‘ğŸ»ã€‚\nä¸è¿‡ç¨å¾®æœ‰ç‚¹å°ç‘•ç–µï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯ï¼Œå¦‚æœé€šé“0çš„å€¼å¤§äºé€šé“1çš„å€¼ï¼Œé‚£ä¹ˆmaskå¯¹åº”ä½ç½®çš„æ•°å€¼å°±ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚\nä½ è¿™æ ·åšçš„ç»“æœæ­£å¥½æ˜¯ç›¸åäº†ã€‚\nå¦å¤–ï¼Œä½ å¯ä»¥è€ƒè™‘è€ƒè™‘å¦‚ä½•ä½¿ç”¨èšåˆå‡½æ•°np.argmaxæ¥æ±‚è§£ï¼Œæ€è€ƒä¸€ä¸‹å®ƒçš„axisåº”è¯¥ç­‰äºå‡ ï¼Œæ‰èƒ½è·å¾—æ­£ç¡®çš„ç­”æ¡ˆã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634280342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357628,"user_name":"å¼ è·ƒé›¨","can_delete":false,"product_type":"c1","uid":1001447,"ip_address":"å†…è’™å¤","ucode":"95EE564C058806","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/e7/c15e9fa5.jpg","comment_is_top":false,"comment_ctime":1663500593,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663500593","product_id":100093301,"comment_content":"mask = np.array(scores)<br>mask [mask &gt;0.5] = 1<br>mask [mask &lt;=0.5] = 0","like_count":0},{"had_liked":false,"id":356130,"user_name":"å­™æ–°","can_delete":false,"product_type":"c1","uid":2875594,"ip_address":"è¾½å®","ucode":"A80038A479B943","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e0/ca/adfaa551.jpg","comment_is_top":false,"comment_ctime":1662001498,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662001498","product_id":100093301,"comment_content":"<br>a = np.arange(6)<br>print(a.shape)<br>è¾“å‡ºï¼š(6,)<br>print(a)<br>è¾“å‡ºï¼š[0 1 2 3 4 5]<br><br>b = a.view()<br>print(b.shape)<br>è¾“å‡ºï¼š(6,)<br>b.shape = 2, 3<br>print(b)<br>è¾“å‡ºï¼š[[0 1 2]<br> [3 4 5]]<br>b[0,0] = 111<br>print(a)<br>è¾“å‡ºï¼š[111   1   2   3   4   5]<br>print(b)<br>è¾“å‡ºï¼š[[111   1   2]<br> [  3   4   5]]<br><br>å…¶ä¸­<br>b.shape  = 2,3 å°‘äº†æ‹¬å·ï¼ŒæŠ¥é”™äº†","like_count":0},{"had_liked":false,"id":355482,"user_name":"å³°è€æ¿ç‰›é€¼","can_delete":false,"product_type":"c1","uid":2771960,"ip_address":"åŒ—äº¬","ucode":"5D4EB2F72A86A3","user_header":"https://static001.geekbang.org/account/avatar/00/2a/4b/f8/918870c5.jpg","comment_is_top":false,"comment_ctime":1661417711,"is_pvip":false,"replies":[{"id":"129382","content":"æ˜¯æ²¡çœ‹æ‡‚Maskå—ï¼Ÿå¦‚æœæ˜¯çš„è¯maskåœ¨åé¢çš„åˆ†å‰²ä¸­ä¼šæœ‰ä»‹ç»ã€‚","user_name":"ä½œè€…å›å¤","comment_id":355482,"uid":"2802608","ip_address":"åŒ—äº¬","utype":1,"ctime":1661493048,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1661417711","product_id":100093301,"comment_content":"è¯¾åä¹ é¢˜æ²¡çœ‹æ‡‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585341,"discussion_content":"æ˜¯æ²¡çœ‹æ‡‚Maskå—ï¼Ÿå¦‚æœæ˜¯çš„è¯maskåœ¨åé¢çš„åˆ†å‰²ä¸­ä¼šæœ‰ä»‹ç»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661493048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353437,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"åŒ—äº¬","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1659438487,"is_pvip":false,"replies":[{"id":"128540","content":"å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼Œæœ‰æœºä¼šä¸€èµ·åˆä½œ^^","user_name":"ä½œè€…å›å¤","comment_id":353437,"uid":"2802608","ip_address":"åŒ—äº¬","utype":1,"ctime":1659508666,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1659438487","product_id":100093301,"comment_content":"å¦æœ‰ä¸€ç‚¹æƒ³å‘æ‚¨è¯´ï¼š<br>æˆ‘æ˜¯ä¸€åå¤§äºŒçš„å­¦ç”Ÿï¼Œè™½ç„¶å’Œå‘æ‚¨ä¸€æ ·çš„ä¸šç•Œä½¼ä½¼è€…æ¯”ä¸äº†ï¼Œä½†æ˜¯æˆ‘æŠŠæ‚¨çš„è¯¾ç¨‹ä»å¤´åˆ°å°¾å­¦äº†ä¸€éï¼Œæ¯ä¸€ä¸ªä»£ç æˆ‘éƒ½è‡ªå·±å¤ç°äº†ä¸€æ¬¡ï¼Œå¦‚æœæ‚¨æœ‰åé¢æƒ³ç»§ç»­å‡ºè¯¾çš„æ‰“ç®—ï¼Œæˆ‘å¯ä»¥æ— å¿å¸®æ‚¨åšä¸€äº›åŠ›æ‰€èƒ½åŠçš„äº‹æƒ…ï¼ˆæ¯”å¦‚ä¸€äº›åŸºç¡€éƒ¨åˆ†çš„ç†è§£ï¼Œå’Œä¸€äº›ä»£ç çš„æ“ä½œï¼Œè¿è¡Œï¼Œç¿»è¯‘ç­‰å·¥ä½œï¼‰ï¼Œå¸Œæœ›æ‚¨åšå‡ºçš„è¿™ä¹ˆå¥½çš„è¯¾ç¨‹å¯ä»¥è¢«æ›´å¤šäººçœ‹è§ï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582557,"discussion_content":"å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼Œæœ‰æœºä¼šä¸€èµ·åˆä½œ^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659508666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353396,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"åŒ—äº¬","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1659423319,"is_pvip":false,"replies":[{"id":"128539","content":"æ„Ÿè°¢ä½ çš„è®¤å¯^^ åŠ æ²¹","user_name":"ä½œè€…å›å¤","comment_id":353396,"uid":"2802608","ip_address":"åŒ—äº¬","utype":1,"ctime":1659508650,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1659423319","product_id":100093301,"comment_content":"è°¢è°¢è€å¸ˆä¸€ç›´ä»¥æ¥çš„å›å¤ï¼Œæ‚¨ä¹‹å‰è¯´æœ‰æ²¡æœ‰å°±æ˜¯è¿›é˜¶è¯¾ç¨‹çš„å»ºè®®ã€‚<br>æˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼š<br>å°±æ¯”å¦‚æ‚¨åœ¨18|å›¾åƒåˆ†ç±»ï¼ˆä¸‹ï¼‰ä¸­æåˆ°çš„<br><br>â€œæˆ‘å…ˆç»™ä½ è§£è¯»ä¸€ä¸‹EfficientNetçš„è¿™ç¯‡è®ºæ–‡ï¼Œè¿™é‡Œæˆ‘ç€é‡åˆ†äº«è®ºæ–‡çš„æ ¸å¿ƒæ€è·¯è¿˜æœ‰æˆ‘çš„ç†è§£ï¼Œå­¦æœ‰ä½™åŠ›çš„åŒå­¦å¯ä»¥åœ¨è¯¾åè‡ªè¡Œé˜…è¯»åŸæ–‡ã€‚â€<br><br>æ•´ç¯‡æ–‡ç« é€šè¿‡æ‚¨çš„è§£è¯»çœ‹ä¸‹æ¥ä¹‹åå°±å‘ç°å¾ˆæµç•…ï¼Œæ•´ä½“çš„æ€è·¯å¾ˆæ˜æ™°ï¼Œè¯»äº†ä¸€ééƒ½è§‰å¾—è¯»ä¸å¤Ÿé‚£ç§ï¼Œè™½ç„¶ç°åœ¨ä¹Ÿåœ¨å­¦ä¹ è®ºæ–‡çš„æ’°å†™å’Œç†è§£ï¼Œå¯æ˜¯æœ‰å¾ˆå¤šæ—¶å€™è¿˜æ˜¯æ‰¾ä¸åˆ°æ ¸å¿ƒæˆ–è€…è¯´è¯»å®Œä¸€ç¯‡æ–‡ç« ä¸‹æ¥ç£•ç£•ç»Šç»Šçš„ï¼Œä½†æ˜¯å°±æ˜¯æ‚¨è¿™ä¹ˆåŠ å…¥è‡ªå·±çš„ç†è§£è®©åæŠ½æè®ºæ–‡çš„æ ¸å¿ƒè¦ç´ ä¹‹åå°±è§‰å¾—æ•´ç¯‡æ–‡ç« å¾ˆå¥½ç†è§£äº†ã€‚å°±æ˜¯æ€ä¹ˆè®².......åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘è§‰å¾—å¦‚æœæ—¥åæ‚¨èƒ½å‡ºä¸€ä¸ªè®ºæ–‡å¯¼è¯»ï¼Œæˆ–è€…è¯´æ˜¯ä¸åŒæ¨¡å‹çš„æ¼”ç»ƒï¼Œæˆ‘è§‰å¾—æ•ˆæœå¯èƒ½ä¼šå¾ˆå¥½ã€‚ä¸è¿‡æ— è®ºå¦‚ä½•ï¼Œè¿™å¥—è¯¾ç¨‹ä¸­çœŸçš„å¾ˆæ„Ÿè°¢æ‚¨èƒ½åˆ†äº«è¿™ä¹ˆå¤šçŸ¥è¯†ï¼Œä»æ‚¨çš„æ–‡å­—å½“ä¸­å¯ä»¥çœ‹å‡ºæ‚¨æ˜¯ä¸€ä¸ªåšå­¦ä¸”å‹å–„çš„äººï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582556,"discussion_content":"æ„Ÿè°¢ä½ çš„è®¤å¯^^ åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659508651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353293,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"åŒ—äº¬","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1659334880,"is_pvip":false,"replies":[{"id":"128440","content":"å¾ˆæ„Ÿè°¢ä½ çš„è®¤å¯å“ˆã€‚ä»1åˆ°æ— ç©·è¿™ä¸ªè¯é¢˜å¯èƒ½æœ‰ç‚¹å¤§äº†ï¼Œå¾ˆå®¹æ˜“æŒ‚ä¸€æ¼ä¸‡ã€‚å› ä¸ºå¾€ä¸‹å­¦å°±ä¸å…‰æ˜¯åŸºç¡€æ¦‚å¿µç†è§£ï¼Œè€Œæ˜¯æ€ä¹ˆç”¨å®ƒå®ç°æ›´å¤æ‚çš„AIé¡¹ç›®äº†ã€‚æ‰€ä»¥å°±æ‹¿æˆ‘è‡ªå·±æ¥è¯´å§ï¼ŒPyTorchè¿›é˜¶å¯ä»¥çœ‹çœ‹æœ€è¿‘è´¨é‡æ¯”è¾ƒé«˜çš„è®ºæ–‡çš„å®ç°æœ‰æ²¡æœ‰ç”¨Pytorchã€‚<br><br>å…¶å®æˆ‘ä¹Ÿå’Œä½ ä¸€æ ·ï¼Œä»ç„¶åœ¨å­¦ä¹ æ¢ç´¢ä¸­ã€‚ä½ æ„¿æ„çš„è¯å¯ä»¥è¯´è¯´ä½ å¿ƒç›®ä¸­æ›´è¿›é˜¶çš„è¯¾ç¨‹æ˜¯æ€æ ·çš„ï¼Œå¯èƒ½æš‚æ—¶æ²¡ä»€ä¹ˆæ—¶é—´æ¥ç»™å¤§å®¶å‡ºæ–°è¯¾ï¼Œä½†å¦‚æœå‘¼å£°æ¯”è¾ƒé«˜æˆ‘ä¼šè€ƒè™‘çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":353293,"uid":"2802608","ip_address":"åŒ—äº¬","utype":1,"ctime":1659340632,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1659334880","product_id":100093301,"comment_content":"è€å¸ˆï¼Œå¾ˆæ„Ÿè°¢æ‚¨çš„æ–‡æ¡£ï¼Œè¯·é—®æ—¥åä¼šæ›´æ–°è¿›é˜¶ç‰ˆçš„è¯¾ç¨‹ä»¥ä¾›å‚è€ƒå­¦ä¹ å—ï¼Œå› ä¸ºæ„Ÿè§‰å’±ä»¬è¿™ä¸ªè¯¾ç¨‹æ˜¯å…¥é—¨ï¼Œæ‚¨è®²å¾—å¾ˆå¥½ï¼Œå¸Œæœ›å¯ä»¥èƒ½å†è®²ä¸€è®²å¦‚ä½•ä»1åˆ°æ— ç©·ï¼Œè°¢è°¢è€å¸ˆï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582262,"discussion_content":"å¾ˆæ„Ÿè°¢ä½ çš„è®¤å¯å“ˆã€‚ä»1åˆ°æ— ç©·è¿™ä¸ªè¯é¢˜å¯èƒ½æœ‰ç‚¹å¤§äº†ï¼Œå¾ˆå®¹æ˜“æŒ‚ä¸€æ¼ä¸‡ã€‚å› ä¸ºå¾€ä¸‹å­¦å°±ä¸å…‰æ˜¯åŸºç¡€æ¦‚å¿µç†è§£ï¼Œè€Œæ˜¯æ€ä¹ˆç”¨å®ƒå®ç°æ›´å¤æ‚çš„AIé¡¹ç›®äº†ã€‚æ‰€ä»¥å°±æ‹¿æˆ‘è‡ªå·±æ¥è¯´å§ï¼ŒPyTorchè¿›é˜¶å¯ä»¥çœ‹çœ‹æœ€è¿‘è´¨é‡æ¯”è¾ƒé«˜çš„è®ºæ–‡çš„å®ç°æœ‰æ²¡æœ‰ç”¨Pytorchã€‚\n\nå…¶å®æˆ‘ä¹Ÿå’Œä½ ä¸€æ ·ï¼Œä»ç„¶åœ¨å­¦ä¹ æ¢ç´¢ä¸­ã€‚ä½ æ„¿æ„çš„è¯å¯ä»¥è¯´è¯´ä½ å¿ƒç›®ä¸­æ›´è¿›é˜¶çš„è¯¾ç¨‹æ˜¯æ€æ ·çš„ï¼Œå¯èƒ½æš‚æ—¶æ²¡ä»€ä¹ˆæ—¶é—´æ¥ç»™å¤§å®¶å‡ºæ–°è¯¾ï¼Œä½†å¦‚æœå‘¼å£°æ¯”è¾ƒé«˜æˆ‘ä¼šè€ƒè™‘çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659340632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352859,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"é™•è¥¿","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1658985199,"is_pvip":false,"replies":[{"id":"128354","content":"ä½ å¥½ï¼Œé†’ç‹®, æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>ä½ å¯èƒ½æ˜¯æŠŠé€šé“çš„é¡ºåºæé”™äº†ã€‚è¿™æ ·å†™å°±OKå•¦ã€‚<br>im_pillow_R_p = np.concatenate((im_pillow_R,zeros,zeros),axis=2)<br>im_pillow_G_p = np.concatenate((zeros,im_pillow_G,zeros),axis=2)<br>im_pillow_B_p = np.concatenate((zeros,zeros,im_pillow_B),axis=2)","user_name":"ä½œè€…å›å¤","comment_id":352859,"uid":"2802608","ip_address":"é™•è¥¿","utype":1,"ctime":1659078647,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1658985199","product_id":100093301,"comment_content":"from PIL import Image<br>im = Image.open(&#39;C:\\\\Users\\\\Pride\\\\Desktop\\\\uio.jfif&#39;)<br><br><br>import numpy as np<br>im_pillow = np.array(im)<br><br>im_pillow_R = im_pillow[:,:,0]<br>im_pillow_G = im_pillow[:,:,1]<br>im_pillow_B = im_pillow[:,:,2]<br><br>zeros = np.zeros(shape=(im_pillow.shape[0],im_pillow.shape[1],1))<br><br>im_pillow_R = im_pillow_R[:,:,np.newaxis]<br>im_pillow_G = im_pillow_G[:,:,np.newaxis]<br>im_pillow_B = im_pillow_B[:,:,np.newaxis]<br><br>im_pillow_R_p = np.concatenate((im_pillow_R,zeros,zeros),axis=2)<br><br>from matplotlib import pyplot as plt<br>plt.imshow(im_pillow_R_p.astype(np.uint8))<br>plt.savefig(&#39;.&#47;rgb_pillow.png&#39;, dpi=150)<br>plt.show()<br><br>è€å¸ˆå¥½ï¼Œæƒ³è¯·æ•™æ‚¨ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆæ‰“å°æˆ‘æ— è®ºæ¢ä¸Šè¿°æåˆ°çš„RBGå“ªç§éƒ½ä¼šæ˜¯çº¢è‰²çš„åº•ï¼Œåªæ˜¯ä¸­é—´å›¾åƒçš„é¢œè‰²ä¼šæ”¹å˜ï¼Œè°¢è°¢æ‚¨","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581937,"discussion_content":"ä½ å¥½ï¼Œé†’ç‹®, æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\nä½ å¯èƒ½æ˜¯æŠŠé€šé“çš„é¡ºåºæé”™äº†ã€‚è¿™æ ·å†™å°±OKå•¦ã€‚\nim_pillow_R_p = np.concatenate((im_pillow_R,zeros,zeros),axis=2)\nim_pillow_G_p = np.concatenate((zeros,im_pillow_G,zeros),axis=2)\nim_pillow_B_p = np.concatenate((zeros,zeros,im_pillow_B),axis=2)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659078647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350546,"user_name":"æ¸…é£æ˜æœˆ","can_delete":false,"product_type":"c1","uid":1086309,"ip_address":"","ucode":"37E01E81F9A353","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/65/6016b046.jpg","comment_is_top":false,"comment_ctime":1656997001,"is_pvip":true,"replies":[{"id":"127526","content":"hiï¼Œä½ å¥½ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>æ–¹ä¾¿æŠŠä½ çš„ä»£ç å‘ç»™æˆ‘çœ‹çœ‹å˜›ï¼Ÿ<br><br>æˆ–è€…çœ‹çœ‹è¿™ä¸ªå›ç­”èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚<br>ä¸ºäº†å¼•å‡ºnp.newaxiså’Œconcatenateçš„è®²è§£ï¼Œå¯èƒ½ç¨å¾®æœ‰ç‚¹ç»•äº†ï¼Œconcatenateè®²çš„ä¹Ÿæœ‰ç‚¹ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘ç¨åæ›´æ–°ä¸€ä¸‹ã€‚<br><br>np.concatenateä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦åˆå¹¶çš„æ•°ç»„ï¼Œnp.concatenate((im_pillow_c1, zeros), axis=2) è¿™ä¹ˆå†™å°±æ˜¯è¦å°†im_pillow_c1ä¸zerosæ²¿ç€axis=2è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶åçš„æ•°ç»„çš„shapeæ˜¯(im_pillow_c1.shape[0], im_pillow_c1.shape[1], 3)ã€‚<br>ä»ç¬¬ä¸‰ä¸ªç»´åº¦ä¸Šæ¥çœ‹æœ‰ä¸‰ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯im_pillow_c1ï¼Œç¬¬äºŒä¸ªæ˜¯0ï¼Œç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯0ã€‚<br>æ‰€ä»¥è¿™ä¹ˆå†™ä¸‹æ¥im_pillow_c1_3chï¼Œ im_pillow_c2_3chï¼Œ im_pillow_c3_3chéƒ½æ˜¯ä¸€æ ·çš„ç»“æœã€‚<br><br>å¯ä»¥è¿™ä¹ˆä¿®æ”¹<br>zeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 1))<br>im_pillow_c1 = im_pillow_c1[:,:,np.newaxis]<br>im_pillow_c2 = im_pillow_c2[:,:,np.newaxis]<br>im_pillow_c3 = im_pillow_c3[:,:,np.newaxis]<br>im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)<br>im_pillow_c2_3ch = np.concatenate((zeros, im_pillow_c1, zeros),axis=2)<br>im_pillow_c3_3ch = np.concatenate((zeros, zeros,im_pillow_c1),axis=2)","user_name":"ä½œè€…å›å¤","comment_id":350546,"uid":"2802608","ip_address":"","utype":1,"ctime":1657070217,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1656997001","product_id":100093301,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹c3ä¹Ÿé‡‡ç”¨æ‹¼æ¥æ•°ç»„æ–¹å¼ä¸€ï¼Œç”Ÿæˆä¸€ä¸ª3chçš„å¯¹è±¡ï¼Œä½†æ˜¯æ‰“å°å‡ºæ¥ä¸æ˜¯è“è‰²çš„ï¼Œæ˜¯çº¢è‰²é€šé“ï¼Œä½†æ˜¯åˆä¸å®Œå…¨ä¸€æ ·ï¼ˆé‚£ä¸ªæ©˜è‰²çš„Logoï¼Œçº¢è‰²é€šé“æ˜¯æµ…ç™½ï¼Œè¿™ä¸ªæ˜¯é»‘è‰²ï¼‰ï¼Œæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ<br>im_pillow_c3= im_pillow_c3[:,:,np.newaxis]<br>im_pillow_c3_3ch = np.concatenate((im_pillow_c3,zeros),axis=2)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578857,"discussion_content":"hiï¼Œä½ å¥½ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\næ–¹ä¾¿æŠŠä½ çš„ä»£ç å‘ç»™æˆ‘çœ‹çœ‹å˜›ï¼Ÿ\n\næˆ–è€…çœ‹çœ‹è¿™ä¸ªå›ç­”èƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ã€‚\nä¸ºäº†å¼•å‡ºnp.newaxiså’Œconcatenateçš„è®²è§£ï¼Œå¯èƒ½ç¨å¾®æœ‰ç‚¹ç»•äº†ï¼Œconcatenateè®²çš„ä¹Ÿæœ‰ç‚¹ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘ç¨åæ›´æ–°ä¸€ä¸‹ã€‚\n\nnp.concatenateä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦åˆå¹¶çš„æ•°ç»„ï¼Œnp.concatenate((im_pillow_c1, zeros), axis=2) è¿™ä¹ˆå†™å°±æ˜¯è¦å°†im_pillow_c1ä¸zerosæ²¿ç€axis=2è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶åçš„æ•°ç»„çš„shapeæ˜¯(im_pillow_c1.shape[0], im_pillow_c1.shape[1], 3)ã€‚\nä»ç¬¬ä¸‰ä¸ªç»´åº¦ä¸Šæ¥çœ‹æœ‰ä¸‰ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯im_pillow_c1ï¼Œç¬¬äºŒä¸ªæ˜¯0ï¼Œç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯0ã€‚\næ‰€ä»¥è¿™ä¹ˆå†™ä¸‹æ¥im_pillow_c1_3chï¼Œ im_pillow_c2_3chï¼Œ im_pillow_c3_3chéƒ½æ˜¯ä¸€æ ·çš„ç»“æœã€‚\n\nå¯ä»¥è¿™ä¹ˆä¿®æ”¹\nzeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 1))\nim_pillow_c1 = im_pillow_c1[:,:,np.newaxis]\nim_pillow_c2 = im_pillow_c2[:,:,np.newaxis]\nim_pillow_c3 = im_pillow_c3[:,:,np.newaxis]\nim_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros, zeros),axis=2)\nim_pillow_c2_3ch = np.concatenate((zeros, im_pillow_c1, zeros),axis=2)\nim_pillow_c3_3ch = np.concatenate((zeros, zeros,im_pillow_c1),axis=2)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657070217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349776,"user_name":"nico","can_delete":false,"product_type":"c1","uid":3038188,"ip_address":"","ucode":"31A951B7ED3AE2","user_header":"https://static001.geekbang.org/account/avatar/00/2e/5b/ec/c667c792.jpg","comment_is_top":false,"comment_ctime":1656321103,"is_pvip":true,"replies":[{"id":"127365","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","comment_id":349776,"uid":"2802608","ip_address":"","utype":1,"ctime":1656490326,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1656321103","product_id":100093301,"comment_content":"å®Œæ•´çš„ä»£ç ï¼š<br>im = Image.open(&#39;src&#47;jk.jpg&#39;)<br>print(im.size)<br><br>im_pillow = np.asarray(im)<br>print(im_pillow.shape)<br><br>im_pillow_c1 = im_pillow[:, :, 0]<br>im_pillow_c2 = im_pillow[:, :, 1]<br>im_pillow_c3 = im_pillow[:, :, 2]<br><br>zeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 2))<br><br># im_pillow_c1 = im_pillow_c1[:,:,np.newaxis]<br># im_pillow_c2 = im_pillow_c2[:,:,np.newaxis]<br># im_pillow_c3 = im_pillow_c3[:,:,np.newaxis]<br><br># im_pillow_c1_3ch = np.concatenate((im_pillow_c1, zeros), axis=2)<br># im_pillow_c2_3ch = np.concatenate((im_pillow_c2, zeros), axis=2)<br># im_pillow_c3_3ch = np.concatenate((im_pillow_c3, zeros), axis=2)<br><br>im_pillow_c1_3ch = np.zeros(im_pillow.shape)<br>im_pillow_c1_3ch[:,:,0] = im_pillow_c1<br><br>im_pillow_c2_3ch = np.zeros(im_pillow.shape)<br>im_pillow_c2_3ch[:,:,1] = im_pillow_c2<br><br>im_pillow_c3_3ch = np.zeros(im_pillow.shape)<br>im_pillow_c3_3ch[:,:,2] = im_pillow_c3","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578058,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656490326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344711,"user_name":"æ˜å¤©å‡ºå‘","can_delete":false,"product_type":"c1","uid":1255866,"ip_address":"","ucode":"56DB1CD88BF1A7","user_header":"https://static001.geekbang.org/account/avatar/00/13/29/ba/3e11e36f.jpg","comment_is_top":false,"comment_ctime":1651733977,"is_pvip":false,"replies":[{"id":"126121","content":"ä½ å¥½ï¼Œæ˜å¤©å‡ºå‘ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>æŠ±æ­‰å›å¤è¿Ÿäº†ã€‚<br>plt.showçš„é»˜è®¤é¡ºåºæ˜¯RGBçš„ã€‚cv2.imshow()çš„é¡ºåºæ˜¯BGRï¼Œæ‰“å°Opencvçš„ç»“æœç”¨cv2.imshowéªŒè¯æ¯”è¾ƒå¥½ã€‚","user_name":"ä½œè€…å›å¤","comment_id":344711,"uid":"2802608","ip_address":"","utype":1,"ctime":1652410887,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1651733977","product_id":100093301,"comment_content":"è¿™é‡Œæˆ‘ä½¿ç”¨OpenCVæŠ½å–äº†ï¼¢ã€ï¼§ã€ï¼²é€šé“ï¼Œä½¿ç”¨matploylibæ˜¾ç¤ºåŸå›¾æ˜¯æŒ‰ï¼¢ï¼§ï¼²æ˜¾ç¤ºçš„ï¼Œå¯¹æ¯ä¸ªé€šé“æ˜¾ç¤ºæ—¶ï¼Œåè€Œæ˜¾ç¤ºå‡ºäº†ï¼²ã€ï¼§ã€ï¼¢ï¼Œæ˜¯ä¸æ˜¯matploylibä¼šè‡ªåŠ¨æ£€æµ‹è¯†åˆ«ï¼Ÿ<br><br>import cv2<br>import numpy as np<br>from matplotlib import pyplot as plt<br><br>im = cv2.imread(&#39;images&#47;IMG_9324.PNG&#39;)<br>im_cv_c1 = np.array(im)<br>im_cv_c1[:, :, 1:] = 0<br>im_cv_c2 = np.array(im)<br>im_cv_c2[:, :, ::2] =0 #ä¿ç•™Greené€šé“<br>im_cv_c3 = np.array(im)<br>im_cv_c3[:, :, :2] = 0<br><br>plt.subplot(2, 2, 1)<br>plt.title(&#39;Origin Image&#39;)<br>plt.imshow(im)<br>plt.axis(&#39;off&#39;)<br>plt.subplot(2, 2, 2)<br>plt.title(&#39;Blue Channel&#39;)<br>plt.imshow(im_cv_c1)<br>plt.axis(&#39;off&#39;)<br>plt.subplot(2, 2, 3)<br>plt.title(&#39;Green Channel&#39;)<br>plt.imshow(im_cv_c2)<br>plt.axis(&#39;off&#39;)<br>plt.subplot(2, 2, 4)<br>plt.title(&#39;Red Channel&#39;)<br>plt.imshow(im_cv_c3)<br>plt.axis(&#39;off&#39;)<br>plt.show()","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571797,"discussion_content":"ä½ å¥½ï¼Œæ˜å¤©å‡ºå‘ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\næŠ±æ­‰å›å¤è¿Ÿäº†ã€‚\nplt.showçš„é»˜è®¤é¡ºåºæ˜¯RGBçš„ã€‚cv2.imshow()çš„é¡ºåºæ˜¯BGRï¼Œæ‰“å°Opencvçš„ç»“æœç”¨cv2.imshowéªŒè¯æ¯”è¾ƒå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652410888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045809,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/31/bbb513ba.jpg","nickname":"mtfelix","note":"","ucode":"8C838BC0FC1F58","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584980,"discussion_content":"è¿œç¨‹è°ƒè¯•çš„è¯å¯èƒ½cv2.imshow()æ— æ³•æ­£å¸¸æ‰§è¡Œã€‚å¯ä»¥ç”¨cv2.imwrite()ä¿å­˜åæ‰“å¼€å†çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661255632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325418,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1638952766,"is_pvip":true,"replies":[{"id":"118097","content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","comment_id":325418,"uid":"2802608","ip_address":"","utype":1,"ctime":1639015438,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1638952766","product_id":100093301,"comment_content":"ä¹‹å‰ç”¨plt.showå±•ç¤ºOpenCVè¯»å–è¿›æ¥çš„å›¾ï¼Œå‘ç°é¢œè‰²å’ŒåŸå›¾ä¸å¯¹ï¼Œè¿˜ä»¥ä¸ºæ˜¯matplotlibçš„ç‰¹æ€§ï¼Œç»è¿‡è€å¸ˆæé†’æ‰æ„è¯†åˆ°ï¼ŒåŸæ¥æ˜¯è¯»å–æ¨¡å¼ä¸ºBGRå¯¼è‡´çš„ã€‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537258,"discussion_content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639015438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324423,"user_name":"zoob","can_delete":false,"product_type":"c1","uid":1253923,"ip_address":"","ucode":"C4FE6AC20403B9","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/23/16c3ea01.jpg","comment_is_top":false,"comment_ctime":1638428170,"is_pvip":false,"replies":[{"id":"117734","content":"ä½ å¥½ï¼Œçœ‹èµ·æ¥æ²¡æœ‰é—®é¢˜å•Šã€‚<br>å›¾ç‰‡çš„è·¯å¾„å†™å¯¹äº†å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":324423,"uid":"2802608","ip_address":"","utype":1,"ctime":1638437188,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1638428170","product_id":100093301,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆæˆ‘ç”¨opencvè¯»å–çš„jpgå›¾ç‰‡æ—¶ï¼Œim_cv2 = cv2.imread(&quot;JPG1.jpg&quot;),type(im_cv2)æ˜¾ç¤ºçš„æ˜¯NoneType","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535421,"discussion_content":"ä½ å¥½ï¼Œçœ‹èµ·æ¥æ²¡æœ‰é—®é¢˜å•Šã€‚\nå›¾ç‰‡çš„è·¯å¾„å†™å¯¹äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638437188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1142325,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6e/35/11008e02.jpg","nickname":"forever","note":"","ucode":"AAA930B496D5A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543367,"discussion_content":"æˆ‘ä¹Ÿå‡ºç°è¿™ä¸ªé—®é¢˜äº†ï¼Œæ˜¯å› ä¸ºè·¯å¾„æˆ–è€…å›¾ç‰‡åä¸­æœ‰ä¸­æ–‡ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641107721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321147,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1237846,"ip_address":"","ucode":"43235F32B7F9D8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e3/56/5fc6c92c.jpg","comment_is_top":false,"comment_ctime":1636688402,"is_pvip":false,"replies":[{"id":"116688","content":"ä½ å¥½ï¼Œå°ä¼Ÿã€‚è¿™ä¸ªä¼¼ä¹ä¸numpyç‰ˆæœ¬æœ‰å…³ã€‚æˆ‘çš„æ˜¯1.20.1ã€‚<br>ä½ å¯ä»¥æ‰“å°img_arr.flagsçœ‹çœ‹ã€‚æˆ‘æ‰“å°å‡ºæ¥çš„WRITEABLE æ˜¯Falseã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636808438,"ip_address":"","comment_id":321147,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1636688402","product_id":100093301,"comment_content":"img = Image.open(&quot;jike.jpg&quot;)<br>img_arr = np.asarray(img)<br>img_arr[:, :, 1:] = 0<br>print(img_arr)<br><br>è€å¸ˆ æˆ‘åœ¨pycharmé‡Œé¢æ‰§è¡Œä¸Šé¢çš„ä»£ç å¯ä»¥æ­£å¸¸çš„ä¿®æ”¹æ•°ç»„å¹¶æ‰“å°ï¼Œå¹¶æ²¡æœ‰æŠ¥é”™ï¼Œnumpyçš„ç‰ˆæœ¬æ˜¯1.21.4","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530232,"discussion_content":"ä½ å¥½ï¼Œå°ä¼Ÿã€‚è¿™ä¸ªä¼¼ä¹ä¸numpyç‰ˆæœ¬æœ‰å…³ã€‚æˆ‘çš„æ˜¯1.20.1ã€‚\nä½ å¯ä»¥æ‰“å°img_arr.flagsçœ‹çœ‹ã€‚æˆ‘æ‰“å°å‡ºæ¥çš„WRITEABLE æ˜¯Falseã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636808438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1237846,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e3/56/5fc6c92c.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"43235F32B7F9D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414993,"discussion_content":"è€å¸ˆï¼Œæˆ‘æŠŠnumpyç‰ˆæœ¬ä¿®æ”¹æˆ1.20.1ç„¶åæ‰“å°WRITEABLEï¼Œå‘ç°è¿˜æ˜¯Trueï¼Œç„¶åæ€€ç–‘æ˜¯Pillowç‰ˆæœ¬çš„åŸå› ï¼ŒæŠŠPillowç‰ˆæœ¬é™ä½åˆ°8.20.0åWRITEABLå˜æˆäº†Falseï¼Œä¹Ÿå°±æ˜¯Pillowç‰ˆæœ¬ä»8.30.0ä»¥ånumpyæŒ‰ç…§asarrayè¯»å–å›¾ç‰‡å°†æ˜¯å¯ä¿®æ”¹çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636957292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1237846,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e3/56/5fc6c92c.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"43235F32B7F9D8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530598,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637111237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":414993,"ip_address":""},"score":530598,"extra":"{\"user_type\":2}"}]}]},{"had_liked":false,"id":319721,"user_name":"ç‹ç","can_delete":false,"product_type":"c1","uid":2822974,"ip_address":"","ucode":"5074BA9DD3DE88","user_header":"https://static001.geekbang.org/account/avatar/00/2b/13/3e/d028cddd.jpg","comment_is_top":false,"comment_ctime":1635922489,"is_pvip":false,"replies":[{"id":"116069","content":"ä½ å¥½ï¼Œç‹çï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚<br>æ˜¯çš„ï¼Œä¸¤è€…éƒ½å¯ä»¥ã€‚<br>ä½†ä½¿ç”¨np.argmax()æ¯”è¾ƒå¥½ã€‚å¦‚æœé¢˜ç›®ä¸­ä¸æ˜¯2ä¸ªé€šé“ï¼ŒäºŒæ˜¯100ä¸ªé€šé“çš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>å¦å¤–ä½¿ç”¨np.argmax()éœ€è¦æ³¨æ„è½´çš„æ–¹å‘ã€‚<br>åœ¨è¿™èŠ‚çš„é¢˜ç›®ä¸­ï¼Œaxisåº”è¯¥ä¸º1.","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636116936,"ip_address":"","comment_id":319721,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635922489","product_id":100093301,"comment_content":"maskå¯ä»¥ç”¨argmaxæ±‚ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨å¸ƒå°”è¿ç®—<br>mask = np.argmax(scores)<br>mask = (scores[:,:,0] &lt; scores[:,:,1]).astype(int)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529738,"discussion_content":"ä½ å¥½ï¼Œç‹çï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚\næ˜¯çš„ï¼Œä¸¤è€…éƒ½å¯ä»¥ã€‚\nä½†ä½¿ç”¨np.argmax()æ¯”è¾ƒå¥½ã€‚å¦‚æœé¢˜ç›®ä¸­ä¸æ˜¯2ä¸ªé€šé“ï¼ŒäºŒæ˜¯100ä¸ªé€šé“çš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ\nå¦å¤–ä½¿ç”¨np.argmax()éœ€è¦æ³¨æ„è½´çš„æ–¹å‘ã€‚\nåœ¨è¿™èŠ‚çš„é¢˜ç›®ä¸­ï¼Œaxisåº”è¯¥ä¸º1.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636116936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319719,"user_name":"ç‹ç","can_delete":false,"product_type":"c1","uid":2822974,"ip_address":"","ucode":"5074BA9DD3DE88","user_header":"https://static001.geekbang.org/account/avatar/00/2b/13/3e/d028cddd.jpg","comment_is_top":false,"comment_ctime":1635921941,"is_pvip":false,"replies":[{"id":"116068","content":"ä½ å¥½ï¼Œç‹çï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¾ˆèµçš„é—®é¢˜ğŸ‘ğŸ»ï¼Œplt.showçš„é»˜è®¤é¡ºåºæ˜¯RGBçš„ã€‚cv2.imshow()çš„é¡ºåºæ˜¯BGRï¼Œæ‰“å°Opencvçš„ç»“æœç”¨cv2.imshowéªŒè¯æ¯”è¾ƒå¥½ã€‚ä»£ç å¦‚ä¸‹ï¼š<br>import cv2<br><br>im = cv2.imread(&#39;jk.jpg&#39;)<br><br>b = im.copy()<br>b[:,:,1:] = 0<br><br>g = im.copy()<br>g[:,:,0] = 0<br>g[:,:,2] = 0<br><br>r = im.copy()<br>r[:,:,0:2] = 0<br><br>cv2.imshow(&#39;show&#39;, r)<br>cv2.waitKey(0)<br>cv2.destoryAllWindows()","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636116563,"ip_address":"","comment_id":319719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635921941","product_id":100093301,"comment_content":"ç”¨cv2è¯»å–å›¾ç‰‡ååˆ†3é€šé“æ˜¾ç¤ºå‡ºæ¥çš„å›¾åƒä¸pillowè¯»å–çš„ä¸€è‡´ï¼Œé€šé“é¡ºåºéƒ½æ˜¯Rã€Gã€Bï¼Œæ²¡æœ‰ä¸ä¸€æ ·å“¦<br><br>import cv2<br>im_cv2 = cv2.imread(&#39;jk.jpgâ€™)<br># Ré€šé“<br>im_cv2_c1 = im_cv2.copy()<br>im_cv2_c1[:,:,1:]=0<br># Gé€šé“<br>im_cv2_c2 = im_cv2.copy()<br>im_cv2_c2[:,:,0]=0<br>im_cv2_c2[:,:,2]=0<br># Bé€šé“<br>im_cv2_c3 = im_cv2.copy()<br>im_cv2_c3[:,:,:1]=0<br>","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529736,"discussion_content":"ä½ å¥½ï¼Œç‹çï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¾ˆèµçš„é—®é¢˜ğŸ‘ğŸ»ï¼Œplt.showçš„é»˜è®¤é¡ºåºæ˜¯RGBçš„ã€‚cv2.imshow()çš„é¡ºåºæ˜¯BGRï¼Œæ‰“å°Opencvçš„ç»“æœç”¨cv2.imshowéªŒè¯æ¯”è¾ƒå¥½ã€‚ä»£ç å¦‚ä¸‹ï¼š\nimport cv2\n\nim = cv2.imread(&amp;#39;jk.jpg&amp;#39;)\n\nb = im.copy()\nb[:,:,1:] = 0\n\ng = im.copy()\ng[:,:,0] = 0\ng[:,:,2] = 0\n\nr = im.copy()\nr[:,:,0:2] = 0\n\ncv2.imshow(&amp;#39;show&amp;#39;, r)\ncv2.waitKey(0)\ncv2.destoryAllWindows()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636116563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318972,"user_name":"é­”æµå‰‘é£ä¹‹ç—•","can_delete":false,"product_type":"c1","uid":2829562,"ip_address":"","ucode":"5609F39CBCE10D","user_header":"","comment_is_top":false,"comment_ctime":1635494100,"is_pvip":false,"replies":[{"id":"115645","content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚å› ä¸ºplt.imshowçš„å±•ç¤ºçš„å›¾ç‰‡å‚æ•°éœ€è¦æ˜¯intã€‚int32æˆ–è€…int64ä¹Ÿè¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635585663,"ip_address":"","comment_id":318972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635494100","product_id":100093301,"comment_content":"plt.subplot(2, 2, 2)<br>plt.title(&#39;Red Channel&#39;)<br>plt.imshow(im_pillow_c1_3ch.astype(np.uint8))<br>plt.axis(&#39;off&#39;)<br>è¿™é‡Œä¸ºä»€ä¹ˆä¸€å®šè¦æŒ‡å®šç±»å‹ä¸ºæ— ç¬¦å·8ä½æ•´å‹ï¼Œä¸æŒ‡å®šå°±ä¸èƒ½å‡ºå›¾","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529447,"discussion_content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚å› ä¸ºplt.imshowçš„å±•ç¤ºçš„å›¾ç‰‡å‚æ•°éœ€è¦æ˜¯intã€‚int32æˆ–è€…int64ä¹Ÿè¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635585663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318143,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":2034712,"ip_address":"","ucode":"D1B0DA58E4D969","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0c/18/298a0eab.jpg","comment_is_top":false,"comment_ctime":1635162652,"is_pvip":false,"replies":[{"id":"115353","content":"ä½ å¥½ï¼Œå°å¼ºã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚è¿™é‡Œä¸€å®šæ˜¯2ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®çš„æ˜¯æŠŠRGBå›¾åƒä¸­çš„ä¸¤ä¸ªé€šé“å…³é—­ï¼ˆå…¨éƒ¨è®¾ç½®ä¸º0ï¼‰ã€‚<br>æˆ‘ä»¬é¦–å…ˆè·å¾—äº†ï¼ŒRã€Gã€Bä¸­çš„å•é€šé“æ•°æ®ï¼Œè¿™ä¸ªå•é€šé“çš„æ•°æ®å†ä¸ä¸€ä¸ª2é€šé“çš„å…¨é›¶æ•°æ®ç»„åˆåï¼Œå°±å˜æˆä¸‰é€šé“çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635209965,"ip_address":"","comment_id":318143,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635162652","product_id":100093301,"comment_content":"&quot;è·å¾—äº†æ¯ä¸ªé€šé“çš„æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ç”Ÿæˆä¸€ä¸ª 3 ç»´å…¨ 0 æ•°ç»„ï¼Œå…¨ 0 æ•°ç»„çš„å½¢çŠ¶é™¤äº†æœ€åä¸€ç»´ä¸º 2&quot;<br><br>ä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯2ï¼Ÿä¸€å®šæ˜¯2å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529117,"discussion_content":"ä½ å¥½ï¼Œå°å¼ºã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚è¿™é‡Œä¸€å®šæ˜¯2ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®çš„æ˜¯æŠŠRGBå›¾åƒä¸­çš„ä¸¤ä¸ªé€šé“å…³é—­ï¼ˆå…¨éƒ¨è®¾ç½®ä¸º0ï¼‰ã€‚\næˆ‘ä»¬é¦–å…ˆè·å¾—äº†ï¼ŒRã€Gã€Bä¸­çš„å•é€šé“æ•°æ®ï¼Œè¿™ä¸ªå•é€šé“çš„æ•°æ®å†ä¸ä¸€ä¸ª2é€šé“çš„å…¨é›¶æ•°æ®ç»„åˆåï¼Œå°±å˜æˆä¸‰é€šé“çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635209965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317887,"user_name":"ææŸ æª¬ğŸ‹","can_delete":false,"product_type":"c1","uid":2618327,"ip_address":"","ucode":"F08D1B90A623A5","user_header":"https://static001.geekbang.org/account/avatar/00/27/f3/d7/ae84f9b8.jpg","comment_is_top":false,"comment_ctime":1635008785,"is_pvip":false,"replies":[{"id":"115198","content":"ä½ å¥½ï¼ŒææŸ æª¬ğŸ‹ã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚<br>im_pillow.shape[0]ä»£è¡¨çš„æ˜¯åŸå›¾Â ï¼ˆæå®¢æ—¶é—´Logoé‚£å¼ å›¾ï¼‰çš„é«˜ï¼Œè€Œim_pillow.shape[1]ä»£è¡¨çš„æ˜¯åŸå›¾çš„å®½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635078148,"ip_address":"","comment_id":317887,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635008785","product_id":100093301,"comment_content":"è€å¸ˆæ‚¨å¥½èƒ½éº»çƒ¦æ‚¨è§£é‡Šä¸€ä¸‹zeros = np.zeros((im_pillow.shape[0], im_pillow.shape[1], 2))ä¸­çš„shape[0]å’Œshape[1]åˆ†åˆ«ä»£è¡¨çš„æ˜¯ä»€ä¹ˆå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529018,"discussion_content":"ä½ å¥½ï¼ŒææŸ æª¬ğŸ‹ã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚\nim_pillow.shape[0]ä»£è¡¨çš„æ˜¯åŸå›¾Â ï¼ˆæå®¢æ—¶é—´Logoé‚£å¼ å›¾ï¼‰çš„é«˜ï¼Œè€Œim_pillow.shape[1]ä»£è¡¨çš„æ˜¯åŸå›¾çš„å®½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635078148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317882,"user_name":"xw","can_delete":false,"product_type":"c1","uid":2822972,"ip_address":"","ucode":"C2BBE374EEA8DF","user_header":"https://static001.geekbang.org/account/avatar/00/2b/13/3c/564938a9.jpg","comment_is_top":false,"comment_ctime":1635003910,"is_pvip":false,"replies":[{"id":"115199","content":"ä½ å¥½ï¼Œxwã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»Â å®Œå…¨æ­£ç¡®^^ï¼ŒåŠ æ²¹~","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635078234,"ip_address":"","comment_id":317882,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635003910","product_id":100093301,"comment_content":"mask=np.argmax(scores,axis=2)<br>è€å¸ˆï¼Œè¯·é—®è¿™æ ·å†™å¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529017,"discussion_content":"ä½ å¥½ï¼Œxwã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»Â å®Œå…¨æ­£ç¡®^^ï¼ŒåŠ æ²¹~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635078234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317075,"user_name":"å’Œä½ ä¸€èµ·æ¬ç –çš„èƒ¡å¤§çˆ·","can_delete":false,"product_type":"c1","uid":1008587,"ip_address":"","ucode":"54607F4E17917A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/cb/7c004188.jpg","comment_is_top":false,"comment_ctime":1634658463,"is_pvip":false,"replies":[{"id":"114844","content":"ä½ å¥½ï¼Œæœ¨æœ‰ä»“åº“å­˜å‚¨è¯¾ç¨‹ä»£ç ã€‚è¯¾ç¨‹ä¸­ç»™å‡ºçš„ä»£ç åŸºæœ¬éƒ½æ˜¯å¯è¿è¡Œçš„ä»£ç ^^ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634696546,"ip_address":"","comment_id":317075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634658463","product_id":100093301,"comment_content":"è€å¸ˆï¼Œå“ªä¸ªä»“åº“å¯ä»¥æ‰¾åˆ°è¯¾ç¨‹ç”¨åˆ°çš„ä»£ç å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528642,"discussion_content":"ä½ å¥½ï¼Œæœ¨æœ‰ä»“åº“å­˜å‚¨è¯¾ç¨‹ä»£ç ã€‚è¯¾ç¨‹ä¸­ç»™å‡ºçš„ä»£ç åŸºæœ¬éƒ½æ˜¯å¯è¿è¡Œçš„ä»£ç ^^ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634696546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317073,"user_name":"å’Œä½ ä¸€èµ·æ¬ç –çš„èƒ¡å¤§çˆ·","can_delete":false,"product_type":"c1","uid":1008587,"ip_address":"","ucode":"54607F4E17917A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/cb/7c004188.jpg","comment_is_top":false,"comment_ctime":1634658221,"is_pvip":false,"replies":[{"id":"114819","content":"ä½ å¥½ï¼Œä½ çš„å›ç­”æ˜¯æ­£ç¡®çš„ğŸ‘ã€‚ä¸è¿‡ä¹Ÿå¯ä»¥è€ƒè™‘è€ƒè™‘ä½¿ç”¨èšåˆå‡½æ•°argmaxæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚^^<br>å¦‚æœè¿™é“é¢˜ç›®ä¸æ˜¯0å’Œ1ä¸¤ä¸ªé€šé“ï¼Œè€Œæ˜¯100ä¸ªé€šé“æ±‚æœ€å¤§å€¼å¯¹åº”çš„é€šé“indexï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634690626,"ip_address":"","comment_id":317073,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634658221","product_id":100093301,"comment_content":"è€å¸ˆæˆ‘è§‰å¾—è¿™å°±æ˜¯ä¸ªbroadcasting...<br>mask = (scores[:, :, 0] &lt;= scores[:, :, 1])*1","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528640,"discussion_content":"ä½ å¥½ï¼Œä½ çš„å›ç­”æ˜¯æ­£ç¡®çš„ğŸ‘ã€‚ä¸è¿‡ä¹Ÿå¯ä»¥è€ƒè™‘è€ƒè™‘ä½¿ç”¨èšåˆå‡½æ•°argmaxæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚^^\nå¦‚æœè¿™é“é¢˜ç›®ä¸æ˜¯0å’Œ1ä¸¤ä¸ªé€šé“ï¼Œè€Œæ˜¯100ä¸ªé€šé“æ±‚æœ€å¤§å€¼å¯¹åº”çš„é€šé“indexï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316928,"user_name":"æ —ç™½","can_delete":false,"product_type":"c1","uid":2810401,"ip_address":"","ucode":"8B0FBE195DA8B8","user_header":"https://static001.geekbang.org/account/avatar/00/2a/e2/21/3bb82a79.jpg","comment_is_top":false,"comment_ctime":1634615706,"is_pvip":false,"replies":[{"id":"114810","content":"ä½ å¥½ï¼Œæ —ç™½ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å†™å‡ºä»£ç è¿›è¡Œå°è¯•å·²ç»éå¸¸äº†ä¸èµ·äº†ğŸ‘ã€‚ä¸è¿‡åº”è¯¥è€ƒè™‘ä¸€ä¸‹æ•ˆç‡é—®é¢˜ï¼Œå¦‚æœè¿™é“é¢˜ç›®ä¸æ˜¯0å’Œ1ä¸¤ä¸ªé€šé“ï¼Œè€Œæ˜¯100ä¸ªé€šé“æ±‚æœ€å¤§å€¼å¯¹åº”çš„é€šé“ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢^^ã€‚ä½ å¯ä»¥æ²¿ç€è¯¾ç¨‹æœ€åèšåˆå‡½æ•°çš„æ€è·¯è€ƒè™‘è€ƒè™‘ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ä½¿ç”¨argmaxå‡½æ•°æ¥æ±‚è§£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634690295,"ip_address":"","comment_id":316928,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634615706","product_id":100093301,"comment_content":"æ³ªæµæ»¡é¢ã€‚ã€‚å¥½åƒåªæœ‰æˆ‘çš„æ˜¯æœ€å¤æ‚çš„<br>scores=np.random.rand(256,256,2)<br>scores[:,:,1] = 1 - scores[:,:,0]<br>mask=np.ones((256,256))<br>scores_0=scores[:,:,0]<br>scores_1=scores[:,:,1]<br>for i in range(256):<br>    for j in range(256):<br>        if scores_0[i][j]&gt;=scores_1[i][j]:<br>            mask[i][j]=0<br>mask.shape<br>","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528573,"discussion_content":"ä½ å¥½ï¼Œæ —ç™½ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å†™å‡ºä»£ç è¿›è¡Œå°è¯•å·²ç»éå¸¸äº†ä¸èµ·äº†ğŸ‘ã€‚ä¸è¿‡åº”è¯¥è€ƒè™‘ä¸€ä¸‹æ•ˆç‡é—®é¢˜ï¼Œå¦‚æœè¿™é“é¢˜ç›®ä¸æ˜¯0å’Œ1ä¸¤ä¸ªé€šé“ï¼Œè€Œæ˜¯100ä¸ªé€šé“æ±‚æœ€å¤§å€¼å¯¹åº”çš„é€šé“ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢^^ã€‚ä½ å¯ä»¥æ²¿ç€è¯¾ç¨‹æœ€åèšåˆå‡½æ•°çš„æ€è·¯è€ƒè™‘è€ƒè™‘ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ä½¿ç”¨argmaxå‡½æ•°æ¥æ±‚è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316729,"user_name":"vcjmhg","can_delete":false,"product_type":"c1","uid":1526461,"ip_address":"","ucode":"B508D1E9B3F974","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j24oyxHcpB5AMR9pMO6fITqnOFVOncnk2T1vdu1rYLfq1cN6Sj7xVrBVbCvHXUad2MpfyBcE4neBguxmjIxyiaQ/132","comment_is_top":false,"comment_ctime":1634527631,"is_pvip":false,"replies":[{"id":"114693","content":"ä½ å¥½ï¼Œvcjmhgã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚ä½ çš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ğŸ‘ã€‚ä¹Ÿå¯ä»¥è€ƒè™‘è€ƒè™‘ä½¿ç”¨èšåˆå‡½æ•°(argmax)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634543771,"ip_address":"","comment_id":316729,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634527631","product_id":100093301,"comment_content":"æ€è·¯ï¼š<br>åˆ†åˆ«è·å–é€šé“0å’Œé€šé“1å¯¹åº”çš„2*2çŸ©é˜µï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œè·å–ä¸€ä¸ªå¸ƒå°”ç±»å‹æ„æˆçš„çŸ©é˜µï¼Œç„¶åå°†å…¶å€¼è½¬æˆintç±»å‹ï¼Œtrueå°±ä¼šå˜æˆ1ï¼Œfalseå°±ä¼šå˜æˆ0ï¼Œæœ€ç»ˆè¾“å‡ºæ»¡è¶³è¦æ±‚çš„çŸ©é˜µç»“æœ<br>result = (scores[:, :, 0] &lt; scores[:, :, 1]).astype(&#39;int&#39;)<br>","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528478,"discussion_content":"ä½ å¥½ï¼Œvcjmhgã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚ä½ çš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ğŸ‘ã€‚ä¹Ÿå¯ä»¥è€ƒè™‘è€ƒè™‘ä½¿ç”¨èšåˆå‡½æ•°(argmax)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634543771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316312,"user_name":"èè","can_delete":false,"product_type":"c1","uid":2804554,"ip_address":"","ucode":"F255F4D46FC668","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cb/4a/17bbccb5.jpg","comment_is_top":false,"comment_ctime":1634266424,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634266424","product_id":100093301,"comment_content":"https:&#47;&#47;matplotlib.org&#47;stable&#47;gallery&#47;index.html","like_count":0},{"had_liked":false,"id":316303,"user_name":"lwg0452","can_delete":false,"product_type":"c1","uid":1853479,"ip_address":"","ucode":"0B58A1C80F9074","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyEJx6dG2dMuMz6swdfjNuw3HMoEAbtxprfdBUAyRpLFayxmwEiaYLs224LuAdwWu55ENLgsI8U4w/132","comment_is_top":false,"comment_ctime":1634265996,"is_pvip":false,"replies":[{"id":"114575","content":"ä½ å¥½ï¼Œlwg0452ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ï¼Œé¦–å…ˆä¸ºä½ çš„æ€è·¯ç‚¹èµğŸ‘ğŸ»ã€‚<br>ä¸è¿‡ç¨å¾®æœ‰ç‚¹å°ç‘•ç–µï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯ï¼Œå¦‚æœé€šé“0çš„å€¼å¤§äºé€šé“1çš„å€¼ï¼Œé‚£ä¹ˆmaskå¯¹åº”ä½ç½®çš„å€¼å°±æ˜¯0ï¼Œå¦åˆ™ä¸º1ã€‚<br>ä½ è¿™æ ·åšçš„ç»“æœæ­£å¥½æ˜¯ç›¸åäº†ã€‚<br>å¦å¤–ï¼Œä½ å¯ä»¥è€ƒè™‘è€ƒè™‘å¦‚ä½•ä½¿ç”¨èšåˆå‡½æ•°np.argmaxæ¥æ±‚è§£ï¼Œæ€è€ƒä¸€ä¸‹å®ƒçš„axisåº”è¯¥ç­‰äºå‡ ï¼Œæ‰èƒ½è·å¾—æ­£ç¡®çš„ç­”æ¡ˆã€‚ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634280118,"ip_address":"","comment_id":316303,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634265996","product_id":100093301,"comment_content":"import numpy as np<br><br>scores = np.random.rand(256, 256, 2)<br>scores[:, :, 1] = 1 - scores[:, :, 0]<br>print(scores)<br><br>mask = np.asarray(scores[:, :, 0] &gt; scores[:, :, 1])<br>print(mask)<br><br>mask = mask.astype(&#39;int&#39;)<br>print(mask)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528347,"discussion_content":"ä½ å¥½ï¼Œlwg0452ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ï¼Œé¦–å…ˆä¸ºä½ çš„æ€è·¯ç‚¹èµğŸ‘ğŸ»ã€‚\nä¸è¿‡ç¨å¾®æœ‰ç‚¹å°ç‘•ç–µï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯ï¼Œå¦‚æœé€šé“0çš„å€¼å¤§äºé€šé“1çš„å€¼ï¼Œé‚£ä¹ˆmaskå¯¹åº”ä½ç½®çš„å€¼å°±æ˜¯0ï¼Œå¦åˆ™ä¸º1ã€‚\nä½ è¿™æ ·åšçš„ç»“æœæ­£å¥½æ˜¯ç›¸åäº†ã€‚\nå¦å¤–ï¼Œä½ å¯ä»¥è€ƒè™‘è€ƒè™‘å¦‚ä½•ä½¿ç”¨èšåˆå‡½æ•°np.argmaxæ¥æ±‚è§£ï¼Œæ€è€ƒä¸€ä¸‹å®ƒçš„axisåº”è¯¥ç­‰äºå‡ ï¼Œæ‰èƒ½è·å¾—æ­£ç¡®çš„ç­”æ¡ˆã€‚ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634280118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":217593,"title":"17 | å¤§å‚éƒ½æ˜¯æ€ä¹ˆåšMySQL to RedisåŒæ­¥çš„?","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>ä¹‹å‰æˆ‘ä»¬åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/213230\">11 | MySQLå¦‚ä½•åº”å¯¹é«˜å¹¶å‘ï¼ˆä¸€ï¼‰ï¼šä½¿ç”¨ç¼“å­˜ä¿æŠ¤MySQL</a>ã€‹è¿™ä¸€èŠ‚è¯¾ä¸­ï¼Œè®²åˆ°äº†Read/Write Throughå’ŒCache Asideè¿™å‡ ç§æ›´æ–°ç¼“å­˜çš„ç­–ç•¥ï¼Œè¿™å‡ ç§ç­–ç•¥éƒ½å­˜åœ¨ç¼“å­˜ç©¿é€çš„å¯èƒ½ï¼Œå¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œé‚£å°±ç©¿é€ç¼“å­˜å»è®¿é—®æ•°æ®åº“è·å–æ•°æ®ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªè¦æˆ‘ä»¬åšå¥½ç¼“å­˜é¢„çƒ­ï¼Œè¿™ä¸ªç¼“å­˜çš„å‘½ä¸­ç‡å¾ˆé«˜ï¼Œèƒ½ç©¿é€ç¼“å­˜æ‰“åˆ°æ•°æ®åº“ä¸Šçš„è¯·æ±‚æ¯”ä¾‹å°±éå¸¸ä½ï¼Œè¿™äº›ç¼“å­˜çš„ç­–ç•¥éƒ½æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯å¦‚æœè¯´ï¼Œæˆ‘ä»¬çš„Redisç¼“å­˜æœåŠ¡çš„æ˜¯ä¸€ä¸ªè¶…å¤§è§„æ¨¡çš„ç³»ç»Ÿï¼Œé‚£å°±åˆä¸ä¸€æ ·äº†ã€‚</p><p>ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ï¼Œåœ¨è¶…å¤§è§„æ¨¡ç³»ç»Ÿä¸­ç¼“å­˜ä¼šé¢ä¸´ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Œä»¥åŠåº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„ç­–ç•¥æ¥æ›´æ–°ç¼“å­˜ã€‚</p><h2>ç¼“å­˜ç©¿é€ï¼šè¶…å¤§è§„æ¨¡ç³»ç»Ÿçš„ä¸èƒ½æ‰¿å—ä¹‹ç—›</h2><p>æˆ‘ä»¬ä¸ŠèŠ‚è¯¾è®²åˆ°äº†å¦‚ä½•æ„å»ºRedisé›†ç¾¤ï¼Œç”±äºé›†ç¾¤å¯ä»¥æ°´å¹³æ‰©å®¹ï¼Œé‚£åªè¦é›†ç¾¤è¶³å¤Ÿå¤§ï¼Œç†è®ºä¸Šæ”¯æŒæµ·é‡å¹¶å‘ä¹Ÿä¸æ˜¯é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå› ä¸ºå¹¶å‘è¯·æ±‚çš„æ•°é‡è¿™ä¸ªåŸºæ•°å¤ªå¤§äº†ï¼Œå³ä½¿æœ‰å¾ˆå°æ¯”ç‡çš„è¯·æ±‚ç©¿é€ç¼“å­˜ï¼Œæ‰“åˆ°æ•°æ®åº“ä¸Šè¯·æ±‚çš„ç»å¯¹æ•°é‡ä»ç„¶ä¸å°ã€‚åŠ ä¸Šå¤§ä¿ƒæœŸé—´çš„æµé‡å³°å€¼ï¼Œè¿˜æ˜¯å­˜åœ¨ç¼“å­˜ç©¿é€å¼•å‘é›ªå´©çš„é£é™©ã€‚</p><p>é‚£è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Ÿå…¶å®æ–¹æ³•ä½ ä¹Ÿæƒ³å¾—åˆ°ï¼Œä¸è®©è¯·æ±‚ç©¿é€ç¼“å­˜ä¸å°±è¡Œäº†ï¼Ÿåæ­£ç°åœ¨å­˜å‚¨ä¹Ÿä¾¿å®œï¼Œåªè¦ä½ ä¹°å¾—èµ·è¶³å¤Ÿå¤šçš„æœåŠ¡å™¨ï¼ŒRedisé›†ç¾¤çš„å®¹é‡å°±æ˜¯æ— é™çš„ã€‚ä¸å¦‚æŠŠå…¨é‡çš„æ•°æ®éƒ½æ”¾åœ¨Redisé›†ç¾¤é‡Œé¢ï¼Œå¤„ç†è¯»è¯·æ±‚çš„æ—¶å€™ï¼Œå¹²è„†åªè¯»Redisï¼Œä¸å»è¯»æ•°æ®åº“ã€‚è¿™æ ·å°±å®Œå…¨æ²¡æœ‰â€œç¼“å­˜ç©¿é€â€çš„é£é™©äº†ï¼Œå®é™…ä¸Šå¾ˆå¤šå¤§å‚å®ƒå°±æ˜¯è¿™ä¹ˆå¹²çš„ã€‚</p><!-- [[[read_end]]] --><p>åœ¨Redisä¸­ç¼“å­˜å…¨é‡çš„æ•°æ®ï¼Œåˆå¼•å‘äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼Œå¦‚ä½•æ¥æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å–æ¶ˆäº†ç¼“å­˜ç©¿é€çš„æœºåˆ¶ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä»ç¼“å­˜è¯»åˆ°æ•°æ®å¯ä»¥ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡è¯»åˆ°æ•°æ®ï¼Œé‚£å°±åªèƒ½è¿”å›é”™è¯¯äº†ï¼æ‰€ä»¥ï¼Œå½“ç³»ç»Ÿæ›´æ–°æ•°æ®åº“çš„æ•°æ®ä¹‹åï¼Œå¿…é¡»åŠæ—¶å»æ›´æ–°ç¼“å­˜ã€‚</p><p>è¯´åˆ°è¿™å„¿ï¼Œåˆç»•å›åˆ°é‚£ä¸ªè€é—®é¢˜ä¸Šäº†ï¼šæ€ä¹ˆä¿è¯Redisä¸­çš„æ•°æ®å’Œæ•°æ®åº“ä¸­çš„æ•°æ®åŒæ­¥æ›´æ–°ï¼Ÿæˆ‘ä»¬ä¹‹å‰è®²è¿‡ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¥è§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•éƒ½ä¸å¤ªé€‚åˆç”¨æ¥æ›´æ–°ç¼“å­˜ï¼Œ<strong>å› ä¸ºåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå¯¹æ•°æ®æ›´æ–°æœåŠ¡æœ‰å¾ˆå¼ºçš„ä¾µå…¥æ€§</strong>ã€‚æˆ‘ä»¬æ‹¿ä¸‹å•æœåŠ¡æ¥è¯´ï¼Œå¦‚æœä¸ºäº†æ›´æ–°ç¼“å­˜å¢åŠ ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ— è®ºæˆ‘ä»¬ç”¨å“ªç§åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šå½±å“ä¸‹å•æœåŠ¡çš„æ€§èƒ½ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœRedisæœ¬èº«å‡ºç°æ•…éšœï¼Œå†™å…¥æ•°æ®å¤±è´¥ï¼Œè¿˜ä¼šå¯¼è‡´ä¸‹å•å¤±è´¥ï¼Œç­‰äºæ˜¯é™ä½äº†ä¸‹å•æœåŠ¡æ€§èƒ½å’Œå¯ç”¨æ€§ï¼Œè¿™æ ·è‚¯å®šä¸è¡Œã€‚</p><p><strong>å¯¹äºåƒè®¢å•æœåŠ¡è¿™ç±»æ ¸å¿ƒçš„ä¸šåŠ¡ï¼Œä¸€ä¸ªå¯è¡Œçš„æ–¹æ³•æ˜¯ï¼Œæˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªæ›´æ–°è®¢å•ç¼“å­˜çš„æœåŠ¡ï¼Œæ¥æ”¶è®¢å•å˜æ›´çš„MQæ¶ˆæ¯ï¼Œç„¶åæ›´æ–°Redisä¸­ç¼“å­˜çš„è®¢å•æ•°æ®ã€‚</strong>å› ä¸ºè¿™ç±»æ ¸å¿ƒçš„ä¸šåŠ¡æ•°æ®ï¼Œä½¿ç”¨æ–¹éå¸¸å¤šï¼Œæœ¬æ¥å°±éœ€è¦å‘æ¶ˆæ¯ï¼Œå¢åŠ ä¸€ä¸ªæ¶ˆè´¹è®¢é˜…åŸºæœ¬æ²¡ä»€ä¹ˆæˆæœ¬ï¼Œè®¢å•æœåŠ¡æœ¬èº«ä¹Ÿä¸éœ€è¦åšä»»ä½•æ›´æ”¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7c/8e/7cec502808318409dbc719c0b1cbbc8e.jpg?wh=1142*658\" alt=\"\"></p><p>å”¯ä¸€éœ€è¦æ‹…å¿ƒçš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœä¸¢æ¶ˆæ¯äº†æ€ä¹ˆåŠï¼Ÿå› ä¸ºç°åœ¨æ¶ˆæ¯æ˜¯ç¼“å­˜æ•°æ®çš„å”¯ä¸€æ¥æºï¼Œä¸€æ—¦å‡ºç°ä¸¢æ¶ˆæ¯ï¼Œç¼“å­˜é‡Œç¼ºå¤±çš„é‚£æ¡æ•°æ®æ°¸è¿œä¸ä¼šè¢«è¡¥ä¸Šã€‚æ‰€ä»¥ï¼Œå¿…é¡»ä¿è¯æ•´ä¸ªæ¶ˆæ¯é“¾æ¡çš„å¯é æ€§ï¼Œä¸è¿‡å¥½åœ¨ç°åœ¨çš„MQé›†ç¾¤ï¼Œæ¯”å¦‚åƒKafkaæˆ–è€…RocketMQï¼Œå®ƒéƒ½æœ‰é«˜å¯ç”¨å’Œé«˜å¯é çš„ä¿è¯æœºåˆ¶ï¼Œåªè¦ä½ æ­£ç¡®é…ç½®å¥½ï¼Œæ˜¯å¯ä»¥æ»¡è¶³æ•°æ®å¯é æ€§è¦æ±‚çš„ã€‚</p><p>åƒè®¢å•æœåŠ¡è¿™æ ·ï¼Œæœ¬æ¥å°±æœ‰ç°æˆçš„æ•°æ®å˜æ›´æ¶ˆæ¯å¯ä»¥è®¢é˜…ï¼Œè¿™æ ·æ›´æ–°ç¼“å­˜è¿˜æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºå®ç°èµ·æ¥å¾ˆç®€å•ï¼Œå¯¹ç³»ç»Ÿçš„å…¶ä»–æ¨¡å—å®Œå…¨æ²¡æœ‰ä¾µå…¥ã€‚</p><h2>ä½¿ç”¨Binlogå®æ—¶æ›´æ–°Redisç¼“å­˜</h2><p>å¦‚æœæˆ‘ä»¬è¦ç¼“å­˜çš„æ•°æ®ï¼Œæœ¬æ¥æ²¡æœ‰ä¸€ä»½æ•°æ®æ›´æ–°çš„MQæ¶ˆæ¯å¯ä»¥è®¢é˜…æ€ä¹ˆåŠï¼Ÿå¾ˆå¤šå¤§å‚éƒ½é‡‡ç”¨çš„ï¼Œä¹Ÿæ˜¯æ›´é€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯è¿™æ ·çš„ã€‚</p><p>æ•°æ®æ›´æ–°æœåŠ¡åªè´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œæ›´æ–°MySQLï¼Œå®Œå…¨ä¸ç”¨ç®¡å¦‚ä½•å»æ›´æ–°ç¼“å­˜ã€‚è´Ÿè´£æ›´æ–°ç¼“å­˜çš„æœåŠ¡ï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ªMySQLçš„ä»èŠ‚ç‚¹ï¼Œä»MySQLæ¥æ”¶Binlogï¼Œè§£æBinlogä¹‹åï¼Œå¯ä»¥å¾—åˆ°å®æ—¶çš„æ•°æ®å˜æ›´ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå˜æ›´ä¿¡æ¯å»æ›´æ–°Redisç¼“å­˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/91/12/918380c0e43de2f4ef7ad5e8e9d5d212.jpg?wh=1142*639\" alt=\"\"></p><p>è¿™ç§æ”¶Binlogæ›´æ–°ç¼“å­˜çš„æ–¹æ¡ˆï¼Œå’Œåˆšåˆšæˆ‘ä»¬è®²åˆ°çš„ï¼Œæ”¶MQæ¶ˆæ¯æ›´æ–°ç¼“å­˜çš„æ–¹æ¡ˆï¼Œå…¶å®å®ƒä»¬çš„å®ç°æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å¼‚æ­¥è®¢é˜…å®æ—¶æ•°æ®å˜æ›´ä¿¡æ¯ï¼Œå»æ›´æ–°Redisã€‚åªä¸è¿‡ï¼Œç›´æ¥è¯»å–Binlogè¿™ç§æ–¹å¼ï¼Œå®ƒçš„é€šç”¨æ€§æ›´å¼ºã€‚ä¸è¦æ±‚è®¢å•æœåŠ¡å†å‘è®¢å•æ¶ˆæ¯äº†ï¼Œè®¢å•æ›´æ–°æœåŠ¡ä¹Ÿä¸ç”¨è´¹åŠ²å»è§£å†³â€œå‘æ¶ˆæ¯å¤±è´¥æ€ä¹ˆåŠï¼Ÿâ€è¿™ç§æ•°æ®ä¸€è‡´æ€§é—®é¢˜äº†ã€‚</p><p>è€Œä¸”ï¼Œåœ¨æ•´ä¸ªç¼“å­˜æ›´æ–°é“¾è·¯ä¸Šï¼Œå‡å°‘äº†ä¸€ä¸ªæ”¶å‘MQçš„ç¯èŠ‚ï¼Œä»MySQLæ›´æ–°åˆ°Redisæ›´æ–°çš„æ—¶å»¶æ›´çŸ­ï¼Œå‡ºç°æ•…éšœçš„å¯èƒ½æ€§ä¹Ÿæ›´ä½ï¼Œæ‰€ä»¥å¾ˆå¤šå¤§å‚æ›´é’çäºè¿™ç§æ–¹æ¡ˆã€‚</p><p>è¿™ä¸ªæ–¹æ¡ˆå”¯ä¸€çš„ç¼ºç‚¹æ˜¯ï¼Œå®ç°è®¢å•ç¼“å­˜æ›´æ–°æœåŠ¡æœ‰ç‚¹å„¿å¤æ‚ï¼Œæ¯•ç«Ÿä¸åƒæ”¶æ¶ˆæ¯ï¼Œæ‹¿åˆ°çš„ç›´æ¥å°±æ˜¯è®¢å•æ•°æ®ï¼Œè§£æBinlogè¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚</p><p>æœ‰å¾ˆå¤šå¼€æºçš„é¡¹ç›®å°±æä¾›äº†è®¢é˜…å’Œè§£æMySQL Binlogçš„åŠŸèƒ½ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥æ¯”è¾ƒå¸¸ç”¨çš„å¼€æºé¡¹ç›®<a href=\"https://github.com/alibaba/canal\">Canal</a>ä¸ºä¾‹ï¼Œæ¥æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•å®æ—¶æ¥æ”¶Binlogæ›´æ–°Redisç¼“å­˜ã€‚</p><p>Canalæ¨¡æ‹ŸMySQL ä¸»ä»å¤åˆ¶çš„äº¤äº’åè®®ï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ªMySQLçš„ä»èŠ‚ç‚¹ï¼Œå‘MySQLä¸»èŠ‚ç‚¹å‘é€dumpè¯·æ±‚ï¼ŒMySQLæ”¶åˆ°è¯·æ±‚åï¼Œå°±ä¼šå¼€å§‹æ¨é€Binlogç»™Canalï¼ŒCanalè§£æBinlogå­—èŠ‚æµä¹‹åï¼Œè½¬æ¢ä¸ºä¾¿äºè¯»å–çš„ç»“æ„åŒ–æ•°æ®ï¼Œä¾›ä¸‹æ¸¸ç¨‹åºè®¢é˜…ä½¿ç”¨ã€‚ä¸‹å›¾æ˜¯Canalçš„å·¥ä½œåŸç†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/45/e4/452211795717190e55c5b0ff2ab208e4.jpg?wh=1142*546\" alt=\"\"></p><p>åœ¨æˆ‘ä»¬è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒMySQLå’ŒRediséƒ½è¿è¡Œåœ¨æœ¬åœ°çš„é»˜è®¤ç«¯å£ä¸Šï¼ŒMySQLçš„ç«¯å£ä¸º3306ï¼ŒRedisçš„ç«¯å£ä¸º6379ã€‚ä¸ºäº†ä¾¿äºå¤§å®¶æ“ä½œï¼Œæˆ‘ä»¬è¿˜æ˜¯ä»¥ã€Š<a href=\"https://time.geekbang.org/column/article/206544\">04 | äº‹åŠ¡ï¼šè´¦æˆ·ä½™é¢æ€»æ˜¯å¯¹ä¸ä¸Šè´¦ï¼Œæ€ä¹ˆåŠï¼Ÿ</a>ã€‹è¿™èŠ‚è¯¾ä¸­çš„è´¦æˆ·ä½™é¢è¡¨account_balanceä½œä¸ºæ¼”ç¤ºæ•°æ®ã€‚</p><p>é¦–å…ˆï¼Œä¸‹è½½å¹¶è§£å‹Canal æœ€æ–°çš„1.1.4ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼š</p><pre><code>wget https://github.com/alibaba/canal/releases/download/canal-1.1.4/canal.deployer-1.1.4.tar.gz\ntar zvfx canal.deployer-1.1.4.tar.gz\n</code></pre><p>ç„¶åæ¥é…ç½®MySQLï¼Œæˆ‘ä»¬éœ€è¦åœ¨MySQLçš„é…ç½®æ–‡ä»¶ä¸­å¼€å¯Binlogï¼Œå¹¶è®¾ç½®Binlogçš„æ ¼å¼ä¸ºROWæ ¼å¼ã€‚</p><pre><code>[mysqld]\nlog-bin=mysql-bin # å¼€å¯Binlog\nbinlog-format=ROW # è®¾ç½®Binlogæ ¼å¼ä¸ºROW\nserver_id=1 # é…ç½®ä¸€ä¸ªServerID\n</code></pre><p>ç»™Canalå¼€ä¸€ä¸ªä¸“é—¨çš„MySQLç”¨æˆ·å¹¶æˆæƒï¼Œç¡®ä¿è¿™ä¸ªç”¨æˆ·æœ‰å¤åˆ¶Binlogçš„æƒé™ï¼š</p><pre><code>CREATE USER canal IDENTIFIED BY 'canal';  \nGRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'canal'@'%';\nFLUSH PRIVILEGES;\n</code></pre><p>é‡å¯ä¸€ä¸‹MySQLï¼Œç¡®ä¿æ‰€æœ‰çš„é…ç½®ç”Ÿæ•ˆã€‚é‡å¯åæ£€æŸ¥ä¸€ä¸‹å½“å‰çš„Binlogæ–‡ä»¶å’Œä½ç½®ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/01/8f/01293d0ccc372418f3e01c785e204b8f.png?wh=1436*310\" alt=\"\"></p><p>è®°å½•ä¸‹Fileå’ŒPositionä¸¤åˆ—çš„å€¼ï¼Œç„¶åæˆ‘ä»¬æ¥é…ç½®Canalã€‚ç¼–è¾‘Canalçš„å®ä¾‹é…ç½®æ–‡ä»¶canal/conf/example/instance.propertiesï¼Œä»¥ä¾¿è®©Canalè¿æ¥åˆ°æˆ‘ä»¬çš„MySQLä¸Šã€‚</p><pre><code>canal.instance.gtidon=false\n\n\n# position info\ncanal.instance.master.address=127.0.0.1:3306\ncanal.instance.master.journal.name=binlog.000009\ncanal.instance.master.position=155\ncanal.instance.master.timestamp=\ncanal.instance.master.gtid=\n\n\n# username/password\ncanal.instance.dbUsername=canal\ncanal.instance.dbPassword=canal\ncanal.instance.connectionCharset = UTF-8\ncanal.instance.defaultDatabaseName=test\n# table regex\ncanal.instance.filter.regex=.*\\\\..\n</code></pre><p>è¿™ä¸ªé…ç½®æ–‡ä»¶éœ€è¦é…ç½®MySQLçš„è¿æ¥åœ°å€ã€åº“åã€ç”¨æˆ·åå’Œå¯†ç ä¹‹å¤–ï¼Œè¿˜éœ€è¦é…ç½®canal.instance.master.journal.nameå’Œcanal.instance.master.positionè¿™ä¸¤ä¸ªå±æ€§ï¼Œå–å€¼å°±æ˜¯åˆšåˆšè®°å½•çš„Fileå’ŒPositionä¸¤åˆ—ã€‚ç„¶åå°±å¯ä»¥å¯åŠ¨CanalæœåŠ¡äº†ï¼š</p><pre><code>canal/bin/startup.sh\n</code></pre><p>å¯åŠ¨ä¹‹åçœ‹ä¸€ä¸‹æ—¥å¿—æ–‡ä»¶canal/logs/example/example.logï¼Œå¦‚æœé‡Œé¢æ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜å¯åŠ¨æˆåŠŸå¹¶è¿æ¥åˆ°æˆ‘ä»¬çš„MySQLä¸Šäº†ã€‚</p><p>CanalæœåŠ¡å¯åŠ¨åï¼Œä¼šå¼€å¯ä¸€ä¸ªç«¯å£ï¼ˆ11111ï¼‰ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œå®¢æˆ·ç«¯è¿æ¥ä¸ŠCanalæœåŠ¡ä¹‹åï¼Œå¯ä»¥ä»CanalæœåŠ¡æ‹‰å–æ•°æ®ï¼Œæ¯æ‹‰å–ä¸€æ‰¹æ•°æ®ï¼Œæ­£ç¡®å†™å…¥Redisä¹‹åï¼Œç»™CanalæœåŠ¡è¿”å›å¤„ç†æˆåŠŸçš„å“åº”ã€‚å¦‚æœå‘ç”Ÿå®¢æˆ·ç«¯ç¨‹åºå®•æœºæˆ–è€…å¤„ç†å¤±è´¥ç­‰å¼‚å¸¸æƒ…å†µï¼ŒCanalæœåŠ¡æ²¡æ”¶åˆ°å¤„ç†æˆåŠŸçš„å“åº”ï¼Œä¸‹æ¬¡å®¢æˆ·ç«¯æ¥æ‹‰å–çš„è¿˜æ˜¯åŒä¸€æ‰¹æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯é¡ºåºå¹¶ä¸”ä¸ä¼šä¸¢æ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å¼€å‘è´¦æˆ·ä½™é¢ç¼“å­˜çš„æ›´æ–°ç¨‹åºï¼Œä»¥ä¸‹çš„ä»£ç éƒ½æ˜¯ç”¨Javaè¯­è¨€ç¼–å†™çš„ï¼š</p><pre><code>while (true) {\n    Message message = connector.getWithoutAck(batchSize); // è·å–æŒ‡å®šæ•°é‡çš„æ•°æ®\n    long batchId = message.getId();\n    try {\n        int size = message.getEntries().size();\n        if (batchId == -1 || size == 0) {\n            Thread.sleep(1000);\n        } else {\n            processEntries(message.getEntries(), jedis);\n        }\n\n\n        connector.ack(batchId); // æäº¤ç¡®è®¤\n    } catch (Throwable t) {\n        connector.rollback(batchId); // å¤„ç†å¤±è´¥, å›æ»šæ•°æ®\n    }\n}\n</code></pre><p>è¿™ä¸ªç¨‹åºé€»è¾‘ä¹Ÿä¸å¤æ‚ï¼Œç¨‹åºå¯åŠ¨å¹¶è¿æ¥åˆ°CanalæœåŠ¡åï¼Œå°±ä¸åœåœ°æ‹‰æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å°±ç¡ä¸€ä¼šå„¿ï¼Œæœ‰æ•°æ®å°±è°ƒç”¨processEntriesæ–¹æ³•å¤„ç†æ›´æ–°ç¼“å­˜ã€‚æ¯æ‰¹æ•°æ®æ›´æ–°æˆåŠŸåï¼Œå°±è°ƒç”¨ackæ–¹æ³•ç»™CanalæœåŠ¡è¿”å›æˆåŠŸå“åº”ï¼Œå¦‚æœå¤±è´¥æŠ›å¼‚å¸¸å°±å›æ»šã€‚ä¸‹é¢æ˜¯processEntriesæ–¹æ³•çš„ä¸»è¦ä»£ç ï¼š</p><pre><code>for (CanalEntry.RowData rowData : rowChage.getRowDatasList()) {\n    if (eventType == CanalEntry.EventType.DELETE) { // åˆ é™¤\n        jedis.del(row2Key(&quot;user_id&quot;, rowData.getBeforeColumnsList()));\n    } else if (eventType == CanalEntry.EventType.INSERT) { // æ’å…¥\n        jedis.set(row2Key(&quot;user_id&quot;, rowData.getAfterColumnsList()), row2Value(rowData.getAfterColumnsList()));\n    } else { // æ›´æ–°\n        jedis.set(row2Key(&quot;user_id&quot;, rowData.getAfterColumnsList()), row2Value(rowData.getAfterColumnsList()));\n    }\n}\n</code></pre><p>è¿™é‡Œé¢æ ¹æ®äº‹ä»¶ç±»å‹æ¥åˆ†åˆ«å¤„ç†ï¼Œå¦‚æœMySQLä¸­çš„æ•°æ®åˆ é™¤äº†ï¼Œå°±åˆ é™¤Redisä¸­å¯¹åº”çš„æ•°æ®ã€‚å¦‚æœæ˜¯æ›´æ–°å’Œæ’å…¥æ“ä½œï¼Œé‚£å°±è°ƒç”¨Redisçš„SETå‘½ä»¤æ¥å†™å…¥æ•°æ®ã€‚</p><p>æŠŠè¿™ä¸ªè´¦æˆ·ç¼“å­˜æ›´æ–°æœåŠ¡å¯åŠ¨åï¼Œæˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨è´¦æˆ·ä½™é¢è¡¨æ’å…¥ä¸€æ¡è®°å½•ï¼š</p><pre><code>mysql&gt; insert into account_balance values (888, 100, NOW(), 999);\n</code></pre><p>ç„¶åæ¥çœ‹ä¸€ä¸‹Redisç¼“å­˜ï¼š</p><pre><code>127.0.0.1:6379&gt; get 888\n&quot;{\\&quot;log_id\\&quot;:\\&quot;999\\&quot;,\\&quot;balance\\&quot;:\\&quot;100\\&quot;,\\&quot;user_id\\&quot;:\\&quot;888\\&quot;,\\&quot;timestamp\\&quot;:\\&quot;2020-03-08 16:18:10\\&quot;}&quot;\n</code></pre><p>å¯ä»¥çœ‹åˆ°æ•°æ®å·²ç»è‡ªåŠ¨åŒæ­¥åˆ°Redisä¸­å»äº†ã€‚æˆ‘æŠŠè¿™ä¸ªç¤ºä¾‹çš„å®Œæ•´ä»£ç æ”¾åœ¨äº†<a href=\"https://github.com/liyue2008/canal-to-redis-example\">GitHub</a>ä¸Šä¾›ä½ å‚è€ƒã€‚</p><h2>å°ç»“</h2><p>åœ¨å¤„ç†è¶…å¤§è§„æ¨¡å¹¶å‘çš„åœºæ™¯æ—¶ï¼Œç”±äºå¹¶å‘è¯·æ±‚çš„æ•°é‡éå¸¸å¤§ï¼Œå³ä½¿å°‘é‡çš„ç¼“å­˜ç©¿é€ï¼Œä¹Ÿæœ‰å¯èƒ½æ‰“æ­»æ•°æ®åº“å¼•å‘é›ªå´©æ•ˆåº”ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç¼“å­˜å…¨é‡æ•°æ®æ¥å½»åº•é¿å…ç¼“å­˜ç©¿é€é—®é¢˜ã€‚</p><p>å¯¹äºç¼“å­˜æ•°æ®æ›´æ–°çš„æ–¹æ³•ï¼Œå¯ä»¥è®¢é˜…æ•°æ®æ›´æ–°çš„MQæ¶ˆæ¯æ¥å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œæ›´é€šç”¨çš„æ–¹æ³•æ˜¯ï¼ŒæŠŠç¼“å­˜æ›´æ–°æœåŠ¡ä¼ªè£…æˆä¸€ä¸ªMySQLçš„ä»èŠ‚ç‚¹ï¼Œè®¢é˜…MySQLçš„Binlogï¼Œé€šè¿‡Binlogæ¥æ›´æ–°Redisç¼“å­˜ã€‚</p><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ˜¯ç”¨MQè¿˜æ˜¯Canalæ¥å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œå¯¹æ•´ä¸ªæ›´æ–°æœåŠ¡çš„æ•°æ®å¯é æ€§å’Œå®æ—¶æ€§è¦æ±‚éƒ½æ¯”è¾ƒé«˜ï¼Œæ•°æ®ä¸¢å¤±æˆ–è€…æ›´æ–°æ…¢äº†ï¼Œéƒ½ä¼šé€ æˆRedisä¸­çš„æ•°æ®ä¸MySQLä¸­æ•°æ®ä¸åŒæ­¥ã€‚åœ¨æŠŠè¿™å¥—æ–¹æ¡ˆåº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒä¸­å»çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸€æ—¦å‡ºç°ä¸åŒæ­¥é—®é¢˜æ—¶çš„é™çº§æˆ–è¡¥å¿æ–¹æ¡ˆã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åè¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœå‡ºç°ç¼“å­˜ä¸åŒæ­¥çš„æƒ…å†µï¼Œåœ¨ä½ è´Ÿè´£çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œè¯¥å¦‚ä½•é™çº§æˆ–è€…è¡¥å¿ï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘è®¨è®ºã€‚</p><p>æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":203573,"user_name":"æç¥","can_delete":false,"product_type":"c1","uid":1501046,"ip_address":"","ucode":"B19E91EE248591","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","comment_is_top":true,"comment_ctime":1586235118,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"9.2233721372253e+18","product_id":100046801,"comment_content":"Hiï¼Œæˆ‘æ˜¯æç¥ã€‚<br><br>è¿™é‡Œå›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„æ€è€ƒé¢˜ï¼š<br><br>è¯¾åè¯·ä½ å†å»çœ‹ä¸€ä¸‹ HDFSï¼Œå®ƒåœ¨è§£å†³åˆ†ç‰‡ã€å¤åˆ¶å’Œé«˜å¯ç”¨è¿™å‡ æ–¹é¢ï¼Œå“ªäº›æ˜¯â€œæŠ„ä½œä¸šâ€ï¼Œå“ªäº›åˆæ˜¯è‡ªå·±ç‹¬åˆ›çš„ã€‚<br><br>HDFSé›†ç¾¤çš„æ„æˆï¼Œå’Œæˆ‘ä»¬ä¹‹å‰è®²è§£çš„å‡ ä¸ªåˆ†å¸ƒå¼å­˜å‚¨é›†ç¾¤æ˜¯ç±»ä¼¼çš„ã€‚ä¸»è¦åˆ†ä¸ºNameNodeï¼Œä¹Ÿå°±æ˜¯å­˜æ”¾å…ƒæ•°æ®å’Œè´Ÿè´£è·¯ç”±çš„èŠ‚ç‚¹ï¼Œä»¥åŠç”¨äºå­˜æ”¾æ–‡ä»¶æ•°æ®çš„DataNodeã€‚åœ¨HDFSä¸­ï¼Œå¤§æ–‡ä»¶åŒæ ·è¢«åˆ’åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—ä¼šæœ‰å¤šä¸ªå‰¯æœ¬æ¥ä¿è¯æ•°æ®å¯é æ€§ã€‚ä½†HDFSæ²¡æœ‰é‡‡ç”¨å¤åˆ¶çŠ¶æ€æœºçš„æ–¹å¼å»åŒæ­¥æ•°æ®ï¼Œè¿™å—å®ƒå®ç°äº†è‡ªå·±çš„å¤åˆ¶ç®—æ³•ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è¿›ä¸€æ­¥å»äº†è§£ä¸€ä¸‹ã€‚","like_count":23},{"had_liked":false,"id":202270,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1585956277,"is_pvip":false,"discussion_count":11,"race_medal":0,"score":"259283994037","product_id":100046801,"comment_content":"æˆ‘ä»¬çš„ç³»ç»Ÿä¹Ÿé‡‡ç”¨äº† canal ç›‘å¬ binlog å˜æ›´æ¥å¼‚æ­¥æ›´æ–° ES å’Œ redis ä¸­çš„æ•°æ®çš„æ–¹å¼<br><br>ä¸è¿‡æˆ‘ä»¬çš„æ–¹æ¡ˆå¤šäº†3ä¸ªæ­¥éª¤<br>1.canal æŠŠæ¶ˆæ¯å‘åˆ° kafka ä¸­ï¼Œåº”ç”¨ç¨‹åºç›‘å¬ topic<br>2.åº”ç”¨ç¨‹åºæ”¶åˆ°æ¶ˆæ¯åï¼Œæ ¹æ® id é‡æ–°è¯» mysql<br>3.å¢åŠ å®šæ—¶ä»»åŠ¡æ¥å¯¹æ¯”æ•°æ®åº“å’Œ ES ï¼Œredis ä¸­çš„æ•°æ®<br>https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;DPBgXftVE_cigSzzpA484w","like_count":60,"discussions":[{"author":{"id":2028941,"avatar":"","nickname":"Geek1254","note":"","ucode":"BC2F7756A0676D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391420,"discussion_content":"ä½¿ç”¨Kafkaéœ€è¦è€ƒè™‘æ¶ˆæ¯é¡ºåºå§","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1630459418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1433535,"avatar":"https://static001.geekbang.org/account/avatar/00/15/df/bf/96b50d1e.jpg","nickname":"ğŸ˜š 46","note":"","ucode":"EED0EBBBF80A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271951,"discussion_content":"ç”¨äº†binlogå°±æ²¡å¿…è¦å†ç”¨mqäº†å§","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1590226812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623409,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c5/71/f7c43b49.jpg","nickname":"é£å‘åŒ—å¹","note":"","ucode":"2FD0BC5159E1C1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221680,"discussion_content":"å¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®é‡å¤§ï¼Œå®šæ—¶ä»»åŠ¡æ€ä¹ˆå»æ¯”å¯¹æ•°æ®å•Šï¼Œæ˜¯æŒ‰è¡¨çš„æ›´æ–°æ—¶é—´å­—æ®µå¢é‡æ¯”å—ï¼Ÿå¦å¤–å®šæ—¶ä»»åŠ¡é—´éš”å‘¨æœŸæ€ä¹ˆå®šçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586046033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1608643,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8b/c3/bf036d99.jpg","nickname":"ç ¥ç ºå¥‹è¿›","note":"","ucode":"2F12FD10F749AD","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584529,"discussion_content":"ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660895364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366451,"discussion_content":"åŸºäºbinlogç›‘å¬æˆ–åŸºäºMQå‘é€æ¶ˆæ¯ï¼Œä½¿ç”¨å…¶ä¸­ä¸€ç§æ–¹å¼å°±å¯ä»¥äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618065339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1092169,"avatar":"https://static001.geekbang.org/account/avatar/00/10/aa/49/51790edb.jpg","nickname":"è½å°˜kira","note":"","ucode":"D203B519E43F85","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340445,"discussion_content":"æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯1çš„æ–¹å¼ï¼Œä½†æ¶ˆæ¯ä¸­å…¶å®ä¿å­˜äº†è¯¥æ¡è®°å½•çš„æ‰€æœ‰æ•°æ®ï¼ˆæ¯”å¦‚JSONä½“ï¼‰ï¼Œconsumerè‡ªè¡Œè§£æï¼›ä¸è¿‡ç”±äºæœ‰äº›è®°å½•æœ¬èº«æ¯”è¾ƒå¤§ï¼Œè¿™ç‚¹éœ€è¦åšé‡çš„é™åˆ¶ï¼Œè¿™æ—¶å€™é€šå¸¸consumeréœ€è¦è‡ªè¡Œé€šè¿‡idè·å–åŸçºªå½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610008051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053136,"avatar":"https://static001.geekbang.org/account/avatar/00/10/11/d0/aefbaf52.jpg","nickname":"æˆ‘æ˜¯å°ç™½007","note":"","ucode":"31499977DB27C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319137,"discussion_content":"å¾®ä¿¡çš„å›¾æ²¡æ³•æ”¾å¤§ï¼Œè¿˜æœ‰å…¶ä»–åœ°æ–¹åˆ†äº«å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603952081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1983187,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLnLia14uMsD4PxicQsAy0aqqW56mWJBImeSF2cDFVnd1icbM72F8PlUDrL99O9MF1f2Lmm8ALJ3PJfQ/132","nickname":"zry","note":"","ucode":"63E18B73002FDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284546,"discussion_content":"å±…ç„¶é‡åˆ°äº†åŒå­¦ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592552629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"æ¯å¤©æ™’ç™½ç‰™","note":"","ucode":"A1B102CD933DEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1983187,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLnLia14uMsD4PxicQsAy0aqqW56mWJBImeSF2cDFVnd1icbM72F8PlUDrL99O9MF1f2Lmm8ALJ3PJfQ/132","nickname":"zry","note":"","ucode":"63E18B73002FDC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284554,"discussion_content":"ä½ æ˜¯å“ªä½å‘€ï¼Œç•™ä¸‹å§“å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592554992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284546,"ip_address":""},"score":284554,"extra":""}]},{"author":{"id":1049208,"avatar":"https://static001.geekbang.org/account/avatar/00/10/02/78/23c56bce.jpg","nickname":"james","note":"","ucode":"5701899403917C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250155,"discussion_content":"ä½ è¿™æ ¹æ®id å†è¯»å°±è€¦åˆäº†å¤šä¸ªæœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587995007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1363834,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cf/7a/51951b07.jpg","nickname":"å¾®ç¬‘","note":"","ucode":"6E8E2964D0191F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234341,"discussion_content":"ä¸ºä»€ä¹ˆè¦å¯¹æ¯”  ä¸ç›´æ¥æ›´æ–°ğŸ¤”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586963006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220173,"user_name":"learn more","can_delete":false,"product_type":"c1","uid":1128702,"ip_address":"","ucode":"0EF628B2E0F95E","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/fe/00ddeb81.jpg","comment_is_top":false,"comment_ctime":1590196479,"is_pvip":false,"replies":[{"id":"81464","content":"å†™ä¸æ”¾åœ¨Redisä¸­æœ‰å‡ ä¸ªåŸå› ï¼š<br><br>1. Redisä¸æ˜¯å¯é çš„å­˜å‚¨ï¼Œå­˜åœ¨ä¸¢æ•°æ®çš„é£é™©ï¼›<br>2. Redisä¸æ”¯æŒäº‹åŠ¡ï¼›<br>3. Redisçš„æŸ¥è¯¢èƒ½åŠ›å¤ªå¼±ï¼Œæ²¡æ³•æ»¡è¶³å„ç§å„æ ·çš„ä¸šåŠ¡éœ€æ±‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1590369009,"ip_address":"","comment_id":220173,"utype":1}],"discussion_count":3,"race_medal":0,"score":"91784509695","product_id":100046801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¿™ç§æ–¹æ¡ˆæ˜¯ä¸æ˜¯æ•°æ®å†™èµ°MySQLï¼Œæ•°æ®è¯»èµ°redisï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæ˜¯ä¸æ˜¯é«˜å¹¶å‘çš„å†™ä¹Ÿä¼šå‡ºç°é—®é¢˜ï¼Ÿé—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸æŠŠè¯»å†™å…¨éƒ¨æ”¾åˆ°redisæ“ä½œå‘¢ï¼Ÿè¿™æ ·è¯»å’Œå†™éƒ½å¾—åˆ°æ”¹å–„ï¼Œæœ€åä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ‰¹é‡ä»redisè·å–æ•°æ®åŒæ­¥MySQLï¼Œå¸Œæœ›å¾—åˆ°è€å¸ˆçš„è§£ç­”ï¼Œè°¢è°¢ã€‚","like_count":21,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496066,"discussion_content":"å†™ä¸æ”¾åœ¨Redisä¸­æœ‰å‡ ä¸ªåŸå› ï¼š\n\n1. Redisä¸æ˜¯å¯é çš„å­˜å‚¨ï¼Œå­˜åœ¨ä¸¢æ•°æ®çš„é£é™©ï¼›\n2. Redisä¸æ”¯æŒäº‹åŠ¡ï¼›\n3. Redisçš„æŸ¥è¯¢èƒ½åŠ›å¤ªå¼±ï¼Œæ²¡æ³•æ»¡è¶³å„ç§å„æ ·çš„ä¸šåŠ¡éœ€æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590369009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1039466,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/dc/6a/b5478b65.jpg","nickname":"Ab","note":"","ucode":"8E9261782F025D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":561951,"discussion_content":"è€å¸ˆï¼Œæ˜¯ä¸æ˜¯  redisçš„å†™èƒ½åŠ›å¤ªå¼±ï¼Œä¸èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649752813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":496066,"ip_address":""},"score":561951,"extra":""}]},{"author":{"id":1433535,"avatar":"https://static001.geekbang.org/account/avatar/00/15/df/bf/96b50d1e.jpg","nickname":"ğŸ˜š 46","note":"","ucode":"EED0EBBBF80A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271960,"discussion_content":"1. redisç©ºé—´æ¯”mysqlå°å¾ˆå¤šï¼Œä¸é€‚åˆå­˜å‚¨å¤§é‡æ•°æ®\n2. redisä¸æ”¯æŒäº‹åŠ¡ï¼Œæ¶‰åŠäº¤æ˜“çš„ä¸šåŠ¡ä¸èƒ½ç›´æ¥ç”¨redisåš","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590228425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202302,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1585964748,"is_pvip":false,"replies":[{"id":"76048","content":"è¿™ç§æƒ…å†µéœ€è¦å…ˆåšä¸€æ¬¡å…¨é‡åŒæ­¥ï¼Œä¹‹åå†å¼€å¯binlogåšå¢é‡åŒæ­¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586222803,"ip_address":"","comment_id":202302,"utype":1}],"discussion_count":2,"race_medal":0,"score":"87485310668","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œç”¨binlogæ–¹å¼åŒæ­¥mysqlæ•°æ®åˆ°redisï¼Œå¦‚æœæ˜¯å·²ç»åœ¨çº¿è¿è¡Œå¾ˆä¹…çš„è¡¨æ•°æ®ï¼Œä¹Ÿé€‚åˆè½¬åˆ°è¿™ä¸ªæ–¹æ¡ˆå—ï¼Ÿéœ€è¦æŠŠä¹‹å‰çš„æ•°æ®å…¨éƒ¨åŒæ­¥åˆ°redisä¸­ï¼Œé‡è¦çš„æ˜¯è¯¥ä»binlogä¸­çš„å“ªä¸ªä½ç½®å¼€å§‹å‘¢ã€‚","like_count":20,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490551,"discussion_content":"è¿™ç§æƒ…å†µéœ€è¦å…ˆåšä¸€æ¬¡å…¨é‡åŒæ­¥ï¼Œä¹‹åå†å¼€å¯binlogåšå¢é‡åŒæ­¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586222803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207622,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","nickname":"ä¸å°æ˜","note":"","ucode":"CC23857B8D75D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221291,"discussion_content":"ç±»ä¼¼mysqlçš„ä¸»ä»åŒæ­¥ï¼Œä½ å¿…é¡»å…ˆåˆå§‹åŒ–ä¸€ä»½æ•°æ®ï¼Œè®°å½•binlogidï¼Œç­‰åˆå§‹åŒ–å®Œäº†ä»è®°å½•çš„binglogidå¼€å§‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585999718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203055,"user_name":"Mq","can_delete":false,"product_type":"c1","uid":1178359,"ip_address":"","ucode":"041F572AFAB275","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/f7/91ac44c5.jpg","comment_is_top":false,"comment_ctime":1586132943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74600576975","product_id":100046801,"comment_content":"1.å¯ä»¥å¢åŠ ä¸€ä¸ªå¯¹è´¦åŠŸèƒ½ï¼Œå¯¹æ•°æ®åº“è·Ÿç¼“å­˜çš„æ•°æ®ï¼Œæ•°æ®æœ€å¥½æœ‰ä¸ªç‰ˆæœ¬å·æˆ–æ—¶é—´ï¼ŒæŠŠä¸ä¸€è‡´æŠŠæ•°æ®åº“çš„æ•°æ®åˆ·è¿›ç¼“å­˜<br>2.æä¾›åˆ·ç”¨æˆ·ç¼“å­˜çš„æœåŠ¡ï¼Œå¯¹æŠ•è¨´ç”¨æˆ·å¯ä»¥ä¼˜å…ˆåˆ·ä¸‹","like_count":17},{"had_liked":false,"id":211193,"user_name":"ğŸ˜š 46","can_delete":false,"product_type":"c1","uid":1433535,"ip_address":"","ucode":"EED0EBBBF80A43","user_header":"https://static001.geekbang.org/account/avatar/00/15/df/bf/96b50d1e.jpg","comment_is_top":false,"comment_ctime":1587912367,"is_pvip":false,"replies":[{"id":"78785","content":"ç»å¯¹é¿å…æ˜¯å¾ˆéš¾åšåˆ°çš„ï¼Œæ›´å¤šçš„æ˜¯æƒ³åŠæ³•å»å‡è½»è¿™ä¸ªå½±å“ã€‚æ¯”å¦‚Redisé…ç½®ä¸€ä¸»ä¸€ä»çš„é«˜å¯ç”¨æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1588048912,"ip_address":"","comment_id":211193,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61717454511","product_id":100046801,"comment_content":"â€œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœ Redis æœ¬èº«å‡ºç°æ•…éšœï¼Œå†™å…¥æ•°æ®å¤±è´¥ï¼Œè¿˜ä¼šå¯¼è‡´ä¸‹å•å¤±è´¥ï¼Œç­‰äºæ˜¯é™ä½äº†ä¸‹å•æœåŠ¡æ€§èƒ½å’Œå¯ç”¨æ€§ï¼Œè¿™æ ·è‚¯å®šä¸è¡Œã€‚â€<br>çœ‹åˆ°è¿™æ®µè¯ï¼Œæƒ³é—®è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œåº”è¯¥å¦‚ä½•é¿å… Redis æœ¬èº«çš„æ•…éšœå¯¹ç³»ç»Ÿé€ æˆçš„å½±å“å‘¢ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493217,"discussion_content":"ç»å¯¹é¿å…æ˜¯å¾ˆéš¾åšåˆ°çš„ï¼Œæ›´å¤šçš„æ˜¯æƒ³åŠæ³•å»å‡è½»è¿™ä¸ªå½±å“ã€‚æ¯”å¦‚Redisé…ç½®ä¸€ä¸»ä¸€ä»çš„é«˜å¯ç”¨æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588048912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202977,"user_name":"C J J","can_delete":false,"product_type":"c1","uid":1002287,"ip_address":"","ucode":"603AA1417BD0DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/2f/186918b4.jpg","comment_is_top":false,"comment_ctime":1586096636,"is_pvip":false,"replies":[{"id":"76066","content":"å°±è¡ŒMySQLä¸»ä»åŒæ­¥æ—¶å»¶ä¸€æ ·ï¼Œåªèƒ½æ¥å—å®ƒã€‚ä¸€èˆ¬è¿™ä¸ªæ—¶å»¶éƒ½æ˜¯æ¯«ç±³çº§çš„ï¼Œä¸ä¼šå¯¹ä¸šåŠ¡æœ‰å¾ˆå¤§å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586224038,"ip_address":"","comment_id":202977,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61715638780","product_id":100046801,"comment_content":"å…¨é‡æ•°æ®ç¼“å­˜ï¼Œç¼“å­˜åŒæ­¥æœ‰ä¸ªæ—¶é—´å·®ï¼Œè¯·é—®è€å¸ˆè¿™è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490720,"discussion_content":"å°±è¡ŒMySQLä¸»ä»åŒæ­¥æ—¶å»¶ä¸€æ ·ï¼Œåªèƒ½æ¥å—å®ƒã€‚ä¸€èˆ¬è¿™ä¸ªæ—¶å»¶éƒ½æ˜¯æ¯«ç±³çº§çš„ï¼Œä¸ä¼šå¯¹ä¸šåŠ¡æœ‰å¾ˆå¤§å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586224038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203530,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1586228119,"is_pvip":true,"replies":[{"id":"76484","content":"Canalä¹Ÿæ”¯æŒä¸»å¤‡çš„æ–¹å¼æ¥è§£å†³é«˜å¯ç”¨çš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586429295,"ip_address":"","comment_id":203530,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53125835671","product_id":100046801,"comment_content":"è€å¸ˆ canal æ˜¯ä¸æ˜¯ä¹Ÿçš„åšçš„é›†ç¾¤ é˜²æ­¢å®ƒå½“æœºäº† redis ä¸åŒæ­¥äº†","like_count":12,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490886,"discussion_content":"Canalä¹Ÿæ”¯æŒä¸»å¤‡çš„æ–¹å¼æ¥è§£å†³é«˜å¯ç”¨çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586429295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202276,"user_name":"èŠ’æœ","can_delete":false,"product_type":"c1","uid":1124278,"ip_address":"","ucode":"5AD71E7F9FC738","user_header":"https://static001.geekbang.org/account/avatar/00/11/27/b6/e53c17ee.jpg","comment_is_top":false,"comment_ctime":1585957476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44535630436","product_id":100046801,"comment_content":"æ€è€ƒé¢˜æˆ‘çš„æƒ³æ³•æ˜¯ï¼š<br>1.å¦‚æœç¼“å­˜å­˜åœ¨ä¸åŒæ­¥çš„æƒ…å†µï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯çš„æ•°æ®å°±ä¸æ˜¯æœ€æ–°æ•°æ®ã€‚å¦‚æœç”¨æˆ·ä¸èƒ½æ¥å—æ•°æ®ä¸åŒæ­¥ï¼ˆæ¯”å¦‚ï¼šåˆšåˆšä¸‹çš„è®¢å•ä½†æ˜¯è´­ç‰©è®°å½•é‡Œé¢æ²¡æœ‰ï¼‰ï¼Œä½œä¸ºç”¨æˆ·ä¸€èˆ¬éƒ½ä¼šè¿›è¡Œæ‰‹åŠ¨åˆ·æ–°ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°ç”¨æˆ·æ‰‹åŠ¨åˆ·æ–°çš„è¯·æ±‚æ—¶ï¼Œç›´æ¥å»æŸ¥æ•°æ®åº“ï¼Œç„¶åé€šè¿‡è€å¸ˆä¹‹å‰è®²çš„cache aside patternçš„æ–¹å¼æ›´æ–°ç¼“å­˜ã€‚<br>2.ä¸ºäº†é˜²æ­¢æ‰‹åŠ¨åˆ·æ–°çš„è¯·æ±‚å¤ªå¤šï¼Œå‡å°‘å¯¹æ•°æ®åº“çš„å‹åŠ›ï¼Œå¯ä»¥è€ƒè™‘å¯¹è¿™ä¸ªæ¥å£åšä¸€ä¸ªé™æµã€‚é€šè¿‡ç›‘æ§è¿™ä¸ªæ¥å£ï¼Œå¦‚æœé•¿æ—¶é—´è®¿é—®å‹åŠ›éƒ½å¾ˆå¤§ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æ˜¯ç¼“å­˜åŒæ­¥å‡ºç°äº†é—®é¢˜ã€‚è¿™æ—¶å€™èµ¶ç´§ä¸Šçº¿è§£å†³é—®é¢˜å§ã€‚<br>å…¶ä»–çš„æš‚æ—¶ä¹Ÿæ²¡æƒ³åˆ°ä»€ä¹ˆäº†ï¼ŒæœŸå¾…å¬å¬è€å¸ˆçš„æ€è·¯ã€‚","like_count":10},{"had_liked":false,"id":203208,"user_name":"C J J","can_delete":false,"product_type":"c1","uid":1002287,"ip_address":"","ucode":"603AA1417BD0DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/2f/186918b4.jpg","comment_is_top":false,"comment_ctime":1586156433,"is_pvip":false,"replies":[{"id":"76068","content":"MQæ¶ˆè´¹çš„æ—¶å€™æœ‰è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œå¹¶ä¸”ä¸å»ºè®®è¿™ä¸ªåœ°æ–¹åŠ é‡è¯•æ¬¡æ•°çš„é™åˆ¶ã€‚å¦‚æœRedisæ•…éšœï¼Œå°±è®©åŒæ­¥å¡åœ¨é‚£å„¿ï¼Œç­‰Redisæ¢å¤ä¹‹åï¼Œå°±å¯ä»¥ç»§ç»­åŒæ­¥ï¼Œè¿™æ ·ä¸ä¼šä¸¢æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586224423,"ip_address":"","comment_id":203208,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31650927505","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿˜æœ‰ä¸ªç–‘é—®ã€‚ç”¨mqå»æ›´æ–°ç¼“å­˜æ•°æ®ï¼Œå¦‚è‹¥ä¸Šé¢æ‰€è¯´Rediså‡ºç°æ•…éšœï¼Œè¿™åº”å¦‚ä½•å¤„ç†ï¼Ÿæˆ‘æƒ³åˆ°çš„æ˜¯é‡è¯•æœºåˆ¶ï¼Œä½†è¶…è¿‡æ¬¡æ•°åº”å½“å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490799,"discussion_content":"MQæ¶ˆè´¹çš„æ—¶å€™æœ‰è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œå¹¶ä¸”ä¸å»ºè®®è¿™ä¸ªåœ°æ–¹åŠ é‡è¯•æ¬¡æ•°çš„é™åˆ¶ã€‚å¦‚æœRedisæ•…éšœï¼Œå°±è®©åŒæ­¥å¡åœ¨é‚£å„¿ï¼Œç­‰Redisæ¢å¤ä¹‹åï¼Œå°±å¯ä»¥ç»§ç»­åŒæ­¥ï¼Œè¿™æ ·ä¸ä¼šä¸¢æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586224423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2734978,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/82/1f2df018.jpg","nickname":"åŠªåŠ›å‘å‰","note":"","ucode":"7921FFCC91FBD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388755,"discussion_content":"èµåŒè€å¸ˆçš„è¯´æ³•ï¼Œä¸èƒ½è¿›è¡Œé‡è¯•ã€‚åŸå› æ˜¯ï¼šæˆ‘ä»¬å¯¹æ•°æ®åº“çš„æ“ä½œéƒ½æ˜¯ä¸¥æ ¼æœ‰åºçš„ã€‚æ¯”å¦‚ï¼Œåœ¨æ•°æ®åº“ä¸­ï¼Œå¯¹åŒä¸€ä¸ªè®°å½•ï¼Œå…ˆè¿›è¡Œä¸€ä¸ªæ–°å¢çš„æ“ä½œï¼Œå†è¿›è¡Œå¦å¤–ä¸€ä¸ªæ›´æ–°æ“ä½œã€‚åœ¨å»MQä¸­æ›´æ–°ç¼“å­˜çš„æ—¶å€™ï¼Œå¦‚æœåœ¨æ¶ˆè´¹ç¬¬ä¸€ä¸ªæ–°å¢çš„æ“ä½œæ¶ˆæ¯æ—¶ï¼Œæ¶ˆè´¹æ¶ˆæ¯å¤±è´¥äº†ã€‚å‡å¦‚è¿™æ—¶å€™ä½¿ç”¨é‡è¯•æœºåˆ¶ã€‚å¦‚æœåœ¨é‡è¯•ç¬¬ä¸€ä¸ªæ“ä½œæœŸé—´ï¼Œç¬¬äºŒä¸ªæ“ä½œåˆæ¥äº†ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½å¯¹ç¬¬äºŒä¸ªæ“ä½œåœ¨Redisä¸­æ‰§è¡ŒæˆåŠŸäº†ã€‚æ­¤æ—¶å†ç»§ç»­é‡è¯•ç¬¬ä¸€ä¸ªæ“ä½œï¼Œè¿™æ—¶å€™çš„æƒ…å†µæ˜¯ï¼šç¬¬äºŒä¸ªæ›´æ–°æ“ä½œæ²¡æœ‰åœ¨Redisä¸­æ‰§è¡ŒæˆåŠŸï¼Œå› ä¸ºè¿™æ¡è®°å½•å‹æ ¹å°±ä¸å­˜åœ¨ã€‚é‚£ä¹ˆç¬¬ä¸€ä¸ªæ“ä½œåœ¨Redisä¸­æ–°å¢æˆåŠŸã€‚è¿™æ—¶å€™å°±ä¼šå‡ºç°Rediså’ŒMySQLåŒå†™ä¸ä¸€è‡´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628936448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202502,"user_name":"å·æ°","can_delete":false,"product_type":"c1","uid":1099750,"ip_address":"","ucode":"815211E1D698E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/e6/11f21cb4.jpg","comment_is_top":false,"comment_ctime":1585996979,"is_pvip":false,"replies":[{"id":"76053","content":"ä¸€èˆ¬æ‰¹é‡æŸ¥è¯¢çš„æ—¶å€™å¯ä»¥ç”¨Redisçš„é›†åˆæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚SETï¼ŒSETä¸­çš„Valueå¯ä»¥ä¿å­˜äº¤æ˜“ç¼–å·ï¼Œè€Œä¸ç”¨ä¿å­˜äº¤æ˜“æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586223166,"ip_address":"","comment_id":202502,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31650768051","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³é—®ä¸€ä¸ªrediså¾ˆåŸºç¡€çš„é—®é¢˜ã€‚<br>å‡è®¾æˆ‘ä»¬è¦å¯¹äº¤æ˜“æ•°æ®è¿›è¡Œç¼“å­˜ã€‚åç«¯è°ƒç”¨æ—¶ï¼Œæ—¢æœ‰æ ¹æ®äº¤æ˜“ç¼–å·æŸ¥æ‰¾å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œåˆæœ‰æŸ¥è¯¢æ‰¹é‡äº¤æ˜“çš„æ–¹æ³•ã€‚é‚£æˆ‘è¯¥æ€ä¹ˆç¼“å­˜äº¤æ˜“æ•°æ®å‘¢ï¼Ÿ<br>åˆ©ç”¨key-valueçš„æ–¹å¼å¯ä»¥è§£å†³æ ¹æ®äº¤æ˜“ç¼–å·æŸ¥æ‰¾çš„æƒ…å†µã€‚é‚£æ‰¹é‡æŸ¥è¯¢æ€ä¹ˆå¤„ç†ï¼Ÿç”¨é˜Ÿåˆ—å—ï¼Ÿå¦‚æœç”¨é˜Ÿåˆ—ï¼Œé‚£å²‚ä¸æ˜¯ä¸€ä¸ªäº¤æ˜“æ•°æ®è¦ç¼“å­˜ä¸¤éï¼Ÿï¼ˆä¸€ä¸ªæ˜¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯key-valueï¼‰<br>è¯·å›ç­”ä¸‹ï¼Œè°¢è°¢","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490601,"discussion_content":"ä¸€èˆ¬æ‰¹é‡æŸ¥è¯¢çš„æ—¶å€™å¯ä»¥ç”¨Redisçš„é›†åˆæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚SETï¼ŒSETä¸­çš„Valueå¯ä»¥ä¿å­˜äº¤æ˜“ç¼–å·ï¼Œè€Œä¸ç”¨ä¿å­˜äº¤æ˜“æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586223166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1433535,"avatar":"https://static001.geekbang.org/account/avatar/00/15/df/bf/96b50d1e.jpg","nickname":"ğŸ˜š 46","note":"","ucode":"EED0EBBBF80A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271958,"discussion_content":"redissonæœ‰ mutliSetMap å¯ä»¥äº†è§£ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590227937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202731,"user_name":"ä¸€å‰‘","can_delete":false,"product_type":"c1","uid":1022127,"ip_address":"","ucode":"93ADD5B5215D4C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/98/af/3945cea4.jpg","comment_is_top":false,"comment_ctime":1586059012,"is_pvip":false,"replies":[{"id":"76058","content":"è¿™é‡Œé¢éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼ŒBinlogä¸­è®°å½•çš„æ˜¯â€œæ•°æ®å˜åŒ–â€ï¼Œè€Œä¸ä»…ä»…æ˜¯æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586223511,"ip_address":"","comment_id":202731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27355862788","product_id":100046801,"comment_content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬æ˜¯æŠŠè®¡ç®—ç»“æœç¼“å­˜åˆ°redisï¼Œä½†æ˜¯åŸºäºæ—¥å¿—çš„åŒæ­¥æ–¹å¼æ˜¯ç›´æ¥åŒæ­¥äº†åŸå§‹è¡¨æ•°æ®ï¼Œè¿™ä¸­é—´æ˜¯ä¸æ˜¯å°‘äº†ä¸€ç¯ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490666,"discussion_content":"è¿™é‡Œé¢éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼ŒBinlogä¸­è®°å½•çš„æ˜¯â€œæ•°æ®å˜åŒ–â€ï¼Œè€Œä¸ä»…ä»…æ˜¯æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586223511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207582,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1587112438,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"23061948918","product_id":100046801,"comment_content":"åŸæ¥å¤§å‚æ˜¯è¿™æ ·é¿å…ç¼“å­˜ç©¿é€çš„ï¼æœ‰é’±ä»»æ€§","like_count":5,"discussions":[{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318695,"discussion_content":"æ‰€ä»¥å«ä»–å¤§å‚ å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603808787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306943,"discussion_content":"æ¯•ç«Ÿæ˜¯å¤§å‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600424746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306984,"discussion_content":"æˆ‘å·²ç»ä¸è®°å¾—ä»–ä»¬æ˜¯æ€ä¹ˆé¿å…çš„äº†â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600439194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306943,"ip_address":""},"score":306984,"extra":""},{"author":{"id":1474954,"avatar":"https://static001.geekbang.org/account/avatar/00/16/81/8a/15a96a64.jpg","nickname":"Gatsby","note":"","ucode":"5DBFDA12556BDB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578912,"discussion_content":"é‚£å†çœ‹ä¸€é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657089091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306984,"ip_address":""},"score":578912,"extra":""}]}]},{"had_liked":false,"id":213260,"user_name":"Lywane","can_delete":false,"product_type":"c1","uid":1446512,"ip_address":"","ucode":"2B0027AA069CE9","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/70/10faf04b.jpg","comment_is_top":false,"comment_ctime":1588342152,"is_pvip":false,"replies":[{"id":"79194","content":"å®ƒä½¿ç”¨MySQLä¸»ä»åŒæ­¥çš„åè®®æ¥ä»ä¸»åº“æ¥æ”¶Binlogï¼Œå¯¹äºä¸»åº“â€œçœ‹èµ·æ¥ï¼Œç¼“å­˜æ›´æ–°æœåŠ¡å°±åƒæ˜¯ä¸€ä¸ªä»åº“ä¸€æ ·â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1588514082,"ip_address":"","comment_id":213260,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18768211336","product_id":100046801,"comment_content":"æ±‚é—®è€å¸ˆï¼Œ&quot;è´Ÿè´£æ›´æ–°ç¼“å­˜çš„æœåŠ¡ï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ª MySQL çš„ä»èŠ‚ç‚¹ï¼Œä» MySQL æ¥æ”¶ Binlogï¼Œè§£æ Binlog ä¹‹åï¼Œå¯ä»¥å¾—åˆ°å®æ—¶çš„æ•°æ®å˜æ›´ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå˜æ›´ä¿¡æ¯å»æ›´æ–° Redis ç¼“å­˜ã€‚&quot;<br><br>ä»€ä¹ˆå«ä¼ªè£…å‘€ï¼Ÿè¿˜æ˜¯è¯´è´Ÿè´£æ›´æ–°çš„æœåŠ¡æœ¬èº«å°±æ˜¯mysqlä»èŠ‚ç‚¹ä¹‹ä¸€ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493723,"discussion_content":"å®ƒä½¿ç”¨MySQLä¸»ä»åŒæ­¥çš„åè®®æ¥ä»ä¸»åº“æ¥æ”¶Binlogï¼Œå¯¹äºä¸»åº“â€œçœ‹èµ·æ¥ï¼Œç¼“å­˜æ›´æ–°æœåŠ¡å°±åƒæ˜¯ä¸€ä¸ªä»åº“ä¸€æ ·â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588514082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211780,"user_name":"sea520","can_delete":false,"product_type":"c1","uid":1508621,"ip_address":"","ucode":"C943EAD079B2A4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIm5rlbJ4HdXLbxmflvW0FW4rTyLcDzHLGDJUJic9W3f1KibWY7mAj9dxUIEVlxDyjwRXEX54KXEn5g/132","comment_is_top":false,"comment_ctime":1588003701,"is_pvip":false,"replies":[{"id":"78795","content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ èƒ½å®šä¹‰å¥½å†·çƒ­æ•°æ®çš„ä¸¥æ ¼ç•Œé™ï¼ˆå¯¹äºä¸€æ¡æ•°æ®ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åˆ¤æ–­å†·çƒ­çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”è¿™ä¸ªåˆ¤æ–­ä¸èƒ½ä¾èµ–äºæœ¬åœ°æ—¶é’Ÿï¼‰ï¼Œæ˜¯å¯ä»¥åšåˆ°çš„ã€‚ä½†åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œå¾ˆéš¾åšåˆ°â€œå®šä¹‰å¥½å†·çƒ­æ•°æ®çš„ä¸¥æ ¼ç•Œé™â€ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œä¸æ¨èäºŒä¸ªå­˜å‚¨äº’ç›¸æ›´æ–°æ•°æ®ï¼Œè¿™æ ·å¾ˆéš¾ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1588050665,"ip_address":"","comment_id":211780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18767872885","product_id":100046801,"comment_content":"å¦‚ä½•åªæŠŠmysqlä¸­çš„éƒ¨åˆ†çƒ­æ•°æ®æ›´æ–°åˆ°rediså‘¢ï¼Œè€Œä¸æ˜¯å…¨éƒ¨?<br>å¦‚ä½•åªæŠŠredisä¸­çš„éƒ¨åˆ†å†·æ•°æ®æ›´æ–°åˆ°mysqlå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493363,"discussion_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ èƒ½å®šä¹‰å¥½å†·çƒ­æ•°æ®çš„ä¸¥æ ¼ç•Œé™ï¼ˆå¯¹äºä¸€æ¡æ•°æ®ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åˆ¤æ–­å†·çƒ­çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”è¿™ä¸ªåˆ¤æ–­ä¸èƒ½ä¾èµ–äºæœ¬åœ°æ—¶é’Ÿï¼‰ï¼Œæ˜¯å¯ä»¥åšåˆ°çš„ã€‚ä½†åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œå¾ˆéš¾åšåˆ°â€œå®šä¹‰å¥½å†·çƒ­æ•°æ®çš„ä¸¥æ ¼ç•Œé™â€ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œä¸æ¨èäºŒä¸ªå­˜å‚¨äº’ç›¸æ›´æ–°æ•°æ®ï¼Œè¿™æ ·å¾ˆéš¾ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588050665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210852,"user_name":"sea520","can_delete":false,"product_type":"c1","uid":1508621,"ip_address":"","ucode":"C943EAD079B2A4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIm5rlbJ4HdXLbxmflvW0FW4rTyLcDzHLGDJUJic9W3f1KibWY7mAj9dxUIEVlxDyjwRXEX54KXEn5g/132","comment_is_top":false,"comment_ctime":1587838751,"is_pvip":false,"replies":[{"id":"78566","content":"ç†è®ºä¸Šå¯ä»¥æŠŠåŒæ­¥ç¨‹åºä¼ªè£…è€…Redisçš„ä¸€ä¸ªä»èŠ‚ç‚¹ï¼Œä»Redisæ¥æ”¶æ›´æ–°å‘½ä»¤ï¼Œä½†å¾ˆå°‘æœ‰ç³»ç»Ÿè¿™ä¹ˆåšã€‚åŸå› æ˜¯Redisçš„æ€§èƒ½æ¯”MySQLè¦é«˜å‡ºå¾ˆå¤šï¼Œè¿™ä¸ªæ•°æ®åŒæ­¥å¾ˆå¯èƒ½ç”±äºMySQLçš„æ€§èƒ½é—®é¢˜ï¼Œå»¶è¿Ÿå¾ˆå¤šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587951568,"ip_address":"","comment_id":210852,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14472740639","product_id":100046801,"comment_content":"æƒ³é—®ä¸‹redisæ•°æ®åŒæ­¥mysqlè¯¥æ€ä¹ˆåšä¹ˆå‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493129,"discussion_content":"ç†è®ºä¸Šå¯ä»¥æŠŠåŒæ­¥ç¨‹åºä¼ªè£…è€…Redisçš„ä¸€ä¸ªä»èŠ‚ç‚¹ï¼Œä»Redisæ¥æ”¶æ›´æ–°å‘½ä»¤ï¼Œä½†å¾ˆå°‘æœ‰ç³»ç»Ÿè¿™ä¹ˆåšã€‚åŸå› æ˜¯Redisçš„æ€§èƒ½æ¯”MySQLè¦é«˜å‡ºå¾ˆå¤šï¼Œè¿™ä¸ªæ•°æ®åŒæ­¥å¾ˆå¯èƒ½ç”±äºMySQLçš„æ€§èƒ½é—®é¢˜ï¼Œå»¶è¿Ÿå¾ˆå¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587951568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1128702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/38/fe/00ddeb81.jpg","nickname":"learn more","note":"","ucode":"0EF628B2E0F95E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271800,"discussion_content":"redisæ˜¯ä¸€æ¡æ¡å‘½ä»¤æ‰§è¡Œï¼ŒåŒæ­¥åˆ°MySQLçš„æ—¶å€™ä¸ä¸€å®šè¦ä¸€æ¡æ¡å»æ›´æ–°MySQLï¼Œå¯ä»¥åœ¨ç¨‹åºé‡Œè§£æï¼Œè§£æå¤šæ¡ä¹‹åå†æ‰¹é‡æ“ä½œMySQLï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯ä»¥ç¼“è§£MySQLçš„å†™æ€§èƒ½äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590196652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1128702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/38/fe/00ddeb81.jpg","nickname":"learn more","note":"","ucode":"0EF628B2E0F95E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366456,"discussion_content":"è¿™ä¸ç®—åŒæ­¥å§ï¼Œå¦‚æœè¿™ä¸ªåœºæ™¯æ»¡è¶³çš„è¯ç›´æ¥å¼‚æ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618065961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":271800,"ip_address":""},"score":366456,"extra":""}]}]},{"had_liked":false,"id":203605,"user_name":"æ­£åœ¨å‡è‚¥çš„èƒ–ç±½ã€‚","can_delete":false,"product_type":"c1","uid":1033728,"ip_address":"","ucode":"99E2E4DF599236","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c6/00/683bb4f0.jpg","comment_is_top":false,"comment_ctime":1586240419,"is_pvip":false,"replies":[{"id":"76483","content":"åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRediséœ€è¦åšä¸»ä»æ¥ä¿è¯é«˜å¯ç”¨ï¼Œä¸è®¾æ•°æ®è¿‡æœŸæ—¶é—´ï¼Œæœ€å¥½è¿˜è¦æœ‰è¡¥å¿æœºåˆ¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586429138,"ip_address":"","comment_id":203605,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14471142307","product_id":100046801,"comment_content":"æ•°æ®åŒæ­¥åˆ°redisä¸­ï¼Œä½†æ˜¯redisçªç„¶downä¸¢å¤±ä¸€äº›æ•°æ®ï¼Œæˆ–è€…redisä¹Ÿä¼šè®¾ç½®ç¼“å­˜æ—¶é—´ã€‚é‚£ä¹ˆè¿˜æ˜¯ä¼šæ‰“åˆ°åº“ä¸­ï¼Ÿè€å¸ˆä½ ä»¬è¿™é‡Œçš„æ–¹æ¡ˆæ˜¯?æˆ–è€…è¯´ä½ ä»¬çš„redisè¿‡æœŸæ—¶é—´æ€ä¹ˆå¹³è¡¡ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490909,"discussion_content":"åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRediséœ€è¦åšä¸»ä»æ¥ä¿è¯é«˜å¯ç”¨ï¼Œä¸è®¾æ•°æ®è¿‡æœŸæ—¶é—´ï¼Œæœ€å¥½è¿˜è¦æœ‰è¡¥å¿æœºåˆ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586429138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1183552,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/40/e838871e.jpg","nickname":"zk_207","note":"","ucode":"196D92ECC8540D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225783,"discussion_content":"æˆ‘ä»¬è¿™ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ ¹æ®Redisè¿‡æœŸç­–ç•¥è‡ªåŠ¨åˆ é™¤ç¼“å­˜ï¼Œå› ä¸ºä¹‹å‰é‡åˆ°è¿‡ç¼“å­˜å¤±æ•ˆï¼Œå·®ç‚¹çº¿ä¸Šäº‹æ•…","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1586396855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210265,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Gswh7ibY4tubXhp0BXOmV2pXZ3XsXic1d942ZMAEgWrRSF99bDskOTsG1g172ibORXxSCWTn9HWUX5vSSUVWU5I4A/132","nickname":"å¥”å¥”å¥”è·‘","note":"","ucode":"F86EC205DCAACE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350736,"discussion_content":"è¿™ä¸ªéœ€è¦åˆ†åœºæ™¯è®¨è®ºï¼›ç®€å•è¯´ä¸‹ï¼Œå°±æ˜¯ä½¿ç”¨singleflightå°±ä¼šæŠŠæ•°æ®åº“è´Ÿè½½é™ä½å¾ˆå¤šï¼›å¦‚æœè¯´æµé‡æ›´å¤§çš„è¯ï¼Œå°±è¦æ¶‰åŠåˆ°äº†é™çº§ï¼Œç†”æ–­äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613994637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033728,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/00/683bb4f0.jpg","nickname":"æ­£åœ¨å‡è‚¥çš„èƒ–ç±½ã€‚","note":"","ucode":"99E2E4DF599236","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226316,"discussion_content":"é‚£å†…å­˜çš„é€Ÿåº¦ä¸æ˜¯é£å¿«çš„æ¶¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586431936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225383,"user_name":"è¡¹æ˜¯ä¸€æ”¯æ­Œ","can_delete":false,"product_type":"c1","uid":1456239,"ip_address":"","ucode":"9FC36529C9FD2E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/iaZdMmzM0Vfass2ukHOqGgSBbtJMwb4NxDvLdN3R67iczzPVdtF0F0WS0abvls3edQpOVxaUJBmlr2YxHzUpveIQ/132","comment_is_top":false,"comment_ctime":1591749474,"is_pvip":false,"replies":[{"id":"83099","content":"è¿™æ˜¯NoSQLå›ºæœ‰çš„é™åˆ¶ï¼Œæ²¡åŠæ³•ã€‚<br><br>åªèƒ½æ˜¯å°†æœ€å¸¸ç”¨çš„Cç«¯æŸ¥è¯¢æ‰“åˆ°ç¼“å­˜ä¸Šï¼Œå…¶ä»–çš„æŸ¥è¯¢å†æƒ³å…¶å®ƒåŠæ³•å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1591790897,"ip_address":"","comment_id":225383,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10181684066","product_id":100046801,"comment_content":"æ•°æ®æ›´æ–°åˆ°ç¼“å­˜ä¸­ï¼Œç»“æ„ä¸ä¸€æ ·äº†ï¼Œæœ‰çš„å…³è”æŸ¥è¯¢æ€ä¹ˆåšå‘¢ã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497831,"discussion_content":"è¿™æ˜¯NoSQLå›ºæœ‰çš„é™åˆ¶ï¼Œæ²¡åŠæ³•ã€‚\n\nåªèƒ½æ˜¯å°†æœ€å¸¸ç”¨çš„Cç«¯æŸ¥è¯¢æ‰“åˆ°ç¼“å­˜ä¸Šï¼Œå…¶ä»–çš„æŸ¥è¯¢å†æƒ³å…¶å®ƒåŠæ³•å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591790897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222808,"user_name":"æ°´è’¸è›‹","can_delete":false,"product_type":"c1","uid":1809160,"ip_address":"","ucode":"6F7F853A4BF901","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9b/08/27ac7ecd.jpg","comment_is_top":false,"comment_ctime":1590916601,"is_pvip":false,"replies":[{"id":"82358","content":"å¯¹äºç¡¬ä»¶çš„éœ€æ±‚å…¶å®è¿˜å¥½ã€‚ç›®å‰ä¸»æµçš„X86æœåŠ¡å™¨256GBå†…å­˜æ˜¯æ¯”è¾ƒæ­£å¸¸çš„é…ç½®ï¼Œ10å°å°±å¯ä»¥è¾¾åˆ°2.5Tå†…å­˜äº†ã€‚SSDä¹ŸåŸºæœ¬ä¸Šæ˜¯æ ‡é…ï¼Œå¾ˆå°‘æ–°é‡‡è´­çš„æœåŠ¡å™¨è¿˜ä½¿ç”¨ä¼ ç»Ÿæœºæ¢°ç¡¬ç›˜äº†ã€‚<br><br>ä¸€èˆ¬å¤§å‹äº’è”ç½‘å…¬å¸æœåŠ¡å™¨è§„æ¨¡ï¼Œçº¦åœ¨å‡ ä¸‡å°èµ·æ­¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1591151385,"ip_address":"","comment_id":222808,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10180851193","product_id":100046801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ç°åœ¨çš„æ•°æ®é‡éƒ½æ˜¯Tçº§åˆ«çš„ï¼Œé‚£å¦‚æœåŒæ­¥åˆ°redisè¿™ä¹ˆå¤§çš„é‡ä¸æ˜¯è¦Tçº§åˆ«çš„å†…å­˜ï¼Œè¿™ä¸ªè¦å¤šå¤§çš„é›†ç¾¤è§„æ¨¡ï¼Œè€Œä¸”ä¸ä¾¿å®œå•Šï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯è¿˜ä¼šåŠ å…¥ssdä¹‹ç±»çš„ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496925,"discussion_content":"å¯¹äºç¡¬ä»¶çš„éœ€æ±‚å…¶å®è¿˜å¥½ã€‚ç›®å‰ä¸»æµçš„X86æœåŠ¡å™¨256GBå†…å­˜æ˜¯æ¯”è¾ƒæ­£å¸¸çš„é…ç½®ï¼Œ10å°å°±å¯ä»¥è¾¾åˆ°2.5Tå†…å­˜äº†ã€‚SSDä¹ŸåŸºæœ¬ä¸Šæ˜¯æ ‡é…ï¼Œå¾ˆå°‘æ–°é‡‡è´­çš„æœåŠ¡å™¨è¿˜ä½¿ç”¨ä¼ ç»Ÿæœºæ¢°ç¡¬ç›˜äº†ã€‚\n\nä¸€èˆ¬å¤§å‹äº’è”ç½‘å…¬å¸æœåŠ¡å™¨è§„æ¨¡ï¼Œçº¦åœ¨å‡ ä¸‡å°èµ·æ­¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591151385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1691516,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/7c/2e99d0ad.jpg","nickname":"ä¸€æ–°","note":"","ucode":"1915C6C655C31F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281608,"discussion_content":"è¢«å¤§å‚çš„æœ‰é’±æ·±æ·±æŠ˜æœ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591776221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366463,"discussion_content":"ä¸»æµçš„X86æœåŠ¡å™¨çš„ç¡¬ä»¶å‚æ•°åœ¨å“ªçœ‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618067335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205210,"user_name":"new life","can_delete":false,"product_type":"c1","uid":1447866,"ip_address":"","ucode":"B817AC3909102B","user_header":"https://static001.geekbang.org/account/avatar/00/16/17/ba/c56aa720.jpg","comment_is_top":false,"comment_ctime":1586571272,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"10176505864","product_id":100046801,"comment_content":"1ã€æ„Ÿè§‰ä½¿ç”¨ canal é€šè¿‡binlog çš„æ–¹å¼ï¼Œé˜²æ­¢äº†ç¼“å­˜ç©¿é€ï¼Œèµ·åˆ°äº†æ•°æ®æœ€ç»ˆä¸€è‡´æ€§çš„ä½œç”¨ï¼Œä½†åœ¨ç¼“å­˜æ•°æ®çš„æ—¶æ•ˆæ€§æ–¹é¢ä¸èƒ½ä¿è¯ï¼›<br>2ã€é€šè¿‡binlogåŒæ­¥çš„æ•°æ®åº“ï¼Œåº”è¯¥æ˜¯ä¸“é—¨ä¸ºç¼“å­˜ä½¿ç”¨çš„å§ï¼Œå¦åˆ™æ•°æ®åº“é‡Œæ•°æ®é‡å¾ˆå¤§ï¼Œä¼šå ç”¨Rediså¤§é‡ç¼“å­˜ï¼›<br>3ã€æ€è€ƒ:å¦‚æœå‘ç°æ•°æ®ä¸ä¸€è‡´ï¼Œåº”è¯¥è§¦å‘æ›´æ–°ç¼“å­˜çš„æ“ä½œï¼Œå¹¶ä¸”é™åˆ¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æ›´æ–°ï¼›","like_count":2,"discussions":[{"author":{"id":2734978,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/82/1f2df018.jpg","nickname":"åŠªåŠ›å‘å‰","note":"","ucode":"7921FFCC91FBD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388716,"discussion_content":"é—®é¢˜ï¼Œå¦‚ä½•å‘ç°æ•°æ®ä¸ä¸€è‡´ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628925313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202398,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1585983820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880951116","product_id":100046801,"comment_content":"è¿™å…¶ä¸­å…¶å®æœ‰ä¸ªå‘ï¼šredisä¸mysqlä¹‹é—´çš„è®¾ç½®ï¼Œå¤šå°‘åˆé€‚ï¼Ÿå¤ªå°è®¿é—®å¤ªé¢‘ç¹ï¼Œå¤ªå¤§æ›´æ–°ä¸åŠæ—¶ã€‚<br>ç”µå•†ä¸­å“ªäº›ä¸šåŠ¡çš„åˆ·æ–°é¢‘ç‡çš„è®¾ç½®è¿™ä¸ªç¡®å®ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":202257,"user_name":"é¥­å›¢","can_delete":false,"product_type":"c1","uid":1332557,"ip_address":"","ucode":"E24F240CC91BE8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbY9UsqHZhhVoI69yXNibBBg0TRdUVsKLMg2UZ1R3NJxXdMicqceI5yhdKZ5Ad6CJYO0XpFHlJzIYQ/132","comment_is_top":false,"comment_ctime":1585945298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880912594","product_id":100046801,"comment_content":"å­¦åˆ°äº†ï¼Œå“ˆå“ˆï¼ä¹‹å‰ä¸€ç›´çœ‹æœ‰è§£æbinlogæ—¥å¿—çš„åšæ³•ï¼","like_count":1},{"had_liked":false,"id":360077,"user_name":"è·ç¦»30ç±³","can_delete":false,"product_type":"c1","uid":1516600,"ip_address":"å››å·","ucode":"5566D9AB9E47DE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wBjvGCCZmO0Bic0DrnG466y6hwPkibGevAV6E6FPfQEricvw5toL7a2HSgjhI83cCiadrUibIyVibkgbbMOHVxo7HA8Q/132","comment_is_top":false,"comment_ctime":1666164910,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666164910","product_id":100046801,"comment_content":"é‡‡ç”¨canalçš„è¯ï¼Œæˆ‘è®¤ä¸ºæ˜¯ä¸šåŠ¡è¦æ¥å—æ•°æ®æœ‰äº›è®¸çš„å»¶è¿Ÿçš„ï¼Œæ˜¯æœ€ç»ˆä¸€è‡´æ€§çš„æ–¹å¼","like_count":0},{"had_liked":false,"id":347119,"user_name":"Geek.N","can_delete":false,"product_type":"c1","uid":2744271,"ip_address":"","ucode":"E4893C3C512FB2","user_header":"https://static001.geekbang.org/account/avatar/00/29/df/cf/6e0dbfe5.jpg","comment_is_top":false,"comment_ctime":1653726144,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1653726144","product_id":100046801,"comment_content":"è¯·é—®è€å¸ˆå¦‚æœæœ‰å¤§é‡æ›´æ–°è¯·æ±‚æ‰“åœ¨mysqlæ•°æ®åº“ä¸Šè¿™ç§æƒ…å†µè¯¥å¦‚ä½•è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1520538,"avatar":"https://static001.geekbang.org/account/avatar/00/17/33/9a/f295dea5.jpg","nickname":"ææ­£g","note":"","ucode":"A7BEA03BB6537A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581382,"discussion_content":"ä¹‹å‰è¯¾ç¨‹è¯´äº†ï¼Œ åˆ†åº“åˆ†è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658747331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337931,"user_name":"Jerry","can_delete":false,"product_type":"c1","uid":1622887,"ip_address":"","ucode":"F8C5EED655B8D6","user_header":"https://static001.geekbang.org/account/avatar/00/18/c3/67/568181d7.jpg","comment_is_top":false,"comment_ctime":1647163968,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647163968","product_id":100046801,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œæˆ‘ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œæ˜¯ä»rediså®æ—¶åŒæ­¥æ•°æ®åˆ°mysqlï¼Œæˆ–è€…é—´éš”æ€§1åˆ†é’ŸåŒæ­¥ä¸€æ¬¡ä¹Ÿè¡Œï¼Œæœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":327325,"user_name":"éº¦è€€é”‹","can_delete":false,"product_type":"c1","uid":1401327,"ip_address":"","ucode":"077DA831185C01","user_header":"https://static001.geekbang.org/account/avatar/00/15/61/ef/ac5e914d.jpg","comment_is_top":false,"comment_ctime":1640067071,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1640067071","product_id":100046801,"comment_content":"å¯¹äºcanalï¼Œå› ä¸ºåªé’ˆå¯¹mysqlï¼Œå¦‚æœè¦æ›´åŠ é€šç”¨çš„ï¼Œæ˜¯å¦é‡‡ç”¨æ”¯æŒCDCçš„ä¸€äº›ç»„ä»¶ï¼Œä¾‹å¦‚Debziumã€flinkxã€flink-cdcï¼Ÿ","like_count":0},{"had_liked":false,"id":322881,"user_name":"è‘£ä¿Šä¿Š","can_delete":false,"product_type":"c1","uid":1297887,"ip_address":"","ucode":"732300A779660B","user_header":"https://static001.geekbang.org/account/avatar/00/13/cd/df/c520d418.jpg","comment_is_top":false,"comment_ctime":1637642305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637642305","product_id":100046801,"comment_content":"å¦‚ä½•è§£å†³æŸ¥è¡¨æ³•ä¸­è¿™ä¸ªè¡¨æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":291338,"user_name":"ç‹æ³“æ–Œ","can_delete":false,"product_type":"c1","uid":1975582,"ip_address":"","ucode":"11911864AE3781","user_header":"","comment_is_top":false,"comment_ctime":1620217112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620217112","product_id":100046801,"comment_content":"äº¬ä¸œå†…éƒ¨ä¸æ˜¯æœ‰èœ‚å·¢æ ¹æ®binlogåŒæ­¥æ•°æ®å—? ä»€ä¹ˆæ—¶å€™èƒ½æ‹¿å‡ºæ¥å¼€æºå•Šï¼Ÿ<br>è¿˜æœ‰binlakeï¼Ÿèƒ½å¦å¸®å¿™è¯¢é—®ä¸‹æ˜¯å¦èƒ½å¼€æº","like_count":0},{"had_liked":false,"id":274465,"user_name":"pretentious","can_delete":false,"product_type":"c1","uid":2036918,"ip_address":"","ucode":"DFEC9F281E33CD","user_header":"https://static001.geekbang.org/account/avatar/00/1f/14/b6/a7bc43d9.jpg","comment_is_top":false,"comment_ctime":1611029528,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1611029528","product_id":100046801,"comment_content":"æˆ‘ä»¬ä¹Ÿæ˜¯åœ¨åšæ•´è¡¨å…¨é‡ç¼“å­˜ï¼Œä½†æ˜¯éœ€è¦å¤šä¸ªçº¬åº¦çš„æŸ¥è¯¢æ—¶ï¼Œrediså¦‚ä½•å­˜å‚¨ï¼Ÿå­˜å¤šä»½çš„è¯æœ‰å†—ä½™ï¼Œä¸”è¦ä¿è¯ä¸€è‡´æ€§ï¼›å¦‚æœæ˜¯å­˜ä¸€ä»½æ˜ å°„ï¼Œå…ˆæ‰¾åˆ°å”¯ä¸€é”®ï¼Œå†æ ¹æ®å”¯ä¸€é”®æ‹¿æ•°æ®ï¼Œé‚£æ˜ å°„å’Œå…¨é‡æ•°æ®ä¹‹é—´åˆæ˜¯å¼ºå…³è”å…³ç³»äº†ï¼›è¯·æ•™è€å¸ˆï¼Œè¿™ç§é—®é¢˜å¦‚ä½•è§£å†³å‘¢","like_count":0,"discussions":[{"author":{"id":1881778,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b6/b2/ebb59efe.jpg","nickname":"å¹¿æ’­é£æš´","note":"","ucode":"0EEC713EADA303","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392279,"discussion_content":"æ€»è¦å–èˆï¼Œå…³å¿ƒçš„æ”¾åˆ°é‡è¦çš„ä½ç½®å°±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630932396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250105,"user_name":"lidashuang","can_delete":false,"product_type":"c1","uid":1104850,"ip_address":"","ucode":"560ABE8032760E","user_header":"https://static001.geekbang.org/account/avatar/00/10/db/d2/e29f8834.jpg","comment_is_top":false,"comment_ctime":1600937141,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600937141","product_id":100046801,"comment_content":"ç„¶åæ¥é…ç½® MySQLï¼Œæˆ‘ä»¬éœ€è¦åœ¨ MySQL çš„é…ç½®æ–‡ä»¶ä¸­å¼€å¯ Binlogï¼Œå¹¶è®¾ç½® Binlog çš„æ ¼å¼ä¸º ROW æ ¼å¼ã€‚<br><br>å¿…é¡»è®¾ç½®row æ ¼å¼å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1971966,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/16/fe/323b81c2.jpg","nickname":"éœ–","note":"","ucode":"9A985C64D3836C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365296,"discussion_content":"rowæ–¹å¼è®°å½•çš„æ˜¯mysqlç‰©ç†å˜æ›´çš„ç»“æœï¼Œæ¯”å¦‚è¯´id=1çš„æ•°æ®ï¼Œå­—æ®µAæ”¹ä¸ºB\nStatementæ–¹å¼è®°å½•çš„æ˜¯sqlï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œæ‰¹é‡æ›´æ–°æˆ–è€…åˆ é™¤æ—¶æ²¡åŠæ³•é©¬ä¸Šè§£æåˆ°å…·ä½“æ›´æ”¹çš„æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617764740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249089,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1600425371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600425371","product_id":100046801,"comment_content":"å…¨éƒ¨è¯»ç¼“å­˜å…¨é‡ï¼Œå…¶å®æ˜¯ä¸€ç§ç¼“å­˜ç­–ç•¥å§ï¼Œrefresh aheadï¼Ÿ","like_count":0},{"had_liked":false,"id":233300,"user_name":"é¢¨é€¸é£›Â²ÂºÂ¹â·","can_delete":false,"product_type":"c1","uid":1016159,"ip_address":"","ucode":"CA951BF5289531","user_header":"https://static001.geekbang.org/account/avatar/00/0f/81/5f/4bbdc290.jpg","comment_is_top":false,"comment_ctime":1594282895,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594282895","product_id":100046801,"comment_content":"è€å¸ˆï¼Œä½ è¯´çš„è¿™ç§ç”¨Binlog | MQ + æ›´æ–°redis çš„æ“ä½œï¼Œåœ¨å¹¶å‘é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œåˆ·æ–°ç¼“å­˜ä»ç„¶ä¼šæœ‰å»¶è¿Ÿï¼Œbinlogä¼šæœ‰å»¶è¿Ÿï¼Œæ¶ˆæ¯å¤šçš„æ—¶å€™è¿˜å¯èƒ½é€ æˆCPUé£™å‡","like_count":0,"discussions":[{"author":{"id":2734978,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/82/1f2df018.jpg","nickname":"åŠªåŠ›å‘å‰","note":"","ucode":"7921FFCC91FBD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388717,"discussion_content":"è¿™ç§å»¶è¿Ÿæ²¡å•¥å¥½çš„è§£å†³åŠæ³•ï¼Œé™¤éè¯»å†™éƒ½èµ°MySQLä¸»åº“ã€‚å¦‚æœè®¾ç½®MySQLä¸»ä»æ¶æ„ï¼Œå†™éƒ½èµ°ä¸»åº“ï¼Œè¯»éƒ½èµ°ä»åº“ï¼Œé‚£ä¹ˆä¸»ä»åŒæ­¥ä¹Ÿæ˜¯æœ‰å»¶è¿Ÿçš„ã€‚å½“åˆšåˆšå†™å…¥ä¸€æ¡æ•°æ®åï¼Œæ¥ç€å»ä»åº“æŸ¥è¯¢ã€‚è‹¥æ˜¯è¿™ä¸ªæ•°æ®è¿˜æ²¡å¤åˆ¶åˆ°ä»åº“çš„è¯ï¼Œé‚£ä¹ˆå»ä»åº“æŸ¥è¯¢ï¼Œä¼šæŸ¥ä¸åˆ°æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628925578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227634,"user_name":"è¥¿é—¨å¹ç‰›","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1592446865,"is_pvip":false,"replies":[{"id":"84537","content":"è¯·ç»§ç»­å­¦ä¹ ã€Š19 | è·¨ç³»ç»Ÿå®æ—¶åŒæ­¥æ•°æ®ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿã€‹ï¼Œé‡Œé¢ä¼šè®²åˆ°å¦‚ä½•å°½é‡é™ä½åŒæ­¥æ—¶å»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1592918172,"ip_address":"","comment_id":227634,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592446865","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘åœ¨å·¥ä½œä¸­ï¼Œç”¨è¿‡canalï¼Œå¯¹ä¸€äº›åº“ä¸­è¡¨ï¼Œè¿›è¡Œç›‘å¬ï¼Œ ç„¶åå‘æ¶ˆæ¯ï¼Œè¿™ä¸ªcanalï¼Œèƒ½ç›‘å¬å¤šå¼ åº“ï¼Ÿå¦‚æœç›‘å¬å¤šå¼ åº“ï¼Œcanalçš„æ€§èƒ½ä¼šä¸ä¼šä¸‹é™ï¼Œä¼šä¸ä¼šå‡ºç°è¯»å–binlogæ—¥å¿—è¾ƒæ…¢ï¼Œå¯¼è‡´æ•°æ®åŒæ­¥å»¶è¿Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498727,"discussion_content":"è¯·ç»§ç»­å­¦ä¹ ã€Š19 | è·¨ç³»ç»Ÿå®æ—¶åŒæ­¥æ•°æ®ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿã€‹ï¼Œé‡Œé¢ä¼šè®²åˆ°å¦‚ä½•å°½é‡é™ä½åŒæ­¥æ—¶å»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592918172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508990,"avatar":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","nickname":"è¥¿é—¨å¹ç‰›","note":"","ucode":"E5D3624DDE1E83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285726,"discussion_content":"æ„Ÿè°¢è€å¸ˆå›å¤ï¼Œä¹‹å‰æ²¡çœ‹åˆ°ç¬¬19èŠ‚å†…å®¹ï¼Œåæ¥çœ‹åˆ°ä¹‹åï¼Œè¿™ä¸ªé—®é¢˜å·²ç»æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592921364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
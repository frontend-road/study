{"id":174513,"title":"53 | 安全增强：拿来即用的SSL-抓包暴露本质","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":203671,"user_name":"且行且珍惜","can_delete":false,"product_type":"c3","uid":1026425,"ip_address":"","ucode":"192060CE48A0D5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/79/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1586252463,"is_pvip":false,"replies":[{"id":78803,"content":"讲完其实我自己也不记得了，很多可能还是用的时候，自己再好好研究，好在大多不需要深究，呵呵","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1588054055,"ip_address":"","comment_id":203671,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师讲的很仔细。需要一定的功底。","like_count":5,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490927,"discussion_content":"讲完其实我自己也不记得了，很多可能还是用的时候，自己再好好研究，好在大多不需要深究，呵呵","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588054055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208491,"user_name":"黄宸","can_delete":false,"product_type":"c3","uid":1799585,"ip_address":"","ucode":"C346F5604B8724","user_header":"","comment_is_top":false,"comment_ctime":1587369482,"is_pvip":false,"replies":[{"id":78818,"content":"谢谢肯定，主要不这么解释，真的好难解释，而且接触懂了，也不容易记住，没有效果。所以才想着这种方式搞下，或许不严谨，但是有效果，就很欣慰了。","user_name":"作者回复","user_name_real":"stroller","uid":1638649,"ctime":1588055437,"ip_address":"","comment_id":208491,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"作为信息安全专业毕业，从事Java开发的程序员，这几节课听起来毫不费力。但是感受到了老师的用心，为那些没有信息安全基础的人专门构思了一个对话的例子。","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"傅健","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492478,"discussion_content":"谢谢肯定，主要不这么解释，真的好难解释，而且接触懂了，也不容易记住，没有效果。所以才想着这种方式搞下，或许不严谨，但是有效果，就很欣慰了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588055437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332961,"user_name":"flying eagle","can_delete":false,"product_type":"c3","uid":1155616,"ip_address":"","ucode":"1020359D893C04","user_header":"https://static001.geekbang.org/account/avatar/00/11/a2/20/7549ff2b.jpg","comment_is_top":false,"comment_ctime":1643889733,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"总结下 ssl&#47;tls（我抓包显示的 TLS 协议和老师不一样，不太清楚原因）的加密过程：\n1. 首先三次握手建立 TCP 连接\n2. 客户端发送 Hello，携带随机串和加密算法套件供服务端选择\n3. 服务端发送 Hello 携带随机串以及证书给客户端\n4. 客户端生成PreMaster，用证书中公钥加密后发给服务端，并且根据前面的两个随机串以及 PreMaster生成对称秘钥，将报文加密发给服务端进行测试\n5. 服务端用私钥解密 PreMaster加上两个随机串生成同样的对称秘钥，也加密报文进行测试，声明接下来开始加密\n6. 双方使用对称加密进行通信","like_count":0},{"had_liked":false,"id":329265,"user_name":"江东","can_delete":false,"product_type":"c3","uid":1793475,"ip_address":"","ucode":"391A62BC7039B3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/c3/69019d24.jpg","comment_is_top":false,"comment_ctime":1641262564,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"秀秀秀 ","like_count":0},{"had_liked":false,"id":263522,"user_name":"cxdhjx","can_delete":false,"product_type":"c3","uid":2292690,"ip_address":"","ucode":"FF13B4B75611C3","user_header":"","comment_is_top":false,"comment_ctime":1606150186,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"这是我听过最直白易懂的SSL解析，钱花的值","like_count":0},{"had_liked":false,"id":229997,"user_name":"卢俊杰 _JAY","can_delete":false,"product_type":"c3","uid":1050867,"ip_address":"","ucode":"9A4EA3A518A27C","user_header":"https://static001.geekbang.org/account/avatar/00/10/08/f3/4b10028e.jpg","comment_is_top":false,"comment_ctime":1593238386,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"这是我听过最直白易懂的SSL解析，以前一直以为走的是非对称加密，现在发现走的是对称加密，只是交换pre master key的时候的一下是非对称。谢谢老师！","like_count":0},{"had_liked":false,"id":205182,"user_name":"小马哥","can_delete":false,"product_type":"c3","uid":1107153,"ip_address":"","ucode":"376833AC2A1589","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/d1/002f9955.jpg","comment_is_top":false,"comment_ctime":1586566740,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"老师，ssl连接之前的tcp握手，是不是少了一个蓝色的箭头，也就是客户端的ack, 还是说ssl的时候，这一步就不需要了。","like_count":0,"discussions":[{"author":{"id":1113158,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fc/46/3aa83d38.jpg","nickname":"C10K","note":"","ucode":"737829986EA941","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349268,"discussion_content":"pre master key 是什么? 怎么理解？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613032424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239557,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ea/05/c0d8014d.jpg","nickname":"一道阳光","note":"","ucode":"F35207CCCEC6E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299549,"discussion_content":"少了一个吧，老师说三次握手之后，才开始ssl。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597733594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}